{"version":3,"sources":["webpack:///./src/views/cmd.vue","webpack:///cmd.vue","webpack:///./src/libs/wetty/hterm_all.js","webpack:///./src/libs/wetty/socket.io.js","webpack:///./src/libs/wetty/wetty.js","webpack:///./src/views/cmd.vue?8f6c","webpack:///./src/views/cmd.vue?875c"],"names":["lib","runtimeDependencies_","initCallbacks_","rtdep","var_args","source","Error","ex","stackArray","stack","split","length","replace","i","arguments","path","Array","apply","ary","push","ensureRuntimeDependencies_","passed","sourceList","names","obj","window","self","console","warn","registerInit","name","callback","init","onInit","opt_logFunction","initNext","rec","shift","f","alarm","setTimeout","colors","re_","hex16","hex24","rgb","RegExp","rgba","rgbx","x11rgb","rgbToX11","value","scale","v","Math","min","toString","match","x11ToCSS","parseInt","substr","round","nameToRGB","splice","arrayToRGBA","map","hexToRGB","arg","convert","hex","re","rgbToHex","crackRGB","zpad","normalizeCSS","def","test","alpha","setAlpha","mix","base","tint","percent","ary1","ary2","diff","color","error","colorNames","toLowerCase","stockColorPalette","colorPalette","replaceVars","str","vars","fn","varname","rv","functions","encodeURI","encodeURIComponent","escapeHTML","m","getAcceptLanguages","chrome","i18n","navigator","language","parseQuery","queryString","pairs","pair","decodeURIComponent","getURL","runtime","clamp","max","lpad","opt_ch","String","number","getWhitespace","whitespace","opt_ms","ms","getStack","timeout","log","wrapperGenerator","clearTimeout","opt_ignoreFrames","ignoreFrames","stackObject","smartFloorDivide","numerator","denominator","val","ceiling","ceil","floor","MessageManager","languages","languages_","el","indexOf","unshift","messages","prototype","addMessages","defs","key","placeholders","message","content","findAndLoadMessages","pattern","onComplete","concat","loaded","failed","onLanguageComplete","state","tryNextLanguage","loadMessages","replaceReferences","bind","url","onSuccess","opt_onError","xhr","XMLHttpRequest","onloadend","status","JSON","parse","responseText","open","send","msg","args","index","get","msgname","opt_args","opt_default","getMessage","processI18nAttributes","dom","thunk","toUpperCase","nodes","querySelectorAll","node","getAttribute","tagName","id","textContent","setAttribute","PreferenceManager","storage","opt_prefix","storageObserver_","onStorageChange_","isActive_","activate","trace","prefix","prefRecords_","globalObservers_","childFactories_","childLists_","DEFAULT_VALUE","Record","defaultValue","currentValue","observers","addObserver","observer","removeObserver","stringify","deactivate","readStorage","opt_callback","pendingChildren","onChildComplete","keys","Object","getItems","items","prefixLength","needSync","syncChildList","definePreference","opt_onChange","record","changeDefault","definePreferences","defaults","defineChildren","listName","childFactory","onChildListChange_","addObservers","global","notifyAll","notifyChange_","createChild","opt_hint","opt_id","ids","random","childManager","resetAll","set","removeChild","prefs","getChild","childList","diffChildLists","a","b","added","removed","common","onChildStorage","currentIds","oldIds","managerIndex","reset","removeItem","changed","removeItems","forEach","newValue","changeDefaults","oldValue","setItem","exportAsJson","childIds","json","importFromJson","childPrefManager","lastIndexOf","resource","resources_","add","type","data","opt_defaultValue","getData","getDataUrl","Storage","Chrome","storage_","observers_","onChanged","addListener","onChanged_","changes","areaname","clear","getItem","setItems","remove","Local","localStorage","addEventListener","onStorage_","e","storageArea","prevValue","curValue","o","Memory","TestManager","opt_log","Log","createTestRun","opt_cx","TestRun","onTestRunComplete","testRun","logFunction_","s","pending_","prefix_","prefixStack_","pushPrefix","join","popPrefix","pop","print","println","flush","Suite","suiteName","ctor","testManager","cx","testManager_","setup","addTest","disableTest","getTest","getTestList","testList_","testMap_","__proto__","subclasses","testName","testFunction","Test","fullName","setDefaults","k","preamble","result","postamble","suiteClass","testFunction_","run","suite","Result","TestComplete","completeTest_","FAILED","failures","passes","startDate","duration","currentResult","maxFailures","panic","testQueue_","ALL_TESTS","selectTest","selectSuite","opt_pattern","selectCount","testList","j","selectPattern","onUncaughtException_","file","line","expectedErrorMessage_","when","PENDING","onTestRunComplete_","opt_skipTimeout","Date","msToSeconds_","summarize","onerror","onResultComplete","currentSuite","PASSED","runNextTest_","onResultReComplete","lateStatus","secs","toFixed","timeout_","expectErrorMessage","onTimeout_","requestTime","opt_throw","assertEQ","actual","expected","opt_name","format","fail","getCallerLocation_","assert","frameIndex","frame","opt_message","pass","UTF8Decoder","bytesLeft","codePoint","lowerBound","decode","ret","c","charCodeAt","charAt","fromCharCode","decodeUTF8","utf8","encodeUTF8","d","wc","nulWidth","controlWidth","regardCjkAmbiguous","cjkAmbiguousWidth","combining","ambiguous","isSpace","ucs","mid","isCjkAmbiguous","charWidth","charWidthRegardAmbiguous","charWidthDisregardAmbiguous","strWidth","width","start","opt_width","startIndex","endIndex","undefined","substring","end","hterm","windowType","zoomWarningMessage","notifyCopyMessage","desktopNotificationTitle","testDeps","onWindow","onTab","tab","windows","windowId","defaultStorage","userAgent","version","sync","isPackagedApp","getManifest","manifest","app","background","tabs","getCurrent","getClientSize","getBoundingClientRect","getClientWidth","getClientHeight","height","copySelectionToClipboard","document","execCommand","firefoxException","pasteFromClipboard","Size","resize","clone","setTo","that","equals","RowCol","row","column","opt_overflow","overflow","move","Frame","terminal","opt_options","terminal_","div_","options","iframe_","container_","messageChannel_","onMessage_","sendTerminalInfo_","port1","onmessage","onMessage","onLoad","onLoad_","MessageChannel","contentWindow","postMessage","argv","messagePort","port2","acceptLanguages","foregroundColor","getForegroundColor","backgroundColor","getBackgroundColor","cursorColor","getCursorColor","fontSize","getFontSize","fontFamily","getFontFamily","baseURL","onCloseClicked_","close","parentNode","onClose","show","opt","headerHeight","divSize","left","top","document_","container","createElement","style","cssText","header","appendChild","button","iframe","onload","Keyboard","keyboardElement_","handlers_","onBlur_","onKeyDown_","onKeyPress_","onKeyUp_","onTextInput_","keyMap","KeyMap","altGrMode","shiftInsertPaste","homeKeysScroll","pageKeysScroll","ctrlPlusMinusZeroZoom","ctrlCCopy","ctrlVPaste","applicationKeypad","applicationCursor","backspaceSendsBackspace","characterEncoding","metaSendsEscape","passMetaV","altSendsWhat","altIsMeta","altBackspaceIsMetaBackspace","altKeyPressed","mediaKeysAreFKeys","previousAltSendsWhat_","KeyActions","CANCEL","DEFAULT","PASS","STRIP","encode","vt","installKeyboard","element","handler","removeEventListener","uninstallKeyboard","onVTKeystroke","code","which","lowerKey","ctrlKey","metaKey","altKey","charCode","ch","keyCode","shiftKey","preventDefault","stopPropagation","preventChromeAppNonShiftDefault_","location","keyDef","keyDefs","resolvedActionType","getAction","action","control","alt","meta","isPrintable","keyCap","keyboard","normal","maskShiftKey","mod","unshifted","addKeyDef","addKeyDefs","resolve","ak","ac","bs","sh","ctl","med","ESC","CSI","SS3","onKeyInsert_","onKeyHome_","altey","scrollHome","onKeyEnd_","scrollEnd","onKeyPageUp_","scrollPageUp","onKeyDel_","onKeyPageDown_","scrollPageDown","onClear_","wipeContents","onCtrlNum_","passCtrlNumber","onAltNum_","passAltNumber","onMetaNum_","passMetaNumber","onCtrlC_","selection","getDocument","getSelection","isCollapsed","clearSelectionAfterCopy","collapseToEnd","prefs_","showOverlay","onCtrlN_","href","innerWidth","innerHeight","onCtrlV_","onMetaN_","outerWidth","outerHeight","onMetaC_","onMetaV_","onPlusMinusZero_","getZoomFactor","cap","setFontSize","size","Options","opt_copy","wraparound","reverseWraparound","originMode","autoCarriageReturn","cursorVisible","cursorBlink","insertMode","reverseVideo","bracketedPaste","profileId","call","defaultPreferences","PubSub","addBehavior","pubsub","subscribe","subject","unsubscribe","list","publish","opt_lastCallback","notifyList","Screen","opt_columnCount","rowsArray","columnCount_","textAttributes","TextAttributes","cursorPosition","cursorRowNode_","cursorNode_","cursorOffset_","getSize","getHeight","getWidth","setColumnCount","count","setCursorPosition","shiftRow","shiftRows","unshiftRow","unshiftRows","rows","popRow","popRows","pushRow","pushRows","insertRow","insertRows","removeRow","removeRows","invalidateCursorPosition","clearCursorRow","innerHTML","removeAttribute","text","isDefault","inverse","syncColors","createContainer","commitLineOverflow","rowNode","firstChild","ownerDocument","createTextNode","currentColumn","offset","nodeWidth","nextSibling","syncSelectionCaret","collapse","firefoxIgnoredException","splitNode_","afterNode","cloneNode","nodeSubstr","insertBefore","maybeClipCurrentRow","insertString","cursorNode","cursorNodeText","reverseOffset","ws","underline","strikethrough","wcNode","tileData","nodeType","tileNode","textDecoration","wsNode","matchesContainer","previousSibling","newNode","overwriteString","maxLength","deleteChars","currentCursorColumn","startLength","endLength","spaceNode","nextNode","emptyNode","getLineStartRow_","hasAttribute","getLineText_","rowText","getXRowAncestor_","nodeName","getPositionWithOverflow_","ancestorRow","position","getPositionWithinRow_","childNodes","currentNode","getNodeAndOffsetWithOverflow_","getNodeAndOffsetWithinRow_","nodeTextWidth","setRange_","range","startNodeAndOffset","endNodeAndOffset","setStart","setEnd","expandSelection","getRangeAt","startContainer","startPosition","startOffset","endPosition","endContainer","endOffset","leftMatch","rightMatch","insideMatch","lineUpToRange","leftRegularExpression","expandedStart","search","lineFromRange","rightRegularExpression","found","expandedEnd","addRange","ScrollPort","rowProvider","rowProvider_","characterSize","ruler_","Selection","currentRowNodeCache_","previousRowNodeCache_","lastScreenWidth_","lastScreenHeight_","selectionEnabled_","lastRowCount_","scrollWheelMultiplier_","isScrolledEnd","xrowCssRule_","currentScrollbarWidthPx","timeouts_","DEBUG_","scrollPort","scrollPort_","startRow","endRow","isMultiline","findFirstChild","parent","childAry","anchorFirst","anchorRow","startNode","anchorNode","anchorOffset","focusRow","endNode","focusNode","focusOffset","focusFirst","rowIndex","firstNode","decorate","div","src","onResize_","doc","contentDocument","body","head","styleSheets","cssRules","display","userCssLink_","screen_","onScroll_","onScrollWheel_","onCopy_","onPaste_","onBodyKeyDown_","rowNodes_","topSelectBag_","bottomSelectBag_","topFold_","bottomFold_","scrollArea_","svg_","createElementNS","pasteTarget_","contentEditable","handlePasteTargetTextInput_","setFontFamily","opt_smoothing","webkitFontSmoothing","syncCharacterSize","setUserCss","focus","setForegroundColor","setBackgroundColor","setBackgroundImage","image","backgroundImage","setBackgroundSize","backgroundSize","setBackgroundPosition","backgroundPosition","setCtrlVPaste","getScreenSize","getScreenWidth","getScreenHeight","getScreenNode","resetCache","setRowProvider","scheduleRedraw","invalidate","parentElement","topRowIndex","getTopRowIndex","bottomRowIndex","getBottomRowIndex","drawVisibleRows_","scheduleInvalidate","px","measureCharacterSize","opt_weight","rulerSpan_","rulerBaseline_","fontWeight","rulerSize","baseline","offsetTop","zoomFactor","currentScale","lineHeight","paddingTop","paddingBottom","clientWidth","syncScrollHeight","syncRowNodesDimensions_","scrollRowToBottom","getRowCount","screenSize","visibleRowCount","visibleRowsHeight","visibleRowTopMargin","visibleRowBottomMargin","marginBottom","topFoldOffset","offsetLeft","redraw","redraw_","resetSelectBags_","drawTopFold_","drawBottomFold_","lastChild","removeUntilNode","targetNode","deadNode","selectionStartRow","selectionEndRow","bottomFold","targetDrawCount","drawCount","fetchRowNode_","cacheRowNode_","getRowNode","selectAll","firstRow","lastRowIndex","lastRow","extend","getScrollMax_","scrollRowToTop","scrollTop","scrollMax","onScrollWheel","defaultPrevented","delta","detail","wheelDeltaY","onCopy","endBackfillIndex","getRowsText","startBackfillIndex","setScrollbarVisible","overflowY","setScrollWheelMoveMultipler","multiplier","Terminal","opt_profileId","profileId_","primaryScreen_","alternateScreen_","scrollbackRows_","tabStops_","defaultTabStops","vtScrollTop_","vtScrollBottom_","cursorShape_","cursorShape","BLOCK","cursorColor_","cursorBlinkCycle_","myOnCursorBlink_","onCursorBlink_","backgroundColor_","foregroundColor_","scrollOnOutput_","scrollOnKeystroke_","reportMouseEvents_","bellAudio_","bellNotificationList_","desktopNotificationBell_","savedOptions_","options_","VT","io","IO","enableMouseDragScroll","copyOnSelect","mousePasteButton","useDefaultWindowCopy","realizeSize_","setDefaultTabStops","setProfile","onTerminalReady","BEAM","UNDERLINE","tabWidth","Notification","permission","glmap","CharacterMap","maps","received","setCursorBlink","setCursorColor","isNaN","resetColorPalette","enable8BitControl","syncBoldSafeState","enableBoldAsBright","enableClipboardWrite","enableDec12","syncFontFamily","maxStringSequence","syncMousePasteButton","osx","getPrefs","setBracketedPaste","borderColor","setSelectionEnabled","runCommandClass","commandClass","argString","environment","command","onExit","isPrimaryScreen","wcCssRule_","enableBold","normalSize","boldSize","isBoldSafe","saveCursor","getTextAttributes","setTextAttributes","setWindowTitle","title","restoreCursor","cursor","clearCursorOverflow","setCursorShape","shape","restyleCursor_","getCursorShape","setWidth","columnCount","scheduleSyncCursorPosition_","setHeight","rowCount","realizeWidth_","realizeHeight_","onTerminalResize_","deltaColumns","deltaRows","getRowText","scrollbackCount","appendRows_","setVTScrollRegion","screen","bottom","renumberRows_","clearHome","syncCursorPosition_","clearAllTabStops","softReset","setCursorVisible","forwardTabStop","setCursorColumn","backwardTabStop","setTabStop","clearTabStopAtCursor","opt_start","w","interpret","oncontextmenu","onMouse","onMouse_","screenNode","onFocusChange_","className","scrollBlockerNode_","event","setReverseVideo","screenIndex","cursorRow","extraRows","scheduleScrollDown_","setAbsoluteCursorPosition","moveRows_","fromIndex","toIndex","opt_screen","newLine","didOverflow","tokens","splitWidecharString","scrollBottom","getVTScrollTop","getVTScrollBottom","cursorAtEndOfScreen","vtScrollUp","lineFeed","formFeed","reverseLineFeed","currentRow","insertLines","setAbsoluteCursorRow","eraseToLeft","eraseToRight","opt_count","maxCount","DEFAULT_COLOR","eraseLine","eraseAbove","eraseBelow","fill","col","moveCount","deleteLines","moveStart","insertSpace","deleted","vtScrollDown","setRelativeCursorPosition","getCursorColumn","getCursorRow","scheduleRedraw_","scrollDown","cursorUp","cursorDown","minHeight","maxHeight","cursorLeft","newRow","newColumn","cursorRight","ringBell","bellSquelchTimeout_","play","bellSequelchTimeout_","hasFocus","n","onclick","closeBellNotifications_","setOriginMode","setInsertMode","setAutoCarriageReturn","setWraparound","setReverseWraparound","setAlternateMode","opacity","cursorRowIndex","borderBottomStyle","borderLeftStyle","syncCursor","showZoomWarning_","zoomWarningNode_","opt_timeout","overlayNode_","overlaySize","overlayTimeout_","paste","copyStringToClipboard","copySource","selectAllChildren","getSelectionText","string","processedByTerminalHandler_","terminalRow","clientY","terminalColumn","clientX","mouseReport","MOUSE_REPORT_DISABLED","engaged","focused","sendString","isNewSize","previousIO_","createFrame","setTerminalProfile","profileName","keyboardCaptured_","onTerminalResize","writeUTF8","writelnUTF8","writeUTF16","writelnUTF16","foregroundSource","SRC_DEFAULT","backgroundSource","foreground","defaultForeground","defaultBackground","bold","faint","italic","blink","invisible","SRC_RGB","setDocument","opt_textContent","span","fontStyle","getBrightIndex","colorToMakeFaint","containersMatch","obj1","obj2","containerIsDefault","style1","style2","nodeSubstring","onTerminalMouse_","parseState_","ParseState","parseUnknown_","leadingModifier_","trailingModifier_","allowColumnWidthChanges_","oscTimeLimit_","cc1","CC1","cc1Pattern_","utf8Decoder_","warnUnimplemented","G0","G1","G2","G3","GL","GR","savedState_","CursorState","MOUSE_REPORT_CLICK","MOUSE_REPORT_DRAG","defaultFunction","opt_buf","buf","pos","func","resetParseFunction","resetBuf","resetArguments","opt_arg_zero","iarg","argnum","advance","peekRemainingBuf","peekChar","consumeChar","isComplete","vt_","save","restore","response","x","y","parseState","nextControl","dispatch","parseCSI_","parseUntilStringTerminator_","nextTerminator","abortReason","ignore","setANSIMode","setDECMode","scrollOnOutput","scrollOnKeystroke","OSC","VT52","parseESC","parseOSC","pairCount","responseArray","pairNumber","colorIndex","colorValue","atob","get256","getTrueColor","r","g","attrs","trueColor","glkeys","glre","grmap","glkey","grkey","grkeys","grre","t","module","exports","define","amd","p","l","h","nsps","forceNew","multiplex","u","query","socket","hasOwnProperty","Symbol","iterator","constructor","managers","protocol","connect","Manager","Socket","host","port","exec","authority","ipv6uri","documentElement","firebug","exception","table","$1","useColors","namespace","humanize","slice","Function","debug","env","DEBUG","formatArgs","load","local","formatters","enable","fun","array","nextTick","browser","versions","on","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask","prev","curr","coerce","enabled","skips","disable","parseFloat","long","BINARY_EVENT","BINARY_ACK","attachments","nsp","deconstructPacket","packet","buffers","removeBlobs","reconstructor","Number","types","reconPack","ERROR","CONNECT","DISCONNECT","EVENT","ACK","Encoder","Decoder","base64","takeBinaryData","destroy","finishedReconstruction","reconstructPacket","toJSON","SyntaxError","TypeError","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","A","C","B","S","T","E","_","valueOf","N","O","P","R","D","q","U","M","L","I","H","z","J","X","runInContext","function","object","JSON3","noConflict","webpackPolyfill","deprecate","paths","children","_callbacks","listeners","hasListeners","_placeholder","num","Blob","File","FileReader","readAsArrayBuffer","isArray","Buffer","isBuffer","ArrayBuffer","subs","opts","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","jitter","readyState","uri","connecting","lastPing","encoding","packetBuffer","encoder","decoder","autoConnect","emitAll","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","onopen","cleanup","onping","onpong","ondata","ondecoded","write","processPacketQueue","disconnect","onclose","onreconnect","parser","hostname","secure","agent","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","extraHeaders","localAddress","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","setTransport","onDrain","onPacket","onError","probe","supportsBinary","upgrading","pause","onOpen","onHandshake","setPing","filterUpgrades","onHeartbeat","ping","sendPacket","writable","compress","xdomain","xscheme","polling","websocket","XDomainRequest","requestTimeout","xd","xs","method","async","isBinary","create","requests","abort","Request","request","doWrite","sendXhr","doPoll","onData","pollXhr","setDisableHeaderCheck","setRequestHeader","responseType","withCredentials","hasXDR","onreadystatechange","requestsCount","getResponseHeader","Uint8Array","attachEvent","doOpen","poll","decodePayload","doClose","encodePayload","b64","description","decodePacket","packets","encodeBase64Packet","byteLength","buffer","encodePacket","pong","noop","readAsDataURL","btoa","decodeBase64Packet","encodePayloadAsBlob","encodePayloadAsArrayBuffer","decodePayloadAsBinary","reduce","byteOffset","append","getBlob","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","___eio","script","form","getElementsByTagName","iframeId","target","area","submit","usingBrowserWebSocket","WebSocket","MozWebSocket","check","headers","supports","binary","addEventListeners","acks","receiveBuffer","sendBuffer","connected","disconnected","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","flags","onpacket","onconnect","onevent","onack","ondisconnect","ack","emitBuffered","factor","pow","term","Wetty","argv_","pid_","sendString_","initSocket","getElementById","hash"],"mappings":"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","file":"1.chunk.js","sourcesContent":["\n/* styles */\nrequire(\"!!../../node_modules/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4591c7c3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!autoprefixer-loader!less-loader!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./cmd.vue\")\n\nvar Component = require(\"!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./cmd.vue\"),\n  /* template */\n  require(\"!!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4591c7c3\\\"}!../../node_modules/._vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./cmd.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/laynezhou/graduate_design/simulay/simulay-front/src/views/cmd.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] cmd.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4591c7c3\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4591c7c3\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/cmd.vue\n// module id = 25\n// module chunks = 1","<style>\n    .terminal {\n        display: block;\n        position: relative;\n        width: 100%;\n        height: 500px;\n        background-color: black;\n    }\n</style>\n\n<template>\n    <div>\n        <div class=\"terminal\" id=\"terminal\"></div>\n    </div>\n</template>\n<script>\n    import initSocket from '../libs/wetty/wetty'\n\n    export default {\n        data () {\n            return {\n            }\n        },\n        computed: {\n        },\n        mounted() {\n            console.log('inti socket');\n            initSocket();\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// cmd.vue?d1ac4b08","// This file was generated by libdot/bin/concat.sh.\n// It has been marked read-only for your safety.  Rather\n// than edit it directly, please modify one of these source\n// files...\n//\n// libdot/js/lib.js\n// libdot/js/lib_colors.js\n// libdot/js/lib_f.js\n// libdot/js/lib_message_manager.js\n// libdot/js/lib_preference_manager.js\n// libdot/js/lib_resource.js\n// libdot/js/lib_storage.js\n// libdot/js/lib_storage_chrome.js\n// libdot/js/lib_storage_local.js\n// libdot/js/lib_storage_memory.js\n// libdot/js/lib_test_manager.js\n// libdot/js/lib_utf8.js\n// libdot/js/lib_wc.js\n// hterm/js/hterm.js\n// hterm/js/hterm_frame.js\n// hterm/js/hterm_keyboard.js\n// hterm/js/hterm_keyboard_keymap.js\n// hterm/js/hterm_options.js\n// hterm/js/hterm_preference_manager.js\n// hterm/js/hterm_pubsub.js\n// hterm/js/hterm_screen.js\n// hterm/js/hterm_scrollport.js\n// hterm/js/hterm_terminal.js\n// hterm/js/hterm_terminal_io.js\n// hterm/js/hterm_text_attributes.js\n// hterm/js/hterm_vt.js\n// hterm/js/hterm_vt_character_map.js\n//\n\n// SOURCE FILE: libdot/js/lib.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n// if (typeof lib != 'undefined')\n//   throw new Error('Global \"lib\" object already exists.');\n\nvar lib = {};\n\n/**\n * Map of \"dependency\" to [\"source\", ...].\n *\n * Each dependency is a object name, like \"lib.fs\", \"source\" is the url that\n * depdends on the object.\n */\nlib.runtimeDependencies_ = {};\n\n/**\n * List of functions that need to be invoked during library initialization.\n *\n * Each element in the initCallbacks_ array is itself a two-element array.\n * Element 0 is a short string describing the owner of the init routine, useful\n * for debugging.  Element 1 is the callback function.\n */\nlib.initCallbacks_ = [];\n\n/**\n * Records a runtime dependency.\n *\n * This can be useful when you want to express a run-time dependency at\n * compile time.  It is not intended to be a full-fledged library system or\n * dependency tracker.  It's just there to make it possible to debug the\n * deps without running all the code.\n *\n * Object names are specified as strings.  For example...\n *\n *     lib.rtdep('lib.colors', 'lib.PreferenceManager');\n *\n * Object names need not be rooted by 'lib'.  You may use this to declare a\n * dependency on any object.\n *\n * The client program may call lib.ensureRuntimeDependencies() at startup in\n * order to ensure that all runtime dependencies have been met.\n *\n * @param {string} var_args One or more objects specified as strings.\n */\nlib.rtdep = function(var_args) {\n  var source;\n\n  try {\n    throw new Error();\n  } catch (ex) {\n    var stackArray = ex.stack.split('\\n');\n    // In Safari, the resulting stackArray will only have 2 elements and the\n    // individual strings are formatted differently.\n    if (stackArray.length >= 3) {\n      source = stackArray[2].replace(/^\\s*at\\s+/, '');\n    } else {\n      source = stackArray[1].replace(/^\\s*global code@/, '');\n    }\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var path = arguments[i];\n    if (path instanceof Array) {\n      lib.rtdep.apply(lib, path);\n    } else {\n      var ary = this.runtimeDependencies_[path];\n      if (!ary)\n        ary = this.runtimeDependencies_[path] = [];\n      ary.push(source);\n    }\n  }\n};\n\n/**\n * Ensures that all runtime dependencies are met, or an exception is thrown.\n *\n * Every unmet runtime dependency will be logged to the JS console.  If at\n * least one dependency is unmet this will raise an exception.\n */\nlib.ensureRuntimeDependencies_ = function() {\n  var passed = true;\n\n  for (var path in lib.runtimeDependencies_) {\n    var sourceList = lib.runtimeDependencies_[path];\n    var names = path.split('.');\n\n    // In a document context 'window' is the global object.  In a worker it's\n    // called 'self'.\n    var obj = (window || self);\n    for (var i = 0; i < names.length; i++) {\n      if (!(names[i] in obj)) {\n        console.warn('Missing \"' + path + '\" is needed by', sourceList);\n        passed = false;\n        break;\n      }\n\n      obj = obj[names[i]];\n    }\n  }\n\n  if (!passed)\n    throw new Error('Failed runtime dependency check');\n};\n\n/**\n * Register an initialization function.\n *\n * The initialization functions are invoked in registration order when\n * lib.init() is invoked.  Each function will receive a single parameter, which\n * is a function to be invoked when it completes its part of the initialization.\n *\n * @param {string} name A short descriptive name of the init routine useful for\n *     debugging.\n * @param {function(function)} callback The initialization function to register.\n * @return {function} The callback parameter.\n */\nlib.registerInit = function(name, callback) {\n  lib.initCallbacks_.push([name, callback]);\n  return callback;\n};\n\n/**\n * Initialize the library.\n *\n * This will ensure that all registered runtime dependencies are met, and\n * invoke any registered initialization functions.\n *\n * Initialization is asynchronous.  The library is not ready for use until\n * the onInit function is invoked.\n *\n * @param {function()} onInit The function to invoke when initialization is\n *     complete.\n * @param {function(*)} opt_logFunction An optional function to send\n *     initialization related log messages to.\n */\nlib.init = function(onInit, opt_logFunction) {\n  var ary = lib.initCallbacks_;\n\n  var initNext = function() {\n    if (ary.length) {\n      var rec = ary.shift();\n      if (opt_logFunction)\n        opt_logFunction('init: ' + rec[0]);\n      rec[1](lib.f.alarm(initNext));\n    } else {\n      onInit();\n    }\n  };\n\n  if (typeof onInit != 'function')\n    throw new Error('Missing or invalid argument: onInit');\n\n  //lib.ensureRuntimeDependencies_();\n\n  setTimeout(initNext, 0);\n};\n// SOURCE FILE: libdot/js/lib_colors.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * Namespace for color utilities.\n */\nlib.colors = {};\n\n/**\n * First, some canned regular expressions we're going to use in this file.\n *\n *\n *                              BRACE YOURSELF\n *\n *                                 ,~~~~.\n *                                 |>_< ~~\n *                                3`---'-/.\n *                                3:::::\\v\\\n *                               =o=:::::\\,\\\n *                                | :::::\\,,\\\n *\n *                        THE REGULAR EXPRESSIONS\n *                               ARE COMING.\n *\n * There's no way to break long RE literals in JavaScript.  Fix that why don't\n * you?  Oh, and also there's no way to write a string that doesn't interpret\n * escapes.\n *\n * Instead, we stoop to this .replace() trick.\n */\nlib.colors.re_ = {\n  // CSS hex color, #RGB.\n  hex16: /#([a-f0-9])([a-f0-9])([a-f0-9])/i,\n\n  // CSS hex color, #RRGGBB.\n  hex24: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/i,\n\n  // CSS rgb color, rgb(rrr,ggg,bbb).\n  rgb: new RegExp(\n      ('^/s*rgb/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,' +\n       '/s*(/d{1,3})/s*/)/s*$'\n       ).replace(/\\//g, '\\\\'), 'i'),\n\n  // CSS rgb color, rgb(rrr,ggg,bbb,aaa).\n  rgba: new RegExp(\n      ('^/s*rgba/s*' +\n       '/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*' +\n       '(?:,/s*(/d+(?:/./d+)?)/s*)/)/s*$'\n       ).replace(/\\//g, '\\\\'), 'i'),\n\n  // Either RGB or RGBA.\n  rgbx: new RegExp(\n      ('^/s*rgba?/s*' +\n       '/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*' +\n       '(?:,/s*(/d+(?:/./d+)?)/s*)?/)/s*$'\n       ).replace(/\\//g, '\\\\'), 'i'),\n\n  // An X11 \"rgb:ddd/ddd/ddd\" value.\n  x11rgb: /^\\s*rgb:([a-f0-9]{1,4})\\/([a-f0-9]{1,4})\\/([a-f0-9]{1,4})\\s*$/i,\n\n  // English color name.\n  name: /[a-z][a-z0-9\\s]+/,\n};\n\n/**\n * Convert a CSS rgb(ddd,ddd,ddd) color value into an X11 color value.\n *\n * Other CSS color values are ignored to ensure sanitary data handling.\n *\n * Each 'ddd' component is a one byte value specified in decimal.\n *\n * @param {string} value The CSS color value to convert.\n * @return {string} The X11 color value or null if the value could not be\n *     converted.\n */\nlib.colors.rgbToX11 = function(value) {\n  function scale(v) {\n    v = (Math.min(v, 255) * 257).toString(16);\n    while (v.length < 4)\n      v = '0' + v;\n\n    return v;\n  }\n\n  var ary = value.match(lib.colors.re_.rgbx);\n  if (!ary)\n    return null;\n\n  return 'rgb:' + scale(ary[1]) + '/' + scale(ary[2]) + '/' + scale(ary[3]);\n};\n\n/**\n * Convert an X11 color value into an CSS rgb(...) color value.\n *\n * The X11 value may be an X11 color name, or an RGB value of the form\n * rgb:hhhh/hhhh/hhhh.  If a component value is less than 4 digits it is\n * padded out to 4, then scaled down to fit in a single byte.\n *\n * @param {string} value The X11 color value to convert.\n * @return {string} The CSS color value or null if the value could not be\n *     converted.\n */\nlib.colors.x11ToCSS = function(v) {\n  function scale(v) {\n    // Pad out values with less than four digits.  This padding (probably)\n    // matches xterm.  It's difficult to say for sure since xterm seems to\n    // arrive at a padded value and then perform some combination of\n    // gamma correction, color space tranformation, and quantization.\n\n    if (v.length == 1) {\n      // Single digits pad out to four by repeating the character.  \"f\" becomes\n      // \"ffff\".  Scaling down a hex value of this pattern by 257 is the same\n      // as cutting off one byte.  We skip the middle step and just double\n      // the character.\n      return parseInt(v + v, 16);\n    }\n\n    if (v.length == 2) {\n      // Similar deal here.  X11 pads two digit values by repeating the\n      // byte (or scale up by 257).  Since we're going to scale it back\n      // down anyway, we can just return the original value.\n      return parseInt(v, 16);\n    }\n\n    if (v.length == 3) {\n      // Three digit values seem to be padded by repeating the final digit.\n      // e.g. 10f becomes 10ff.\n      v = v + v.substr(2);\n    }\n\n    // Scale down the 2 byte value.\n    return Math.round(parseInt(v, 16) / 257);\n  }\n\n  var ary = v.match(lib.colors.re_.x11rgb);\n  if (!ary)\n    return lib.colors.nameToRGB(v);\n\n  ary.splice(0, 1);\n  return lib.colors.arrayToRGBA(ary.map(scale));\n};\n\n/**\n * Converts one or more CSS '#RRGGBB' color values into their rgb(...)\n * form.\n *\n * Arrays are converted in place. If a value cannot be converted, it is\n * replaced with null.\n *\n * @param {string|Array.<string>} A single RGB value or array of RGB values to\n *     convert.\n * @return {string|Array.<string>} The converted value or values.\n */\nlib.colors.hexToRGB = function(arg) {\n  function convert(hex) {\n    var re = (hex.length == 4) ?\n        lib.colors.re_.hex16 : lib.colors.re_.hex24;\n    var ary = hex.match(re)\n    if (!ary)\n      return null;\n\n    return 'rgb(' + parseInt(ary[1], 16) + ', ' +\n        parseInt(ary[2], 16) + ', ' +\n        parseInt(ary[3], 16) + ')';\n  }\n\n  if (arg instanceof Array) {\n    for (var i = 0; i < arg.length; i++) {\n      arg[i] = convert(arg[i]);\n    }\n  } else {\n    arg = convert(arg);\n  }\n\n  return arg;\n};\n\n/**\n * Converts one or more CSS rgb(...) forms into their '#RRGGBB' color values.\n *\n * If given an rgba(...) form, the alpha field is thrown away.\n *\n * Arrays are converted in place. If a value cannot be converted, it is\n * replaced with null.\n *\n * @param {string|Array.<string>} A single rgb(...) value or array of rgb(...)\n *     values to convert.\n * @return {string|Array.<string>} The converted value or values.\n */\nlib.colors.rgbToHex = function(arg) {\n  function convert(rgb) {\n    var ary = lib.colors.crackRGB(rgb);\n    return '#' + lib.f.zpad(((parseInt(ary[0]) << 16) |\n                             (parseInt(ary[1]) <<  8) |\n                             (parseInt(ary[2]) <<  0)).toString(16), 6);\n  }\n\n  if (arg instanceof Array) {\n    for (var i = 0; i < arg.length; i++) {\n      arg[i] = convert(arg[i]);\n    }\n  } else {\n    arg = convert(arg);\n  }\n\n  return arg;\n};\n\n/**\n * Take any valid css color definition and turn it into an rgb or rgba value.\n *\n * Returns null if the value could not be normalized.\n */\nlib.colors.normalizeCSS = function(def) {\n  if (def.substr(0, 1) == '#')\n    return lib.colors.hexToRGB(def);\n\n  if (lib.colors.re_.rgbx.test(def))\n    return def;\n\n  return lib.colors.nameToRGB(def);\n};\n\n/**\n * Convert a 3 or 4 element array into an rgba(...) string.\n */\nlib.colors.arrayToRGBA = function(ary) {\n  var alpha = (ary.length > 3) ? ary[3] : 1;\n  return 'rgba(' + ary[0] + ', ' + ary[1] + ', ' + ary[2] + ', ' + alpha + ')';\n};\n\n/**\n * Overwrite the alpha channel of an rgb/rgba color.\n */\nlib.colors.setAlpha = function(rgb, alpha) {\n  var ary = lib.colors.crackRGB(rgb);\n  ary[3] = alpha;\n  return lib.colors.arrayToRGBA(ary);\n};\n\n/**\n * Mix a percentage of a tint color into a base color.\n */\nlib.colors.mix = function(base, tint, percent) {\n  var ary1 = lib.colors.crackRGB(base);\n  var ary2 = lib.colors.crackRGB(tint);\n\n  for (var i = 0; i < 4; ++i) {\n    var diff = ary2[i] - ary1[i];\n    ary1[i] = Math.round(parseInt(ary1[i]) + diff * percent);\n  }\n\n  return lib.colors.arrayToRGBA(ary1);\n};\n\n/**\n * Split an rgb/rgba color into an array of its components.\n *\n * On success, a 4 element array will be returned.  For rgb values, the alpha\n * will be set to 1.\n */\nlib.colors.crackRGB = function(color) {\n  if (color.substr(0, 4) == 'rgba') {\n    var ary = color.match(lib.colors.re_.rgba);\n    if (ary) {\n      ary.shift();\n      return ary;\n    }\n  } else {\n    var ary = color.match(lib.colors.re_.rgb);\n    if (ary) {\n      ary.shift();\n      ary.push(1);\n      return ary;\n    }\n  }\n\n  console.error('Couldn\\'t crack: ' + color);\n  return null;\n};\n\n/**\n * Convert an X11 color name into a CSS rgb(...) value.\n *\n * Names are stripped of spaces and converted to lowercase.  If the name is\n * unknown, null is returned.\n *\n * This list of color name to RGB mapping is derived from the stock X11\n * rgb.txt file.\n *\n * @param {string} name The color name to convert.\n * @return {string} The corresponding CSS rgb(...) value.\n */\nlib.colors.nameToRGB = function(name) {\n  if (name in lib.colors.colorNames)\n    return lib.colors.colorNames[name];\n\n  name = name.toLowerCase();\n  if (name in lib.colors.colorNames)\n    return lib.colors.colorNames[name];\n\n  name = name.replace(/\\s+/g, '');\n  if (name in lib.colors.colorNames)\n    return lib.colors.colorNames[name];\n\n  return null;\n};\n\n/**\n * The stock color palette.\n */\nlib.colors.stockColorPalette = lib.colors.hexToRGB\n  ([// The \"ANSI 16\"...\n    '#000000', '#CC0000', '#4E9A06', '#C4A000',\n    '#3465A4', '#75507B', '#06989A', '#D3D7CF',\n    '#555753', '#EF2929', '#00BA13', '#FCE94F',\n    '#729FCF', '#F200CB', '#00B5BD', '#EEEEEC',\n\n    // The 6x6 color cubes...\n    '#000000', '#00005F', '#000087', '#0000AF', '#0000D7', '#0000FF',\n    '#005F00', '#005F5F', '#005F87', '#005FAF', '#005FD7', '#005FFF',\n    '#008700', '#00875F', '#008787', '#0087AF', '#0087D7', '#0087FF',\n    '#00AF00', '#00AF5F', '#00AF87', '#00AFAF', '#00AFD7', '#00AFFF',\n    '#00D700', '#00D75F', '#00D787', '#00D7AF', '#00D7D7', '#00D7FF',\n    '#00FF00', '#00FF5F', '#00FF87', '#00FFAF', '#00FFD7', '#00FFFF',\n\n    '#5F0000', '#5F005F', '#5F0087', '#5F00AF', '#5F00D7', '#5F00FF',\n    '#5F5F00', '#5F5F5F', '#5F5F87', '#5F5FAF', '#5F5FD7', '#5F5FFF',\n    '#5F8700', '#5F875F', '#5F8787', '#5F87AF', '#5F87D7', '#5F87FF',\n    '#5FAF00', '#5FAF5F', '#5FAF87', '#5FAFAF', '#5FAFD7', '#5FAFFF',\n    '#5FD700', '#5FD75F', '#5FD787', '#5FD7AF', '#5FD7D7', '#5FD7FF',\n    '#5FFF00', '#5FFF5F', '#5FFF87', '#5FFFAF', '#5FFFD7', '#5FFFFF',\n\n    '#870000', '#87005F', '#870087', '#8700AF', '#8700D7', '#8700FF',\n    '#875F00', '#875F5F', '#875F87', '#875FAF', '#875FD7', '#875FFF',\n    '#878700', '#87875F', '#878787', '#8787AF', '#8787D7', '#8787FF',\n    '#87AF00', '#87AF5F', '#87AF87', '#87AFAF', '#87AFD7', '#87AFFF',\n    '#87D700', '#87D75F', '#87D787', '#87D7AF', '#87D7D7', '#87D7FF',\n    '#87FF00', '#87FF5F', '#87FF87', '#87FFAF', '#87FFD7', '#87FFFF',\n\n    '#AF0000', '#AF005F', '#AF0087', '#AF00AF', '#AF00D7', '#AF00FF',\n    '#AF5F00', '#AF5F5F', '#AF5F87', '#AF5FAF', '#AF5FD7', '#AF5FFF',\n    '#AF8700', '#AF875F', '#AF8787', '#AF87AF', '#AF87D7', '#AF87FF',\n    '#AFAF00', '#AFAF5F', '#AFAF87', '#AFAFAF', '#AFAFD7', '#AFAFFF',\n    '#AFD700', '#AFD75F', '#AFD787', '#AFD7AF', '#AFD7D7', '#AFD7FF',\n    '#AFFF00', '#AFFF5F', '#AFFF87', '#AFFFAF', '#AFFFD7', '#AFFFFF',\n\n    '#D70000', '#D7005F', '#D70087', '#D700AF', '#D700D7', '#D700FF',\n    '#D75F00', '#D75F5F', '#D75F87', '#D75FAF', '#D75FD7', '#D75FFF',\n    '#D78700', '#D7875F', '#D78787', '#D787AF', '#D787D7', '#D787FF',\n    '#D7AF00', '#D7AF5F', '#D7AF87', '#D7AFAF', '#D7AFD7', '#D7AFFF',\n    '#D7D700', '#D7D75F', '#D7D787', '#D7D7AF', '#D7D7D7', '#D7D7FF',\n    '#D7FF00', '#D7FF5F', '#D7FF87', '#D7FFAF', '#D7FFD7', '#D7FFFF',\n\n    '#FF0000', '#FF005F', '#FF0087', '#FF00AF', '#FF00D7', '#FF00FF',\n    '#FF5F00', '#FF5F5F', '#FF5F87', '#FF5FAF', '#FF5FD7', '#FF5FFF',\n    '#FF8700', '#FF875F', '#FF8787', '#FF87AF', '#FF87D7', '#FF87FF',\n    '#FFAF00', '#FFAF5F', '#FFAF87', '#FFAFAF', '#FFAFD7', '#FFAFFF',\n    '#FFD700', '#FFD75F', '#FFD787', '#FFD7AF', '#FFD7D7', '#FFD7FF',\n    '#FFFF00', '#FFFF5F', '#FFFF87', '#FFFFAF', '#FFFFD7', '#FFFFFF',\n\n    // The greyscale ramp...\n    '#080808', '#121212', '#1C1C1C', '#262626', '#303030', '#3A3A3A',\n    '#444444', '#4E4E4E', '#585858', '#626262', '#6C6C6C', '#767676',\n    '#808080', '#8A8A8A', '#949494', '#9E9E9E', '#A8A8A8', '#B2B2B2',\n    '#BCBCBC', '#C6C6C6', '#D0D0D0', '#DADADA', '#E4E4E4', '#EEEEEE'\n   ]);\n\n/**\n * The current color palette, possibly with user changes.\n */\nlib.colors.colorPalette = lib.colors.stockColorPalette;\n\n/**\n * Named colors according to the stock X11 rgb.txt file.\n */\nlib.colors.colorNames = {\n  \"aliceblue\": \"rgb(240, 248, 255)\",\n  \"antiquewhite\": \"rgb(250, 235, 215)\",\n  \"antiquewhite1\": \"rgb(255, 239, 219)\",\n  \"antiquewhite2\": \"rgb(238, 223, 204)\",\n  \"antiquewhite3\": \"rgb(205, 192, 176)\",\n  \"antiquewhite4\": \"rgb(139, 131, 120)\",\n  \"aquamarine\": \"rgb(127, 255, 212)\",\n  \"aquamarine1\": \"rgb(127, 255, 212)\",\n  \"aquamarine2\": \"rgb(118, 238, 198)\",\n  \"aquamarine3\": \"rgb(102, 205, 170)\",\n  \"aquamarine4\": \"rgb(69, 139, 116)\",\n  \"azure\": \"rgb(240, 255, 255)\",\n  \"azure1\": \"rgb(240, 255, 255)\",\n  \"azure2\": \"rgb(224, 238, 238)\",\n  \"azure3\": \"rgb(193, 205, 205)\",\n  \"azure4\": \"rgb(131, 139, 139)\",\n  \"beige\": \"rgb(245, 245, 220)\",\n  \"bisque\": \"rgb(255, 228, 196)\",\n  \"bisque1\": \"rgb(255, 228, 196)\",\n  \"bisque2\": \"rgb(238, 213, 183)\",\n  \"bisque3\": \"rgb(205, 183, 158)\",\n  \"bisque4\": \"rgb(139, 125, 107)\",\n  \"black\": \"rgb(0, 0, 0)\",\n  \"blanchedalmond\": \"rgb(255, 235, 205)\",\n  \"blue\": \"rgb(0, 0, 255)\",\n  \"blue1\": \"rgb(0, 0, 255)\",\n  \"blue2\": \"rgb(0, 0, 238)\",\n  \"blue3\": \"rgb(0, 0, 205)\",\n  \"blue4\": \"rgb(0, 0, 139)\",\n  \"blueviolet\": \"rgb(138, 43, 226)\",\n  \"brown\": \"rgb(165, 42, 42)\",\n  \"brown1\": \"rgb(255, 64, 64)\",\n  \"brown2\": \"rgb(238, 59, 59)\",\n  \"brown3\": \"rgb(205, 51, 51)\",\n  \"brown4\": \"rgb(139, 35, 35)\",\n  \"burlywood\": \"rgb(222, 184, 135)\",\n  \"burlywood1\": \"rgb(255, 211, 155)\",\n  \"burlywood2\": \"rgb(238, 197, 145)\",\n  \"burlywood3\": \"rgb(205, 170, 125)\",\n  \"burlywood4\": \"rgb(139, 115, 85)\",\n  \"cadetblue\": \"rgb(95, 158, 160)\",\n  \"cadetblue1\": \"rgb(152, 245, 255)\",\n  \"cadetblue2\": \"rgb(142, 229, 238)\",\n  \"cadetblue3\": \"rgb(122, 197, 205)\",\n  \"cadetblue4\": \"rgb(83, 134, 139)\",\n  \"chartreuse\": \"rgb(127, 255, 0)\",\n  \"chartreuse1\": \"rgb(127, 255, 0)\",\n  \"chartreuse2\": \"rgb(118, 238, 0)\",\n  \"chartreuse3\": \"rgb(102, 205, 0)\",\n  \"chartreuse4\": \"rgb(69, 139, 0)\",\n  \"chocolate\": \"rgb(210, 105, 30)\",\n  \"chocolate1\": \"rgb(255, 127, 36)\",\n  \"chocolate2\": \"rgb(238, 118, 33)\",\n  \"chocolate3\": \"rgb(205, 102, 29)\",\n  \"chocolate4\": \"rgb(139, 69, 19)\",\n  \"coral\": \"rgb(255, 127, 80)\",\n  \"coral1\": \"rgb(255, 114, 86)\",\n  \"coral2\": \"rgb(238, 106, 80)\",\n  \"coral3\": \"rgb(205, 91, 69)\",\n  \"coral4\": \"rgb(139, 62, 47)\",\n  \"cornflowerblue\": \"rgb(100, 149, 237)\",\n  \"cornsilk\": \"rgb(255, 248, 220)\",\n  \"cornsilk1\": \"rgb(255, 248, 220)\",\n  \"cornsilk2\": \"rgb(238, 232, 205)\",\n  \"cornsilk3\": \"rgb(205, 200, 177)\",\n  \"cornsilk4\": \"rgb(139, 136, 120)\",\n  \"cyan\": \"rgb(0, 255, 255)\",\n  \"cyan1\": \"rgb(0, 255, 255)\",\n  \"cyan2\": \"rgb(0, 238, 238)\",\n  \"cyan3\": \"rgb(0, 205, 205)\",\n  \"cyan4\": \"rgb(0, 139, 139)\",\n  \"darkblue\": \"rgb(0, 0, 139)\",\n  \"darkcyan\": \"rgb(0, 139, 139)\",\n  \"darkgoldenrod\": \"rgb(184, 134, 11)\",\n  \"darkgoldenrod1\": \"rgb(255, 185, 15)\",\n  \"darkgoldenrod2\": \"rgb(238, 173, 14)\",\n  \"darkgoldenrod3\": \"rgb(205, 149, 12)\",\n  \"darkgoldenrod4\": \"rgb(139, 101, 8)\",\n  \"darkgray\": \"rgb(169, 169, 169)\",\n  \"darkgreen\": \"rgb(0, 100, 0)\",\n  \"darkgrey\": \"rgb(169, 169, 169)\",\n  \"darkkhaki\": \"rgb(189, 183, 107)\",\n  \"darkmagenta\": \"rgb(139, 0, 139)\",\n  \"darkolivegreen\": \"rgb(85, 107, 47)\",\n  \"darkolivegreen1\": \"rgb(202, 255, 112)\",\n  \"darkolivegreen2\": \"rgb(188, 238, 104)\",\n  \"darkolivegreen3\": \"rgb(162, 205, 90)\",\n  \"darkolivegreen4\": \"rgb(110, 139, 61)\",\n  \"darkorange\": \"rgb(255, 140, 0)\",\n  \"darkorange1\": \"rgb(255, 127, 0)\",\n  \"darkorange2\": \"rgb(238, 118, 0)\",\n  \"darkorange3\": \"rgb(205, 102, 0)\",\n  \"darkorange4\": \"rgb(139, 69, 0)\",\n  \"darkorchid\": \"rgb(153, 50, 204)\",\n  \"darkorchid1\": \"rgb(191, 62, 255)\",\n  \"darkorchid2\": \"rgb(178, 58, 238)\",\n  \"darkorchid3\": \"rgb(154, 50, 205)\",\n  \"darkorchid4\": \"rgb(104, 34, 139)\",\n  \"darkred\": \"rgb(139, 0, 0)\",\n  \"darksalmon\": \"rgb(233, 150, 122)\",\n  \"darkseagreen\": \"rgb(143, 188, 143)\",\n  \"darkseagreen1\": \"rgb(193, 255, 193)\",\n  \"darkseagreen2\": \"rgb(180, 238, 180)\",\n  \"darkseagreen3\": \"rgb(155, 205, 155)\",\n  \"darkseagreen4\": \"rgb(105, 139, 105)\",\n  \"darkslateblue\": \"rgb(72, 61, 139)\",\n  \"darkslategray\": \"rgb(47, 79, 79)\",\n  \"darkslategray1\": \"rgb(151, 255, 255)\",\n  \"darkslategray2\": \"rgb(141, 238, 238)\",\n  \"darkslategray3\": \"rgb(121, 205, 205)\",\n  \"darkslategray4\": \"rgb(82, 139, 139)\",\n  \"darkslategrey\": \"rgb(47, 79, 79)\",\n  \"darkturquoise\": \"rgb(0, 206, 209)\",\n  \"darkviolet\": \"rgb(148, 0, 211)\",\n  \"debianred\": \"rgb(215, 7, 81)\",\n  \"deeppink\": \"rgb(255, 20, 147)\",\n  \"deeppink1\": \"rgb(255, 20, 147)\",\n  \"deeppink2\": \"rgb(238, 18, 137)\",\n  \"deeppink3\": \"rgb(205, 16, 118)\",\n  \"deeppink4\": \"rgb(139, 10, 80)\",\n  \"deepskyblue\": \"rgb(0, 191, 255)\",\n  \"deepskyblue1\": \"rgb(0, 191, 255)\",\n  \"deepskyblue2\": \"rgb(0, 178, 238)\",\n  \"deepskyblue3\": \"rgb(0, 154, 205)\",\n  \"deepskyblue4\": \"rgb(0, 104, 139)\",\n  \"dimgray\": \"rgb(105, 105, 105)\",\n  \"dimgrey\": \"rgb(105, 105, 105)\",\n  \"dodgerblue\": \"rgb(30, 144, 255)\",\n  \"dodgerblue1\": \"rgb(30, 144, 255)\",\n  \"dodgerblue2\": \"rgb(28, 134, 238)\",\n  \"dodgerblue3\": \"rgb(24, 116, 205)\",\n  \"dodgerblue4\": \"rgb(16, 78, 139)\",\n  \"firebrick\": \"rgb(178, 34, 34)\",\n  \"firebrick1\": \"rgb(255, 48, 48)\",\n  \"firebrick2\": \"rgb(238, 44, 44)\",\n  \"firebrick3\": \"rgb(205, 38, 38)\",\n  \"firebrick4\": \"rgb(139, 26, 26)\",\n  \"floralwhite\": \"rgb(255, 250, 240)\",\n  \"forestgreen\": \"rgb(34, 139, 34)\",\n  \"gainsboro\": \"rgb(220, 220, 220)\",\n  \"ghostwhite\": \"rgb(248, 248, 255)\",\n  \"gold\": \"rgb(255, 215, 0)\",\n  \"gold1\": \"rgb(255, 215, 0)\",\n  \"gold2\": \"rgb(238, 201, 0)\",\n  \"gold3\": \"rgb(205, 173, 0)\",\n  \"gold4\": \"rgb(139, 117, 0)\",\n  \"goldenrod\": \"rgb(218, 165, 32)\",\n  \"goldenrod1\": \"rgb(255, 193, 37)\",\n  \"goldenrod2\": \"rgb(238, 180, 34)\",\n  \"goldenrod3\": \"rgb(205, 155, 29)\",\n  \"goldenrod4\": \"rgb(139, 105, 20)\",\n  \"gray\": \"rgb(190, 190, 190)\",\n  \"gray0\": \"rgb(0, 0, 0)\",\n  \"gray1\": \"rgb(3, 3, 3)\",\n  \"gray10\": \"rgb(26, 26, 26)\",\n  \"gray100\": \"rgb(255, 255, 255)\",\n  \"gray11\": \"rgb(28, 28, 28)\",\n  \"gray12\": \"rgb(31, 31, 31)\",\n  \"gray13\": \"rgb(33, 33, 33)\",\n  \"gray14\": \"rgb(36, 36, 36)\",\n  \"gray15\": \"rgb(38, 38, 38)\",\n  \"gray16\": \"rgb(41, 41, 41)\",\n  \"gray17\": \"rgb(43, 43, 43)\",\n  \"gray18\": \"rgb(46, 46, 46)\",\n  \"gray19\": \"rgb(48, 48, 48)\",\n  \"gray2\": \"rgb(5, 5, 5)\",\n  \"gray20\": \"rgb(51, 51, 51)\",\n  \"gray21\": \"rgb(54, 54, 54)\",\n  \"gray22\": \"rgb(56, 56, 56)\",\n  \"gray23\": \"rgb(59, 59, 59)\",\n  \"gray24\": \"rgb(61, 61, 61)\",\n  \"gray25\": \"rgb(64, 64, 64)\",\n  \"gray26\": \"rgb(66, 66, 66)\",\n  \"gray27\": \"rgb(69, 69, 69)\",\n  \"gray28\": \"rgb(71, 71, 71)\",\n  \"gray29\": \"rgb(74, 74, 74)\",\n  \"gray3\": \"rgb(8, 8, 8)\",\n  \"gray30\": \"rgb(77, 77, 77)\",\n  \"gray31\": \"rgb(79, 79, 79)\",\n  \"gray32\": \"rgb(82, 82, 82)\",\n  \"gray33\": \"rgb(84, 84, 84)\",\n  \"gray34\": \"rgb(87, 87, 87)\",\n  \"gray35\": \"rgb(89, 89, 89)\",\n  \"gray36\": \"rgb(92, 92, 92)\",\n  \"gray37\": \"rgb(94, 94, 94)\",\n  \"gray38\": \"rgb(97, 97, 97)\",\n  \"gray39\": \"rgb(99, 99, 99)\",\n  \"gray4\": \"rgb(10, 10, 10)\",\n  \"gray40\": \"rgb(102, 102, 102)\",\n  \"gray41\": \"rgb(105, 105, 105)\",\n  \"gray42\": \"rgb(107, 107, 107)\",\n  \"gray43\": \"rgb(110, 110, 110)\",\n  \"gray44\": \"rgb(112, 112, 112)\",\n  \"gray45\": \"rgb(115, 115, 115)\",\n  \"gray46\": \"rgb(117, 117, 117)\",\n  \"gray47\": \"rgb(120, 120, 120)\",\n  \"gray48\": \"rgb(122, 122, 122)\",\n  \"gray49\": \"rgb(125, 125, 125)\",\n  \"gray5\": \"rgb(13, 13, 13)\",\n  \"gray50\": \"rgb(127, 127, 127)\",\n  \"gray51\": \"rgb(130, 130, 130)\",\n  \"gray52\": \"rgb(133, 133, 133)\",\n  \"gray53\": \"rgb(135, 135, 135)\",\n  \"gray54\": \"rgb(138, 138, 138)\",\n  \"gray55\": \"rgb(140, 140, 140)\",\n  \"gray56\": \"rgb(143, 143, 143)\",\n  \"gray57\": \"rgb(145, 145, 145)\",\n  \"gray58\": \"rgb(148, 148, 148)\",\n  \"gray59\": \"rgb(150, 150, 150)\",\n  \"gray6\": \"rgb(15, 15, 15)\",\n  \"gray60\": \"rgb(153, 153, 153)\",\n  \"gray61\": \"rgb(156, 156, 156)\",\n  \"gray62\": \"rgb(158, 158, 158)\",\n  \"gray63\": \"rgb(161, 161, 161)\",\n  \"gray64\": \"rgb(163, 163, 163)\",\n  \"gray65\": \"rgb(166, 166, 166)\",\n  \"gray66\": \"rgb(168, 168, 168)\",\n  \"gray67\": \"rgb(171, 171, 171)\",\n  \"gray68\": \"rgb(173, 173, 173)\",\n  \"gray69\": \"rgb(176, 176, 176)\",\n  \"gray7\": \"rgb(18, 18, 18)\",\n  \"gray70\": \"rgb(179, 179, 179)\",\n  \"gray71\": \"rgb(181, 181, 181)\",\n  \"gray72\": \"rgb(184, 184, 184)\",\n  \"gray73\": \"rgb(186, 186, 186)\",\n  \"gray74\": \"rgb(189, 189, 189)\",\n  \"gray75\": \"rgb(191, 191, 191)\",\n  \"gray76\": \"rgb(194, 194, 194)\",\n  \"gray77\": \"rgb(196, 196, 196)\",\n  \"gray78\": \"rgb(199, 199, 199)\",\n  \"gray79\": \"rgb(201, 201, 201)\",\n  \"gray8\": \"rgb(20, 20, 20)\",\n  \"gray80\": \"rgb(204, 204, 204)\",\n  \"gray81\": \"rgb(207, 207, 207)\",\n  \"gray82\": \"rgb(209, 209, 209)\",\n  \"gray83\": \"rgb(212, 212, 212)\",\n  \"gray84\": \"rgb(214, 214, 214)\",\n  \"gray85\": \"rgb(217, 217, 217)\",\n  \"gray86\": \"rgb(219, 219, 219)\",\n  \"gray87\": \"rgb(222, 222, 222)\",\n  \"gray88\": \"rgb(224, 224, 224)\",\n  \"gray89\": \"rgb(227, 227, 227)\",\n  \"gray9\": \"rgb(23, 23, 23)\",\n  \"gray90\": \"rgb(229, 229, 229)\",\n  \"gray91\": \"rgb(232, 232, 232)\",\n  \"gray92\": \"rgb(235, 235, 235)\",\n  \"gray93\": \"rgb(237, 237, 237)\",\n  \"gray94\": \"rgb(240, 240, 240)\",\n  \"gray95\": \"rgb(242, 242, 242)\",\n  \"gray96\": \"rgb(245, 245, 245)\",\n  \"gray97\": \"rgb(247, 247, 247)\",\n  \"gray98\": \"rgb(250, 250, 250)\",\n  \"gray99\": \"rgb(252, 252, 252)\",\n  \"green\": \"rgb(0, 255, 0)\",\n  \"green1\": \"rgb(0, 255, 0)\",\n  \"green2\": \"rgb(0, 238, 0)\",\n  \"green3\": \"rgb(0, 205, 0)\",\n  \"green4\": \"rgb(0, 139, 0)\",\n  \"greenyellow\": \"rgb(173, 255, 47)\",\n  \"grey\": \"rgb(190, 190, 190)\",\n  \"grey0\": \"rgb(0, 0, 0)\",\n  \"grey1\": \"rgb(3, 3, 3)\",\n  \"grey10\": \"rgb(26, 26, 26)\",\n  \"grey100\": \"rgb(255, 255, 255)\",\n  \"grey11\": \"rgb(28, 28, 28)\",\n  \"grey12\": \"rgb(31, 31, 31)\",\n  \"grey13\": \"rgb(33, 33, 33)\",\n  \"grey14\": \"rgb(36, 36, 36)\",\n  \"grey15\": \"rgb(38, 38, 38)\",\n  \"grey16\": \"rgb(41, 41, 41)\",\n  \"grey17\": \"rgb(43, 43, 43)\",\n  \"grey18\": \"rgb(46, 46, 46)\",\n  \"grey19\": \"rgb(48, 48, 48)\",\n  \"grey2\": \"rgb(5, 5, 5)\",\n  \"grey20\": \"rgb(51, 51, 51)\",\n  \"grey21\": \"rgb(54, 54, 54)\",\n  \"grey22\": \"rgb(56, 56, 56)\",\n  \"grey23\": \"rgb(59, 59, 59)\",\n  \"grey24\": \"rgb(61, 61, 61)\",\n  \"grey25\": \"rgb(64, 64, 64)\",\n  \"grey26\": \"rgb(66, 66, 66)\",\n  \"grey27\": \"rgb(69, 69, 69)\",\n  \"grey28\": \"rgb(71, 71, 71)\",\n  \"grey29\": \"rgb(74, 74, 74)\",\n  \"grey3\": \"rgb(8, 8, 8)\",\n  \"grey30\": \"rgb(77, 77, 77)\",\n  \"grey31\": \"rgb(79, 79, 79)\",\n  \"grey32\": \"rgb(82, 82, 82)\",\n  \"grey33\": \"rgb(84, 84, 84)\",\n  \"grey34\": \"rgb(87, 87, 87)\",\n  \"grey35\": \"rgb(89, 89, 89)\",\n  \"grey36\": \"rgb(92, 92, 92)\",\n  \"grey37\": \"rgb(94, 94, 94)\",\n  \"grey38\": \"rgb(97, 97, 97)\",\n  \"grey39\": \"rgb(99, 99, 99)\",\n  \"grey4\": \"rgb(10, 10, 10)\",\n  \"grey40\": \"rgb(102, 102, 102)\",\n  \"grey41\": \"rgb(105, 105, 105)\",\n  \"grey42\": \"rgb(107, 107, 107)\",\n  \"grey43\": \"rgb(110, 110, 110)\",\n  \"grey44\": \"rgb(112, 112, 112)\",\n  \"grey45\": \"rgb(115, 115, 115)\",\n  \"grey46\": \"rgb(117, 117, 117)\",\n  \"grey47\": \"rgb(120, 120, 120)\",\n  \"grey48\": \"rgb(122, 122, 122)\",\n  \"grey49\": \"rgb(125, 125, 125)\",\n  \"grey5\": \"rgb(13, 13, 13)\",\n  \"grey50\": \"rgb(127, 127, 127)\",\n  \"grey51\": \"rgb(130, 130, 130)\",\n  \"grey52\": \"rgb(133, 133, 133)\",\n  \"grey53\": \"rgb(135, 135, 135)\",\n  \"grey54\": \"rgb(138, 138, 138)\",\n  \"grey55\": \"rgb(140, 140, 140)\",\n  \"grey56\": \"rgb(143, 143, 143)\",\n  \"grey57\": \"rgb(145, 145, 145)\",\n  \"grey58\": \"rgb(148, 148, 148)\",\n  \"grey59\": \"rgb(150, 150, 150)\",\n  \"grey6\": \"rgb(15, 15, 15)\",\n  \"grey60\": \"rgb(153, 153, 153)\",\n  \"grey61\": \"rgb(156, 156, 156)\",\n  \"grey62\": \"rgb(158, 158, 158)\",\n  \"grey63\": \"rgb(161, 161, 161)\",\n  \"grey64\": \"rgb(163, 163, 163)\",\n  \"grey65\": \"rgb(166, 166, 166)\",\n  \"grey66\": \"rgb(168, 168, 168)\",\n  \"grey67\": \"rgb(171, 171, 171)\",\n  \"grey68\": \"rgb(173, 173, 173)\",\n  \"grey69\": \"rgb(176, 176, 176)\",\n  \"grey7\": \"rgb(18, 18, 18)\",\n  \"grey70\": \"rgb(179, 179, 179)\",\n  \"grey71\": \"rgb(181, 181, 181)\",\n  \"grey72\": \"rgb(184, 184, 184)\",\n  \"grey73\": \"rgb(186, 186, 186)\",\n  \"grey74\": \"rgb(189, 189, 189)\",\n  \"grey75\": \"rgb(191, 191, 191)\",\n  \"grey76\": \"rgb(194, 194, 194)\",\n  \"grey77\": \"rgb(196, 196, 196)\",\n  \"grey78\": \"rgb(199, 199, 199)\",\n  \"grey79\": \"rgb(201, 201, 201)\",\n  \"grey8\": \"rgb(20, 20, 20)\",\n  \"grey80\": \"rgb(204, 204, 204)\",\n  \"grey81\": \"rgb(207, 207, 207)\",\n  \"grey82\": \"rgb(209, 209, 209)\",\n  \"grey83\": \"rgb(212, 212, 212)\",\n  \"grey84\": \"rgb(214, 214, 214)\",\n  \"grey85\": \"rgb(217, 217, 217)\",\n  \"grey86\": \"rgb(219, 219, 219)\",\n  \"grey87\": \"rgb(222, 222, 222)\",\n  \"grey88\": \"rgb(224, 224, 224)\",\n  \"grey89\": \"rgb(227, 227, 227)\",\n  \"grey9\": \"rgb(23, 23, 23)\",\n  \"grey90\": \"rgb(229, 229, 229)\",\n  \"grey91\": \"rgb(232, 232, 232)\",\n  \"grey92\": \"rgb(235, 235, 235)\",\n  \"grey93\": \"rgb(237, 237, 237)\",\n  \"grey94\": \"rgb(240, 240, 240)\",\n  \"grey95\": \"rgb(242, 242, 242)\",\n  \"grey96\": \"rgb(245, 245, 245)\",\n  \"grey97\": \"rgb(247, 247, 247)\",\n  \"grey98\": \"rgb(250, 250, 250)\",\n  \"grey99\": \"rgb(252, 252, 252)\",\n  \"honeydew\": \"rgb(240, 255, 240)\",\n  \"honeydew1\": \"rgb(240, 255, 240)\",\n  \"honeydew2\": \"rgb(224, 238, 224)\",\n  \"honeydew3\": \"rgb(193, 205, 193)\",\n  \"honeydew4\": \"rgb(131, 139, 131)\",\n  \"hotpink\": \"rgb(255, 105, 180)\",\n  \"hotpink1\": \"rgb(255, 110, 180)\",\n  \"hotpink2\": \"rgb(238, 106, 167)\",\n  \"hotpink3\": \"rgb(205, 96, 144)\",\n  \"hotpink4\": \"rgb(139, 58, 98)\",\n  \"indianred\": \"rgb(205, 92, 92)\",\n  \"indianred1\": \"rgb(255, 106, 106)\",\n  \"indianred2\": \"rgb(238, 99, 99)\",\n  \"indianred3\": \"rgb(205, 85, 85)\",\n  \"indianred4\": \"rgb(139, 58, 58)\",\n  \"ivory\": \"rgb(255, 255, 240)\",\n  \"ivory1\": \"rgb(255, 255, 240)\",\n  \"ivory2\": \"rgb(238, 238, 224)\",\n  \"ivory3\": \"rgb(205, 205, 193)\",\n  \"ivory4\": \"rgb(139, 139, 131)\",\n  \"khaki\": \"rgb(240, 230, 140)\",\n  \"khaki1\": \"rgb(255, 246, 143)\",\n  \"khaki2\": \"rgb(238, 230, 133)\",\n  \"khaki3\": \"rgb(205, 198, 115)\",\n  \"khaki4\": \"rgb(139, 134, 78)\",\n  \"lavender\": \"rgb(230, 230, 250)\",\n  \"lavenderblush\": \"rgb(255, 240, 245)\",\n  \"lavenderblush1\": \"rgb(255, 240, 245)\",\n  \"lavenderblush2\": \"rgb(238, 224, 229)\",\n  \"lavenderblush3\": \"rgb(205, 193, 197)\",\n  \"lavenderblush4\": \"rgb(139, 131, 134)\",\n  \"lawngreen\": \"rgb(124, 252, 0)\",\n  \"lemonchiffon\": \"rgb(255, 250, 205)\",\n  \"lemonchiffon1\": \"rgb(255, 250, 205)\",\n  \"lemonchiffon2\": \"rgb(238, 233, 191)\",\n  \"lemonchiffon3\": \"rgb(205, 201, 165)\",\n  \"lemonchiffon4\": \"rgb(139, 137, 112)\",\n  \"lightblue\": \"rgb(173, 216, 230)\",\n  \"lightblue1\": \"rgb(191, 239, 255)\",\n  \"lightblue2\": \"rgb(178, 223, 238)\",\n  \"lightblue3\": \"rgb(154, 192, 205)\",\n  \"lightblue4\": \"rgb(104, 131, 139)\",\n  \"lightcoral\": \"rgb(240, 128, 128)\",\n  \"lightcyan\": \"rgb(224, 255, 255)\",\n  \"lightcyan1\": \"rgb(224, 255, 255)\",\n  \"lightcyan2\": \"rgb(209, 238, 238)\",\n  \"lightcyan3\": \"rgb(180, 205, 205)\",\n  \"lightcyan4\": \"rgb(122, 139, 139)\",\n  \"lightgoldenrod\": \"rgb(238, 221, 130)\",\n  \"lightgoldenrod1\": \"rgb(255, 236, 139)\",\n  \"lightgoldenrod2\": \"rgb(238, 220, 130)\",\n  \"lightgoldenrod3\": \"rgb(205, 190, 112)\",\n  \"lightgoldenrod4\": \"rgb(139, 129, 76)\",\n  \"lightgoldenrodyellow\": \"rgb(250, 250, 210)\",\n  \"lightgray\": \"rgb(211, 211, 211)\",\n  \"lightgreen\": \"rgb(144, 238, 144)\",\n  \"lightgrey\": \"rgb(211, 211, 211)\",\n  \"lightpink\": \"rgb(255, 182, 193)\",\n  \"lightpink1\": \"rgb(255, 174, 185)\",\n  \"lightpink2\": \"rgb(238, 162, 173)\",\n  \"lightpink3\": \"rgb(205, 140, 149)\",\n  \"lightpink4\": \"rgb(139, 95, 101)\",\n  \"lightsalmon\": \"rgb(255, 160, 122)\",\n  \"lightsalmon1\": \"rgb(255, 160, 122)\",\n  \"lightsalmon2\": \"rgb(238, 149, 114)\",\n  \"lightsalmon3\": \"rgb(205, 129, 98)\",\n  \"lightsalmon4\": \"rgb(139, 87, 66)\",\n  \"lightseagreen\": \"rgb(32, 178, 170)\",\n  \"lightskyblue\": \"rgb(135, 206, 250)\",\n  \"lightskyblue1\": \"rgb(176, 226, 255)\",\n  \"lightskyblue2\": \"rgb(164, 211, 238)\",\n  \"lightskyblue3\": \"rgb(141, 182, 205)\",\n  \"lightskyblue4\": \"rgb(96, 123, 139)\",\n  \"lightslateblue\": \"rgb(132, 112, 255)\",\n  \"lightslategray\": \"rgb(119, 136, 153)\",\n  \"lightslategrey\": \"rgb(119, 136, 153)\",\n  \"lightsteelblue\": \"rgb(176, 196, 222)\",\n  \"lightsteelblue1\": \"rgb(202, 225, 255)\",\n  \"lightsteelblue2\": \"rgb(188, 210, 238)\",\n  \"lightsteelblue3\": \"rgb(162, 181, 205)\",\n  \"lightsteelblue4\": \"rgb(110, 123, 139)\",\n  \"lightyellow\": \"rgb(255, 255, 224)\",\n  \"lightyellow1\": \"rgb(255, 255, 224)\",\n  \"lightyellow2\": \"rgb(238, 238, 209)\",\n  \"lightyellow3\": \"rgb(205, 205, 180)\",\n  \"lightyellow4\": \"rgb(139, 139, 122)\",\n  \"limegreen\": \"rgb(50, 205, 50)\",\n  \"linen\": \"rgb(250, 240, 230)\",\n  \"magenta\": \"rgb(255, 0, 255)\",\n  \"magenta1\": \"rgb(255, 0, 255)\",\n  \"magenta2\": \"rgb(238, 0, 238)\",\n  \"magenta3\": \"rgb(205, 0, 205)\",\n  \"magenta4\": \"rgb(139, 0, 139)\",\n  \"maroon\": \"rgb(176, 48, 96)\",\n  \"maroon1\": \"rgb(255, 52, 179)\",\n  \"maroon2\": \"rgb(238, 48, 167)\",\n  \"maroon3\": \"rgb(205, 41, 144)\",\n  \"maroon4\": \"rgb(139, 28, 98)\",\n  \"mediumaquamarine\": \"rgb(102, 205, 170)\",\n  \"mediumblue\": \"rgb(0, 0, 205)\",\n  \"mediumorchid\": \"rgb(186, 85, 211)\",\n  \"mediumorchid1\": \"rgb(224, 102, 255)\",\n  \"mediumorchid2\": \"rgb(209, 95, 238)\",\n  \"mediumorchid3\": \"rgb(180, 82, 205)\",\n  \"mediumorchid4\": \"rgb(122, 55, 139)\",\n  \"mediumpurple\": \"rgb(147, 112, 219)\",\n  \"mediumpurple1\": \"rgb(171, 130, 255)\",\n  \"mediumpurple2\": \"rgb(159, 121, 238)\",\n  \"mediumpurple3\": \"rgb(137, 104, 205)\",\n  \"mediumpurple4\": \"rgb(93, 71, 139)\",\n  \"mediumseagreen\": \"rgb(60, 179, 113)\",\n  \"mediumslateblue\": \"rgb(123, 104, 238)\",\n  \"mediumspringgreen\": \"rgb(0, 250, 154)\",\n  \"mediumturquoise\": \"rgb(72, 209, 204)\",\n  \"mediumvioletred\": \"rgb(199, 21, 133)\",\n  \"midnightblue\": \"rgb(25, 25, 112)\",\n  \"mintcream\": \"rgb(245, 255, 250)\",\n  \"mistyrose\": \"rgb(255, 228, 225)\",\n  \"mistyrose1\": \"rgb(255, 228, 225)\",\n  \"mistyrose2\": \"rgb(238, 213, 210)\",\n  \"mistyrose3\": \"rgb(205, 183, 181)\",\n  \"mistyrose4\": \"rgb(139, 125, 123)\",\n  \"moccasin\": \"rgb(255, 228, 181)\",\n  \"navajowhite\": \"rgb(255, 222, 173)\",\n  \"navajowhite1\": \"rgb(255, 222, 173)\",\n  \"navajowhite2\": \"rgb(238, 207, 161)\",\n  \"navajowhite3\": \"rgb(205, 179, 139)\",\n  \"navajowhite4\": \"rgb(139, 121, 94)\",\n  \"navy\": \"rgb(0, 0, 128)\",\n  \"navyblue\": \"rgb(0, 0, 128)\",\n  \"oldlace\": \"rgb(253, 245, 230)\",\n  \"olivedrab\": \"rgb(107, 142, 35)\",\n  \"olivedrab1\": \"rgb(192, 255, 62)\",\n  \"olivedrab2\": \"rgb(179, 238, 58)\",\n  \"olivedrab3\": \"rgb(154, 205, 50)\",\n  \"olivedrab4\": \"rgb(105, 139, 34)\",\n  \"orange\": \"rgb(255, 165, 0)\",\n  \"orange1\": \"rgb(255, 165, 0)\",\n  \"orange2\": \"rgb(238, 154, 0)\",\n  \"orange3\": \"rgb(205, 133, 0)\",\n  \"orange4\": \"rgb(139, 90, 0)\",\n  \"orangered\": \"rgb(255, 69, 0)\",\n  \"orangered1\": \"rgb(255, 69, 0)\",\n  \"orangered2\": \"rgb(238, 64, 0)\",\n  \"orangered3\": \"rgb(205, 55, 0)\",\n  \"orangered4\": \"rgb(139, 37, 0)\",\n  \"orchid\": \"rgb(218, 112, 214)\",\n  \"orchid1\": \"rgb(255, 131, 250)\",\n  \"orchid2\": \"rgb(238, 122, 233)\",\n  \"orchid3\": \"rgb(205, 105, 201)\",\n  \"orchid4\": \"rgb(139, 71, 137)\",\n  \"palegoldenrod\": \"rgb(238, 232, 170)\",\n  \"palegreen\": \"rgb(152, 251, 152)\",\n  \"palegreen1\": \"rgb(154, 255, 154)\",\n  \"palegreen2\": \"rgb(144, 238, 144)\",\n  \"palegreen3\": \"rgb(124, 205, 124)\",\n  \"palegreen4\": \"rgb(84, 139, 84)\",\n  \"paleturquoise\": \"rgb(175, 238, 238)\",\n  \"paleturquoise1\": \"rgb(187, 255, 255)\",\n  \"paleturquoise2\": \"rgb(174, 238, 238)\",\n  \"paleturquoise3\": \"rgb(150, 205, 205)\",\n  \"paleturquoise4\": \"rgb(102, 139, 139)\",\n  \"palevioletred\": \"rgb(219, 112, 147)\",\n  \"palevioletred1\": \"rgb(255, 130, 171)\",\n  \"palevioletred2\": \"rgb(238, 121, 159)\",\n  \"palevioletred3\": \"rgb(205, 104, 137)\",\n  \"palevioletred4\": \"rgb(139, 71, 93)\",\n  \"papayawhip\": \"rgb(255, 239, 213)\",\n  \"peachpuff\": \"rgb(255, 218, 185)\",\n  \"peachpuff1\": \"rgb(255, 218, 185)\",\n  \"peachpuff2\": \"rgb(238, 203, 173)\",\n  \"peachpuff3\": \"rgb(205, 175, 149)\",\n  \"peachpuff4\": \"rgb(139, 119, 101)\",\n  \"peru\": \"rgb(205, 133, 63)\",\n  \"pink\": \"rgb(255, 192, 203)\",\n  \"pink1\": \"rgb(255, 181, 197)\",\n  \"pink2\": \"rgb(238, 169, 184)\",\n  \"pink3\": \"rgb(205, 145, 158)\",\n  \"pink4\": \"rgb(139, 99, 108)\",\n  \"plum\": \"rgb(221, 160, 221)\",\n  \"plum1\": \"rgb(255, 187, 255)\",\n  \"plum2\": \"rgb(238, 174, 238)\",\n  \"plum3\": \"rgb(205, 150, 205)\",\n  \"plum4\": \"rgb(139, 102, 139)\",\n  \"powderblue\": \"rgb(176, 224, 230)\",\n  \"purple\": \"rgb(160, 32, 240)\",\n  \"purple1\": \"rgb(155, 48, 255)\",\n  \"purple2\": \"rgb(145, 44, 238)\",\n  \"purple3\": \"rgb(125, 38, 205)\",\n  \"purple4\": \"rgb(85, 26, 139)\",\n  \"red\": \"rgb(255, 0, 0)\",\n  \"red1\": \"rgb(255, 0, 0)\",\n  \"red2\": \"rgb(238, 0, 0)\",\n  \"red3\": \"rgb(205, 0, 0)\",\n  \"red4\": \"rgb(139, 0, 0)\",\n  \"rosybrown\": \"rgb(188, 143, 143)\",\n  \"rosybrown1\": \"rgb(255, 193, 193)\",\n  \"rosybrown2\": \"rgb(238, 180, 180)\",\n  \"rosybrown3\": \"rgb(205, 155, 155)\",\n  \"rosybrown4\": \"rgb(139, 105, 105)\",\n  \"royalblue\": \"rgb(65, 105, 225)\",\n  \"royalblue1\": \"rgb(72, 118, 255)\",\n  \"royalblue2\": \"rgb(67, 110, 238)\",\n  \"royalblue3\": \"rgb(58, 95, 205)\",\n  \"royalblue4\": \"rgb(39, 64, 139)\",\n  \"saddlebrown\": \"rgb(139, 69, 19)\",\n  \"salmon\": \"rgb(250, 128, 114)\",\n  \"salmon1\": \"rgb(255, 140, 105)\",\n  \"salmon2\": \"rgb(238, 130, 98)\",\n  \"salmon3\": \"rgb(205, 112, 84)\",\n  \"salmon4\": \"rgb(139, 76, 57)\",\n  \"sandybrown\": \"rgb(244, 164, 96)\",\n  \"seagreen\": \"rgb(46, 139, 87)\",\n  \"seagreen1\": \"rgb(84, 255, 159)\",\n  \"seagreen2\": \"rgb(78, 238, 148)\",\n  \"seagreen3\": \"rgb(67, 205, 128)\",\n  \"seagreen4\": \"rgb(46, 139, 87)\",\n  \"seashell\": \"rgb(255, 245, 238)\",\n  \"seashell1\": \"rgb(255, 245, 238)\",\n  \"seashell2\": \"rgb(238, 229, 222)\",\n  \"seashell3\": \"rgb(205, 197, 191)\",\n  \"seashell4\": \"rgb(139, 134, 130)\",\n  \"sienna\": \"rgb(160, 82, 45)\",\n  \"sienna1\": \"rgb(255, 130, 71)\",\n  \"sienna2\": \"rgb(238, 121, 66)\",\n  \"sienna3\": \"rgb(205, 104, 57)\",\n  \"sienna4\": \"rgb(139, 71, 38)\",\n  \"skyblue\": \"rgb(135, 206, 235)\",\n  \"skyblue1\": \"rgb(135, 206, 255)\",\n  \"skyblue2\": \"rgb(126, 192, 238)\",\n  \"skyblue3\": \"rgb(108, 166, 205)\",\n  \"skyblue4\": \"rgb(74, 112, 139)\",\n  \"slateblue\": \"rgb(106, 90, 205)\",\n  \"slateblue1\": \"rgb(131, 111, 255)\",\n  \"slateblue2\": \"rgb(122, 103, 238)\",\n  \"slateblue3\": \"rgb(105, 89, 205)\",\n  \"slateblue4\": \"rgb(71, 60, 139)\",\n  \"slategray\": \"rgb(112, 128, 144)\",\n  \"slategray1\": \"rgb(198, 226, 255)\",\n  \"slategray2\": \"rgb(185, 211, 238)\",\n  \"slategray3\": \"rgb(159, 182, 205)\",\n  \"slategray4\": \"rgb(108, 123, 139)\",\n  \"slategrey\": \"rgb(112, 128, 144)\",\n  \"snow\": \"rgb(255, 250, 250)\",\n  \"snow1\": \"rgb(255, 250, 250)\",\n  \"snow2\": \"rgb(238, 233, 233)\",\n  \"snow3\": \"rgb(205, 201, 201)\",\n  \"snow4\": \"rgb(139, 137, 137)\",\n  \"springgreen\": \"rgb(0, 255, 127)\",\n  \"springgreen1\": \"rgb(0, 255, 127)\",\n  \"springgreen2\": \"rgb(0, 238, 118)\",\n  \"springgreen3\": \"rgb(0, 205, 102)\",\n  \"springgreen4\": \"rgb(0, 139, 69)\",\n  \"steelblue\": \"rgb(70, 130, 180)\",\n  \"steelblue1\": \"rgb(99, 184, 255)\",\n  \"steelblue2\": \"rgb(92, 172, 238)\",\n  \"steelblue3\": \"rgb(79, 148, 205)\",\n  \"steelblue4\": \"rgb(54, 100, 139)\",\n  \"tan\": \"rgb(210, 180, 140)\",\n  \"tan1\": \"rgb(255, 165, 79)\",\n  \"tan2\": \"rgb(238, 154, 73)\",\n  \"tan3\": \"rgb(205, 133, 63)\",\n  \"tan4\": \"rgb(139, 90, 43)\",\n  \"thistle\": \"rgb(216, 191, 216)\",\n  \"thistle1\": \"rgb(255, 225, 255)\",\n  \"thistle2\": \"rgb(238, 210, 238)\",\n  \"thistle3\": \"rgb(205, 181, 205)\",\n  \"thistle4\": \"rgb(139, 123, 139)\",\n  \"tomato\": \"rgb(255, 99, 71)\",\n  \"tomato1\": \"rgb(255, 99, 71)\",\n  \"tomato2\": \"rgb(238, 92, 66)\",\n  \"tomato3\": \"rgb(205, 79, 57)\",\n  \"tomato4\": \"rgb(139, 54, 38)\",\n  \"turquoise\": \"rgb(64, 224, 208)\",\n  \"turquoise1\": \"rgb(0, 245, 255)\",\n  \"turquoise2\": \"rgb(0, 229, 238)\",\n  \"turquoise3\": \"rgb(0, 197, 205)\",\n  \"turquoise4\": \"rgb(0, 134, 139)\",\n  \"violet\": \"rgb(238, 130, 238)\",\n  \"violetred\": \"rgb(208, 32, 144)\",\n  \"violetred1\": \"rgb(255, 62, 150)\",\n  \"violetred2\": \"rgb(238, 58, 140)\",\n  \"violetred3\": \"rgb(205, 50, 120)\",\n  \"violetred4\": \"rgb(139, 34, 82)\",\n  \"wheat\": \"rgb(245, 222, 179)\",\n  \"wheat1\": \"rgb(255, 231, 186)\",\n  \"wheat2\": \"rgb(238, 216, 174)\",\n  \"wheat3\": \"rgb(205, 186, 150)\",\n  \"wheat4\": \"rgb(139, 126, 102)\",\n  \"white\": \"rgb(255, 255, 255)\",\n  \"whitesmoke\": \"rgb(245, 245, 245)\",\n  \"yellow\": \"rgb(255, 255, 0)\",\n  \"yellow1\": \"rgb(255, 255, 0)\",\n  \"yellow2\": \"rgb(238, 238, 0)\",\n  \"yellow3\": \"rgb(205, 205, 0)\",\n  \"yellow4\": \"rgb(139, 139, 0)\",\n  \"yellowgreen\": \"rgb(154, 205, 50)\"\n};\n// SOURCE FILE: libdot/js/lib_f.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * Grab bag of utility functions.\n */\nlib.f = {};\n\n/**\n * Replace variable references in a string.\n *\n * Variables are of the form %FUNCTION(VARNAME).  FUNCTION is an optional\n * escape function to apply to the value.\n *\n * For example\n *   lib.f.replaceVars(\"%(greeting), %encodeURIComponent(name)\",\n *                     { greeting: \"Hello\",\n *                       name: \"Google+\" });\n *\n * Will result in \"Hello, Google%2B\".\n */\nlib.f.replaceVars = function(str, vars) {\n  return str.replace(/%([a-z]*)\\(([^\\)]+)\\)/gi, function(match, fn, varname) {\n      if (typeof vars[varname] == 'undefined')\n        throw 'Unknown variable: ' + varname;\n\n      var rv = vars[varname];\n\n      if (fn in lib.f.replaceVars.functions) {\n        rv = lib.f.replaceVars.functions[fn](rv);\n      } else if (fn) {\n        throw 'Unknown escape function: ' + fn;\n      }\n\n      return rv;\n    });\n};\n\n/**\n * Functions that can be used with replaceVars.\n *\n * Clients can add to this list to extend lib.f.replaceVars().\n */\nlib.f.replaceVars.functions = {\n  encodeURI: encodeURI,\n  encodeURIComponent: encodeURIComponent,\n  escapeHTML: function(str) {\n    var map = {\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n\n    return str.replace(/[<>&\\\"\\']/g, function(m) { return map[m] });\n  }\n};\n\n/**\n * Get the list of accepted UI languages.\n *\n * @param {function(Array)} callback Function to invoke with the results.  The\n *     parameter is a list of locale names.\n */\nlib.f.getAcceptLanguages = function(callback) {\n  if (window.chrome && chrome.i18n) {\n    chrome.i18n.getAcceptLanguages(callback);\n  } else {\n    setTimeout(function() {\n        callback([navigator.language.replace(/-/g, '_')]);\n      }, 0);\n  }\n};\n\n/**\n * Parse a query string into a hash.\n *\n * This takes a url query string in the form 'name1=value&name2=value' and\n * converts it into an object of the form { name1: 'value', name2: 'value' }.\n * If a given name appears multiple times in the query string, only the\n * last value will appear in the result.\n *\n * Names and values are passed through decodeURIComponent before being added\n * to the result object.\n *\n * @param {string} queryString The string to parse.  If it starts with a\n *     leading '?', the '?' will be ignored.\n */\nlib.f.parseQuery = function(queryString) {\n  if (queryString.substr(0, 1) == '?')\n    queryString = queryString.substr(1);\n\n  var rv = {};\n\n  var pairs = queryString.split('&');\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i].split('=');\n    rv[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n\n  return rv;\n};\n\nlib.f.getURL = function(path) {\n  if (window.chrome && chrome.runtime && chrome.runtime.getURL)\n    return chrome.runtime.getURL(path);\n\n  return path;\n};\n\n/**\n * Clamp a given integer to a specified range.\n *\n * @param {integer} v The value to be clamped.\n * @param {integer} min The minimum acceptable value.\n * @param {integer} max The maximum acceptable value.\n */\nlib.f.clamp = function(v, min, max) {\n  if (v < min)\n    return min;\n  if (v > max)\n    return max;\n  return v;\n};\n\n/**\n * Left pad a string to a given length using a given character.\n *\n * @param {string} str The string to pad.\n * @param {integer} length The desired length.\n * @param {string} opt_ch The optional padding character, defaults to ' '.\n * @return {string} The padded string.\n */\nlib.f.lpad = function(str, length, opt_ch) {\n  str = String(str);\n  opt_ch = opt_ch || ' ';\n\n  while (str.length < length)\n    str = opt_ch + str;\n\n  return str;\n};\n\n/**\n * Left pad a number to a given length with leading zeros.\n *\n * @param {string|integer} number The number to pad.\n * @param {integer} length The desired length.\n * @return {string} The padded number as a string.\n */\nlib.f.zpad = function(number, length) {\n  return lib.f.lpad(number, length, '0');\n};\n\n/**\n * Return a string containing a given number of space characters.\n *\n * This method maintains a static cache of the largest amount of whitespace\n * ever requested.  It shouldn't be used to generate an insanely huge amount of\n * whitespace.\n *\n * @param {integer} length The desired amount of whitespace.\n * @param {string} A string of spaces of the requested length.\n */\nlib.f.getWhitespace = function(length) {\n  if (length == 0)\n    return '';\n\n  var f = this.getWhitespace;\n  if (!f.whitespace)\n    f.whitespace = '          ';\n\n  while (length > f.whitespace.length) {\n    f.whitespace += f.whitespace;\n  }\n\n  return f.whitespace.substr(0, length);\n};\n\n /**\n * Ensure that a function is called within a certain time limit.\n *\n * Simple usage looks like this...\n *\n *  lib.registerInit(lib.f.alarm(onInit));\n *\n * This will log a warning to the console if onInit() is not invoked within\n * 5 seconds.\n *\n * If you're performing some operation that may take longer than 5 seconds you\n * can pass a duration in milliseconds as the optional second parameter.\n *\n * If you pass a string identifier instead of a callback function, you'll get a\n * wrapper generator rather than a single wrapper.  Each call to the\n * generator will return a wrapped version of the callback wired to\n * a shared timeout.  This is for cases where you want to ensure that at least\n * one of a set of callbacks is invoked before a timeout expires.\n *\n *   var alarm = lib.f.alarm('fetch object');\n *   lib.foo.fetchObject(alarm(onSuccess), alarm(onFailure));\n *\n * @param {function(*)} callback The function to wrap in an alarm.\n * @param {int} opt_ms Optional number of milliseconds to wait before raising\n *     an alarm.  Default is 5000 (5 seconds).\n * @return {function} If callback is a function then the return value will be\n *     the wrapped callback.  If callback is a string then the return value will\n *     be a function that generates new wrapped callbacks.\n */\nlib.f.alarm = function(callback, opt_ms) {\n  var ms = opt_ms || 5 * 1000;\n  var stack = lib.f.getStack(1);\n\n  return (function() {\n    // This outer function is called immediately.  It's here to capture a new\n    // scope for the timeout variable.\n\n    // The 'timeout' variable is shared by this timeout function, and the\n    // callback wrapper.\n    var timeout = setTimeout(function() {\n      var name = (typeof callback == 'string') ? name : callback.name;\n      name = name ? (': ' + name) : '';\n      console.warn('lib.f.alarm: timeout expired: ' + (ms / 1000) + 's' + name);\n      console.log(stack);\n      timeout = null;\n    }, ms);\n\n    var wrapperGenerator = function(callback) {\n      return function() {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n\n        return callback.apply(null, arguments);\n      }\n    };\n\n    if (typeof callback == 'string')\n      return wrapperGenerator;\n\n    return wrapperGenerator(callback);\n  })();\n};\n\n/**\n * Return the current call stack after skipping a given number of frames.\n *\n * This method is intended to be used for debugging only.  It returns an\n * Object instead of an Array, because the console stringifies arrays by\n * default and that's not what we want.\n *\n * A typical call might look like...\n *\n *    console.log('Something wicked this way came', lib.f.getStack());\n *    //                         Notice the comma ^\n *\n * This would print the message to the js console, followed by an object\n * which can be clicked to reveal the stack.\n *\n * @param {number} opt_ignoreFrames The optional number of stack frames to\n *     ignore.  The actual 'getStack' call is always ignored.\n */\nlib.f.getStack = function(opt_ignoreFrames) {\n  var ignoreFrames = opt_ignoreFrames ? opt_ignoreFrames + 2 : 2;\n\n  var stackArray;\n\n  try {\n    throw new Error();\n  } catch (ex) {\n    stackArray = ex.stack.split('\\n');\n  }\n\n  var stackObject = {};\n  for (var i = ignoreFrames; i < stackArray.length; i++) {\n    stackObject[i - ignoreFrames] = stackArray[i].replace(/^\\s*at\\s+/, '');\n  }\n\n  return stackObject;\n};\n\n/**\n * Divides the two numbers and floors the results, unless the remainder is less\n * than an incredibly small value, in which case it returns the ceiling.\n * This is useful when the number are truncated approximations of longer\n * values, and so doing division with these numbers yields a result incredibly\n * close to a whole number.\n *\n * @param {number} numerator\n * @param {number} denominator\n * @return {number}\n */\nlib.f.smartFloorDivide = function(numerator,  denominator) {\n  var val = numerator / denominator;\n  var ceiling = Math.ceil(val);\n  if (ceiling - val < .0001) {\n    return ceiling;\n  } else {\n    return Math.floor(val);\n  }\n};\n// SOURCE FILE: libdot/js/lib_message_manager.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * MessageManager class handles internationalized strings.\n *\n * Note: chrome.i18n isn't sufficient because...\n *     1. There's a bug in chrome that makes it unavailable in iframes:\n *        http://crbug.com/130200\n *     2. The client code may not be packaged in a Chrome extension.\n *     3. The client code may be part of a library packaged in a third-party\n *        Chrome extension.\n *\n * @param {Array} languages List of languages to load, in the order they\n *     should be loaded.  Newer messages replace older ones.  'en' is\n *     automatically added as the first language if it is not already present.\n */\nlib.MessageManager = function(languages) {\n  this.languages_ = languages.map(\n      function(el) { return el.replace(/-/g, '_') });\n\n  if (this.languages_.indexOf('en') == -1)\n    this.languages_.unshift('en');\n\n  this.messages = {};\n};\n\n/**\n * Add message definitions to the message manager.\n *\n * This takes an object of the same format of a Chrome messages.json file.  See\n * <http://code.google.com/chrome/extensions/i18n-messages.html>.\n */\nlib.MessageManager.prototype.addMessages = function(defs) {\n  for (var key in defs) {\n    var def = defs[key];\n\n    if (!def.placeholders) {\n      this.messages[key] = def.message;\n    } else {\n      // Replace \"$NAME$\" placeholders with \"$1\", etc.\n      this.messages[key] = def.message.replace(\n          /\\$([a-z][^\\s\\$]+)\\$/ig,\n          function(m, name) {\n            return defs[key].placeholders[name.toLowerCase()].content;\n          });\n    }\n  }\n};\n\n/**\n * Load the first available language message bundle.\n *\n * @param {string} pattern A url pattern containing a \"$1\" where the locale\n *     name should go.\n * @param {function(Array,Array)} onComplete Function to be called when loading\n *     is complete.  The two arrays are the list of successful and failed\n *     locale names.  If the first parameter is length 0, no locales were\n *     loaded.\n */\nlib.MessageManager.prototype.findAndLoadMessages = function(\n    pattern, onComplete) {\n  var languages = this.languages_.concat();\n  var loaded = [];\n  var failed = [];\n\n  function onLanguageComplete(state) {\n    if (state) {\n      loaded = languages.shift();\n    } else {\n      failed = languages.shift();\n    }\n\n    if (languages.length) {\n      tryNextLanguage();\n    } else {\n      onComplete(loaded, failed);\n    }\n  }\n\n  var tryNextLanguage = function() {\n    this.loadMessages(this.replaceReferences(pattern, languages),\n                      onLanguageComplete.bind(this, true),\n                      onLanguageComplete.bind(this, false));\n  }.bind(this);\n\n  tryNextLanguage();\n};\n\n/**\n * Load messages from a messages.json file.\n */\nlib.MessageManager.prototype.loadMessages = function(\n    url, onSuccess, opt_onError) {\n  var xhr = new XMLHttpRequest();\n\n  xhr.onloadend = function() {\n    if (xhr.status != 200) {\n      if (opt_onError)\n        opt_onError(xhr.status);\n\n      return;\n    }\n\n    this.addMessages(JSON.parse(xhr.responseText));\n    onSuccess();\n  }.bind(this);\n\n  xhr.open('GET', url);\n  xhr.send();\n};\n\n/**\n * Replace $1...$n references with the elements of the args array.\n *\n * @param {string} msg String containing the message and argument references.\n * @param {Array} args Array containing the argument values.\n */\nlib.MessageManager.replaceReferences = function(msg, args) {\n  return msg.replace(/\\$(\\d+)/g, function (m, index) {\n      return args[index - 1];\n    });\n};\n\n/**\n * Per-instance copy of replaceReferences.\n */\nlib.MessageManager.prototype.replaceReferences =\n    lib.MessageManager.replaceReferences;\n\n/**\n * Get a message by name, optionally replacing arguments too.\n *\n * @param {string} msgname String containing the name of the message to get.\n * @param {Array} opt_args Optional array containing the argument values.\n * @param {string} opt_default Optional value to return if the msgname is not\n *     found.  Returns the message name by default.\n */\nlib.MessageManager.prototype.get = function(msgname, opt_args, opt_default) {\n  var message;\n\n  if (msgname in this.messages) {\n    message = this.messages[msgname];\n\n  } else {\n    if (window.chrome.i18n)\n      message = chrome.i18n.getMessage(msgname);\n\n    if (!message) {\n      console.warn('Unknown message: ' + msgname);\n      return (typeof opt_default == 'undefined') ? msgname : opt_default;\n    }\n  }\n\n  if (!opt_args)\n    return message;\n\n  if (!(opt_args instanceof Array))\n    opt_args = [opt_args];\n\n  return this.replaceReferences(message, opt_args);\n};\n\n/**\n * Process all of the \"i18n\" html attributes found in a given dom fragment.\n *\n * Each i18n attribute should contain a JSON object.  The keys are taken to\n * be attribute names, and the values are message names.\n *\n * If the JSON object has a \"_\" (underscore) key, it's value is used as the\n * textContent of the element.\n *\n * Message names can refer to other attributes on the same element with by\n * prefixing with a dollar sign.  For example...\n *\n *   <button id='send-button'\n *           i18n='{\"aria-label\": \"$id\", \"_\": \"SEND_BUTTON_LABEL\"}'\n *           ></button>\n *\n * The aria-label message name will be computed as \"SEND_BUTTON_ARIA_LABEL\".\n * Notice that the \"id\" attribute was appended to the target attribute, and\n * the result converted to UPPER_AND_UNDER style.\n */\nlib.MessageManager.prototype.processI18nAttributes = function(dom) {\n  // Convert the \"lower-and-dashes\" attribute names into\n  // \"UPPER_AND_UNDER\" style.\n  function thunk(str) { return str.replace(/-/g, '_').toUpperCase() }\n\n  var nodes = dom.querySelectorAll('[i18n]');\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    var i18n = node.getAttribute('i18n');\n\n    if (!i18n)\n      continue;\n\n    try {\n      i18n = JSON.parse(i18n);\n    } catch (ex) {\n      console.error('Can\\'t parse ' + node.tagName + '#' + node.id + ': ' +\n                    i18n);\n      throw ex;\n    }\n\n    for (var key in i18n) {\n      var msgname = i18n[key];\n      if (msgname.substr(0, 1) == '$')\n        msgname = thunk(node.getAttribute(msgname.substr(1)) + '_' + key);\n\n      var msg = this.get(msgname);\n      if (key == '_') {\n        node.textContent = msg;\n      } else {\n        node.setAttribute(key, msg);\n      }\n    }\n  }\n};\n// SOURCE FILE: libdot/js/lib_preference_manager.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * Constructor for lib.PreferenceManager objects.\n *\n * These objects deal with persisting changes to stable storage and notifying\n * consumers when preferences change.\n *\n * It is intended that the backing store could be something other than HTML5\n * storage, but there aren't any use cases at the moment.  In the future there\n * may be a chrome api to store sync-able name/value pairs, and we'd want\n * that.\n *\n * @param {lib.Storage.*} storage The storage object to use as a backing\n *     store.\n * @param {string} opt_prefix The optional prefix to be used for all preference\n *     names.  The '/' character should be used to separate levels of heirarchy,\n *     if you're going to have that kind of thing.  If provided, the prefix\n *     should start with a '/'.  If not provided, it defaults to '/'.\n */\nlib.PreferenceManager = function(storage, opt_prefix) {\n  this.storage = storage;\n  this.storageObserver_ = this.onStorageChange_.bind(this);\n\n  this.isActive_ = false;\n  this.activate();\n\n  this.trace = false;\n\n  var prefix = opt_prefix || '/';\n  if (prefix.substr(prefix.length - 1) != '/')\n    prefix += '/';\n\n  this.prefix = prefix;\n\n  this.prefRecords_ = {};\n  this.globalObservers_ = [];\n\n  this.childFactories_ = {};\n\n  // Map of list-name to {map of child pref managers}\n  // As in...\n  //\n  //  this.childLists_ = {\n  //    'profile-ids': {\n  //      'one': PreferenceManager,\n  //      'two': PreferenceManager,\n  //      ...\n  //    },\n  //\n  //    'frob-ids': {\n  //      ...\n  //    }\n  //  }\n  this.childLists_ = {};\n};\n\n/**\n * Used internally to indicate that the current value of the preference should\n * be taken from the default value defined with the preference.\n *\n * Equality tests against this value MUST use '===' or '!==' to be accurate.\n */\nlib.PreferenceManager.prototype.DEFAULT_VALUE = new String('DEFAULT');\n\n/**\n * An individual preference.\n *\n * These objects are managed by the PreferenceManager, you shoudn't need to\n * handle them directly.\n */\nlib.PreferenceManager.Record = function(name, defaultValue) {\n  this.name = name;\n  this.defaultValue = defaultValue;\n  this.currentValue = this.DEFAULT_VALUE;\n  this.observers = [];\n};\n\n/**\n * A local copy of the DEFAULT_VALUE constant to make it less verbose.\n */\nlib.PreferenceManager.Record.prototype.DEFAULT_VALUE =\n    lib.PreferenceManager.prototype.DEFAULT_VALUE;\n\n/**\n * Register a callback to be invoked when this preference changes.\n *\n * @param {function(value, string, lib.PreferenceManager} observer The function\n *     to invoke.  It will receive the new value, the name of the preference,\n *     and a reference to the PreferenceManager as parameters.\n */\nlib.PreferenceManager.Record.prototype.addObserver = function(observer) {\n  this.observers.push(observer);\n};\n\n/**\n * Unregister an observer callback.\n *\n * @param {function} observer A previously registered callback.\n */\nlib.PreferenceManager.Record.prototype.removeObserver = function(observer) {\n  var i = this.observers.indexOf(observer);\n  if (i >= 0)\n    this.observers.splice(i, 1);\n};\n\n/**\n * Fetch the value of this preference.\n */\nlib.PreferenceManager.Record.prototype.get = function() {\n  if (this.currentValue === this.DEFAULT_VALUE) {\n    if (/^(string|number)$/.test(typeof this.defaultValue))\n      return this.defaultValue;\n\n    if (typeof this.defaultValue == 'object') {\n      // We want to return a COPY of the default value so that users can\n      // modify the array or object without changing the default value.\n      return JSON.parse(JSON.stringify(this.defaultValue));\n    }\n\n    return this.defaultValue;\n  }\n\n  return this.currentValue;\n};\n\n/**\n * Stop this preference manager from tracking storage changes.\n *\n * Call this if you're going to swap out one preference manager for another so\n * that you don't get notified about irrelevant changes.\n */\nlib.PreferenceManager.prototype.deactivate = function() {\n  if (!this.isActive_)\n    throw new Error('Not activated');\n\n  this.isActive_ = false;\n  this.storage.removeObserver(this.storageObserver_);\n};\n\n/**\n * Start tracking storage changes.\n *\n * If you previously deactivated this preference manager, you can reactivate it\n * with this method.  You don't need to call this at initialization time, as\n * it's automatically called as part of the constructor.\n */\nlib.PreferenceManager.prototype.activate = function() {\n  if (this.isActive_)\n    throw new Error('Already activated');\n\n  this.isActive_ = true;\n  this.storage.addObserver(this.storageObserver_);\n};\n\n/**\n * Read the backing storage for these preferences.\n *\n * You should do this once at initialization time to prime the local cache\n * of preference values.  The preference manager will monitor the backing\n * storage for changes, so you should not need to call this more than once.\n *\n * This function recursively reads storage for all child preference managers as\n * well.\n *\n * This function is asynchronous, if you need to read preference values, you\n * *must* wait for the callback.\n *\n * @param {function()} opt_callback Optional function to invoke when the read\n *     has completed.\n */\nlib.PreferenceManager.prototype.readStorage = function(opt_callback) {\n  var pendingChildren = 0;\n\n  function onChildComplete() {\n    if (--pendingChildren == 0 && opt_callback)\n      opt_callback();\n  }\n\n  var keys = Object.keys(this.prefRecords_).map(\n      function(el) { return this.prefix + el }.bind(this));\n\n  if (this.trace)\n    console.log('Preferences read: ' + this.prefix);\n\n  this.storage.getItems(keys, function(items) {\n      var prefixLength = this.prefix.length;\n\n      for (var key in items) {\n        var value = items[key];\n        var name = key.substr(prefixLength);\n        var needSync = (name in this.childLists_ &&\n                        (JSON.stringify(value) !=\n                         JSON.stringify(this.prefRecords_[name].currentValue)));\n\n        this.prefRecords_[name].currentValue = value;\n\n        if (needSync) {\n          pendingChildren++;\n          this.syncChildList(name, onChildComplete);\n        }\n      }\n\n      if (pendingChildren == 0 && opt_callback)\n        setTimeout(opt_callback);\n    }.bind(this));\n};\n\n/**\n * Define a preference.\n *\n * This registers a name, default value, and onChange handler for a preference.\n *\n * @param {string} name The name of the preference.  This will be prefixed by\n *     the prefix of this PreferenceManager before written to local storage.\n * @param {string|number|boolean|Object|Array|null} value The default value of\n *     this preference.  Anything that can be represented in JSON is a valid\n *     default value.\n * @param {function(value, string, lib.PreferenceManager} opt_observer A\n *     function to invoke when the preference changes.  It will receive the new\n *     value, the name of the preference, and a reference to the\n *     PreferenceManager as parameters.\n */\nlib.PreferenceManager.prototype.definePreference = function(\n    name, value, opt_onChange) {\n\n  var record = this.prefRecords_[name];\n  if (record) {\n    this.changeDefault(name, value);\n  } else {\n    record = this.prefRecords_[name] =\n        new lib.PreferenceManager.Record(name, value);\n  }\n\n  if (opt_onChange)\n    record.addObserver(opt_onChange);\n};\n\n/**\n * Define multiple preferences with a single function call.\n *\n * @param {Array} defaults An array of 3-element arrays.  Each three element\n *     array should contain the [key, value, onChange] parameters for a\n *     preference.\n */\nlib.PreferenceManager.prototype.definePreferences = function(defaults) {\n  for (var i = 0; i < defaults.length; i++) {\n    this.definePreference(defaults[i][0], defaults[i][1], defaults[i][2]);\n  }\n};\n\n/**\n * Define an ordered list of child preferences.\n *\n * Child preferences are different from just storing an array of JSON objects\n * in that each child is an instance of a preference manager.  This means you\n * can observe changes to individual child preferences, and get some validation\n * that you're not reading or writing to an undefined child preference value.\n *\n * @param {string} listName A name for the list of children.  This must be\n *     unique in this preference manager.  The listName will become a\n *     preference on this PreferenceManager used to store the ordered list of\n *     child ids.  It is also used in get/add/remove operations to identify the\n *     list of children to operate on.\n * @param {function} childFactory A function that will be used to generate\n *     instances of these childred.  The factory function will receive the\n *     parent lib.PreferenceManager object and a unique id for the new child\n *     preferences.\n */\nlib.PreferenceManager.prototype.defineChildren = function(\n    listName, childFactory) {\n\n  // Define a preference to hold the ordered list of child ids.\n  this.definePreference(listName, [],\n                        this.onChildListChange_.bind(this, listName));\n  this.childFactories_[listName] = childFactory;\n  this.childLists_[listName] = {};\n};\n\n/**\n * Register to observe preference changes.\n *\n * @param {Function} global A callback that will happen for every preference.\n *     Pass null if you don't need one.\n * @param {Object} map A map of preference specific callbacks.  Pass null if\n *     you don't need any.\n */\nlib.PreferenceManager.prototype.addObservers = function(global, map) {\n  if (global && typeof global != 'function')\n    throw new Error('Invalid param: globals');\n\n  if (global)\n    this.globalObservers_.push(global);\n\n  if (!map)\n    return;\n\n  for (var name in map) {\n    if (!(name in this.prefRecords_))\n      throw new Error('Unknown preference: ' + name);\n\n    this.prefRecords_[name].addObserver(map[name]);\n  }\n};\n\n/**\n * Dispatch the change observers for all known preferences.\n *\n * It may be useful to call this after readStorage completes, in order to\n * get application state in sync with user preferences.\n *\n * This can be used if you've changed a preference manager out from under\n * a live object, for example when switching to a different prefix.\n */\nlib.PreferenceManager.prototype.notifyAll = function() {\n  for (var name in this.prefRecords_) {\n    this.notifyChange_(name);\n  }\n};\n\n/**\n * Notify the change observers for a given preference.\n *\n * @param {string} name The name of the preference that changed.\n */\nlib.PreferenceManager.prototype.notifyChange_ = function(name) {\n  var record = this.prefRecords_[name];\n  if (!record)\n    throw new Error('Unknown preference: ' + name);\n\n  var currentValue = record.get();\n\n  for (var i = 0; i < this.globalObservers_.length; i++)\n    this.globalObservers_[i](name, currentValue);\n\n  for (var i = 0; i < record.observers.length; i++) {\n    record.observers[i](currentValue, name, this);\n  }\n};\n\n/**\n * Create a new child PreferenceManager for the given child list.\n *\n * The optional hint parameter is an opaque prefix added to the auto-generated\n * unique id for this child.  Your child factory can parse out the prefix\n * and use it.\n *\n * @param {string} listName The child list to create the new instance from.\n * @param {string} opt_hint Optional hint to include in the child id.\n * @param {string} opt_id Optional id to override the generated id.\n */\nlib.PreferenceManager.prototype.createChild = function(listName, opt_hint,\n                                                       opt_id) {\n  var ids = this.get(listName);\n  var id;\n\n  if (opt_id) {\n    id = opt_id;\n    if (ids.indexOf(id) != -1)\n      throw new Error('Duplicate child: ' + listName + ': ' + id);\n\n  } else {\n    // Pick a random, unique 4-digit hex identifier for the new profile.\n    while (!id || ids.indexOf(id) != -1) {\n      id = Math.floor(Math.random() * 0xffff + 1).toString(16);\n      id = lib.f.zpad(id, 4);\n      if (opt_hint)\n        id = opt_hint + ':' + id;\n    }\n  }\n\n  var childManager = this.childFactories_[listName](this, id);\n  childManager.trace = this.trace;\n  childManager.resetAll();\n\n  this.childLists_[listName][id] = childManager;\n\n  ids.push(id);\n  this.set(listName, ids);\n\n  return childManager;\n};\n\n/**\n * Remove a child preferences instance.\n *\n * Removes a child preference manager and clears any preferences stored in it.\n *\n * @param {string} listName The name of the child list containing the child to\n *     remove.\n * @param {string} id The child ID.\n */\nlib.PreferenceManager.prototype.removeChild = function(listName, id) {\n  var prefs = this.getChild(listName, id);\n  prefs.resetAll();\n\n  var ids = this.get(listName);\n  var i = ids.indexOf(id);\n  if (i != -1) {\n    ids.splice(i, 1);\n    this.set(listName, ids);\n  }\n\n  delete this.childLists_[listName][id];\n};\n\n/**\n * Return a child PreferenceManager instance for a given id.\n *\n * If the child list or child id is not known this will return the specified\n * default value or throw an exception if no default value is provided.\n *\n * @param {string} listName The child list to look in.\n * @param {string} id The child ID.\n * @param {*} opt_default The optional default value to return if the child\n *     is not found.\n */\nlib.PreferenceManager.prototype.getChild = function(listName, id, opt_default) {\n  if (!(listName in this.childLists_))\n    throw new Error('Unknown child list: ' + listName);\n\n  var childList = this.childLists_[listName];\n  if (!(id in childList)) {\n    if (typeof opt_default == 'undefined')\n      throw new Error('Unknown \"' + listName + '\" child: ' + id);\n\n    return opt_default;\n  }\n\n  return childList[id];\n};\n\n/**\n * Calculate the difference between two lists of child ids.\n *\n * Given two arrays of child ids, this function will return an object\n * with \"added\", \"removed\", and \"common\" properties.  Each property is\n * a map of child-id to `true`.  For example, given...\n *\n *    a = ['child-x', 'child-y']\n *    b = ['child-y']\n *\n *    diffChildLists(a, b) =>\n *      { added: { 'child-x': true }, removed: {}, common: { 'child-y': true } }\n *\n * The added/removed properties assume that `a` is the current list.\n *\n * @param {Array[string]} a The most recent list of child ids.\n * @param {Array[string]} b An older list of child ids.\n * @return {Object} An object with added/removed/common properties.\n */\nlib.PreferenceManager.diffChildLists = function(a, b) {\n  var rv = {\n    added: {},\n    removed: {},\n    common: {},\n  };\n\n  for (var i = 0; i < a.length; i++) {\n    if (b.indexOf(a[i]) != -1) {\n      rv.common[a[i]] = true;\n    } else {\n      rv.added[a[i]] = true;\n    }\n  }\n\n  for (var i = 0; i < b.length; i++) {\n    if ((b[i] in rv.added) || (b[i] in rv.common))\n      continue;\n\n    rv.removed[b[i]] = true;\n  }\n\n  return rv;\n};\n\n/**\n * Synchronize a list of child PreferenceManagers instances with the current\n * list stored in prefs.\n *\n * This will instantiate any missing managers and read current preference values\n * from storage.  Any active managers that no longer appear in preferences will\n * be deleted.\n *\n * @param {string} listName The child list to synchronize.\n * @param {function()} opt_callback Optional function to invoke when the sync\n *     is complete.\n */\nlib.PreferenceManager.prototype.syncChildList = function(\n    listName, opt_callback) {\n\n  var pendingChildren = 0;\n  function onChildStorage() {\n    if (--pendingChildren == 0 && opt_callback)\n      opt_callback();\n  }\n\n  // The list of child ids that we *should* have a manager for.\n  var currentIds = this.get(listName);\n\n  // The known managers at the start of the sync.  Any manager still in this\n  // list at the end should be discarded.\n  var oldIds = Object.keys(this.childLists_[listName]);\n\n  var rv = lib.PreferenceManager.diffChildLists(currentIds, oldIds);\n\n  for (var i = 0; i < currentIds.length; i++) {\n    var id = currentIds[i];\n\n    var managerIndex = oldIds.indexOf(id);\n    if (managerIndex >= 0)\n      oldIds.splice(managerIndex, 1);\n\n    if (!this.childLists_[listName][id]) {\n      var childManager = this.childFactories_[listName](this, id);\n      if (!childManager) {\n        console.warn('Unable to restore child: ' + listName + ': ' + id);\n        continue;\n      }\n\n      childManager.trace = this.trace;\n      this.childLists_[listName][id] = childManager;\n      pendingChildren++;\n      childManager.readStorage(onChildStorage);\n    }\n  }\n\n  for (var i = 0; i < oldIds.length; i++) {\n    delete this.childLists_[listName][oldIds[i]];\n  }\n\n  if (!pendingChildren && opt_callback)\n    setTimeout(opt_callback);\n};\n\n/**\n * Reset a preference to its default state.\n *\n * This will dispatch the onChange handler if the preference value actually\n * changes.\n *\n * @param {string} name The preference to reset.\n */\nlib.PreferenceManager.prototype.reset = function(name) {\n  var record = this.prefRecords_[name];\n  if (!record)\n    throw new Error('Unknown preference: ' + name);\n\n  this.storage.removeItem(this.prefix + name);\n\n  if (record.currentValue !== this.DEFAULT_VALUE) {\n    record.currentValue = this.DEFAULT_VALUE;\n    this.notifyChange_(name);\n  }\n};\n\n/**\n * Reset all preferences back to their default state.\n */\nlib.PreferenceManager.prototype.resetAll = function() {\n  var changed = [];\n\n  for (var listName in this.childLists_) {\n    var childList = this.childLists_[listName];\n    for (var id in childList) {\n      childList[id].resetAll();\n    }\n  }\n\n  for (var name in this.prefRecords_) {\n    if (this.prefRecords_[name].currentValue !== this.DEFAULT_VALUE) {\n      this.prefRecords_[name].currentValue = this.DEFAULT_VALUE;\n      changed.push(name);\n    }\n  }\n\n  var keys = Object.keys(this.prefRecords_).map(function(el) {\n      return this.prefix + el;\n  }.bind(this));\n\n  this.storage.removeItems(keys);\n\n  changed.forEach(this.notifyChange_.bind(this));\n};\n\n/**\n * Return true if two values should be considered not-equal.\n *\n * If both values are the same scalar type and compare equal this function\n * returns false (no difference), otherwise return true.\n *\n * This is used in places where we want to check if a preference has changed.\n * Rather than take the time to compare complex values we just consider them\n * to always be different.\n *\n * @param {*} a A value to compare.\n * @param {*} b A value to compare.\n */\nlib.PreferenceManager.prototype.diff = function(a, b) {\n  // If the types are different, or the type is not a simple primitive one.\n  if ((typeof a) !== (typeof b) ||\n      !(/^(undefined|boolean|number|string)$/.test(typeof a))) {\n    return true;\n  }\n\n  return a !== b;\n};\n\n/**\n * Change the default value of a preference.\n *\n * This is useful when subclassing preference managers.\n *\n * The function does not alter the current value of the preference, unless\n * it has the old default value.  When that happens, the change observers\n * will be notified.\n *\n * @param {string} name The name of the parameter to change.\n * @param {*} newValue The new default value for the preference.\n */\nlib.PreferenceManager.prototype.changeDefault = function(name, newValue) {\n  var record = this.prefRecords_[name];\n  if (!record)\n    throw new Error('Unknown preference: ' + name);\n\n  if (!this.diff(record.defaultValue, newValue)) {\n    // Default value hasn't changed.\n    return;\n  }\n\n  if (record.currentValue !== this.DEFAULT_VALUE) {\n    // This pref has a specific value, just change the default and we're done.\n    record.defaultValue = newValue;\n    return;\n  }\n\n  record.defaultValue = newValue;\n\n  this.notifyChange_(name);\n};\n\n/**\n * Change the default value of multiple preferences.\n *\n * @param {Object} map A map of name -> value pairs specifying the new default\n *     values.\n */\nlib.PreferenceManager.prototype.changeDefaults = function(map) {\n  for (var key in map) {\n    this.changeDefault(key, map[key]);\n  }\n};\n\n/**\n * Set a preference to a specific value.\n *\n * This will dispatch the onChange handler if the preference value actually\n * changes.\n *\n * @param {string} key The preference to set.\n * @param {*} value The value to set.  Anything that can be represented in\n *     JSON is a valid value.\n */\nlib.PreferenceManager.prototype.set = function(name, newValue) {\n  var record = this.prefRecords_[name];\n  if (!record)\n    throw new Error('Unknown preference: ' + name);\n\n  var oldValue = record.get();\n\n  if (!this.diff(oldValue, newValue))\n    return;\n\n  if (this.diff(record.defaultValue, newValue)) {\n    record.currentValue = newValue;\n    this.storage.setItem(this.prefix + name, newValue);\n  } else {\n    record.currentValue = this.DEFAULT_VALUE;\n    this.storage.removeItem(this.prefix + name);\n  }\n\n  // We need to manually send out the notification on this instance.  If we\n  // The storage event won't fire a notification because we've already changed\n  // the currentValue, so it won't see a difference.  If we delayed changing\n  // currentValue until the storage event, a pref read immediately after a write\n  // would return the previous value.\n  //\n  // The notification is in a timeout so clients don't accidentally depend on\n  // a synchronous notification.\n  setTimeout(this.notifyChange_.bind(this, name), 0);\n};\n\n/**\n * Get the value of a preference.\n *\n * @param {string} key The preference to get.\n */\nlib.PreferenceManager.prototype.get = function(name) {\n  var record = this.prefRecords_[name];\n  if (!record)\n    throw new Error('Unknown preference: ' + name);\n\n  return record.get();\n};\n\n/**\n * Return all non-default preferences as a JSON onject.\n *\n * This includes any nested preference managers as well.\n */\nlib.PreferenceManager.prototype.exportAsJson = function() {\n  var rv = {};\n\n  for (var name in this.prefRecords_) {\n    if (name in this.childLists_) {\n      rv[name] = [];\n      var childIds = this.get(name);\n      for (var i = 0; i < childIds.length; i++) {\n        var id = childIds[i];\n        rv[name].push({id: id, json: this.getChild(name, id).exportAsJson()});\n      }\n\n    } else {\n      var record = this.prefRecords_[name];\n      if (record.currentValue != this.DEFAULT_VALUE)\n        rv[name] = record.currentValue;\n    }\n  }\n\n  return rv;\n};\n\n/**\n * Import a JSON blob of preferences previously generated with exportAsJson.\n *\n * This will create nested preference managers as well.\n */\nlib.PreferenceManager.prototype.importFromJson = function(json) {\n  for (var name in json) {\n    if (name in this.childLists_) {\n      var childList = json[name];\n      for (var i = 0; i < childList.length; i++) {\n        var id = childList[i].id;\n\n        var childPrefManager = this.childLists_[name][id];\n        if (!childPrefManager)\n          childPrefManager = this.createChild(name, null, id);\n\n        childPrefManager.importFromJson(childList[i].json);\n      }\n\n    } else {\n      this.set(name, json[name]);\n    }\n  }\n};\n\n/**\n * Called when one of the child list preferences changes.\n */\nlib.PreferenceManager.prototype.onChildListChange_ = function(listName) {\n  this.syncChildList(listName);\n};\n\n/**\n * Called when a key in the storage changes.\n */\nlib.PreferenceManager.prototype.onStorageChange_ = function(map) {\n  for (var key in map) {\n    if (this.prefix) {\n      if (key.lastIndexOf(this.prefix, 0) != 0)\n        continue;\n    }\n\n    var name = key.substr(this.prefix.length);\n\n    if (!(name in this.prefRecords_)) {\n      // Sometimes we'll get notified about prefs that are no longer defined.\n      continue;\n    }\n\n    var record = this.prefRecords_[name];\n\n    var newValue = map[key].newValue;\n    var currentValue = record.currentValue;\n    if (currentValue === record.DEFAULT_VALUE)\n      currentValue = (void 0);\n\n    if (this.diff(currentValue, newValue)) {\n      if (typeof newValue == 'undefined') {\n        record.currentValue = record.DEFAULT_VALUE;\n      } else {\n        record.currentValue = newValue;\n      }\n\n      this.notifyChange_(name);\n    }\n  }\n};\n// SOURCE FILE: libdot/js/lib_resource.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * Storage for canned resources.\n *\n * These are usually non-JavaScript things that are collected during a build\n * step and converted into a series of 'lib.resource.add(...)' calls.  See\n * the \"@resource\" directive from libdot/bin/concat.sh for the canonical use\n * case.\n *\n * This is global storage, so you should prefix your resource names to avoid\n * collisions.\n */\nlib.resource = {\n  resources_: {}\n};\n\n/**\n * Add a resource.\n *\n * @param {string} name A name for the resource.  You should prefix this to\n *   avoid collisions with resources from a shared library.\n * @param {string} type A mime type for the resource, or \"raw\" if not\n *   applicable.\n * @param {*} data The value of the resource.\n */\nlib.resource.add = function(name, type, data) {\n  lib.resource.resources_[name] = {\n    type: type,\n    name: name,\n    data: data\n  };\n};\n\n/**\n * Retrieve a resource record.\n *\n * The resource data is stored on the \"data\" property of the returned object.\n *\n * @param {string} name The name of the resource to get.\n * @param {*} opt_defaultValue The optional value to return if the resource is\n *   not defined.\n * @return {object} An object with \"type\", \"name\", and \"data\" properties.\n */\nlib.resource.get = function(name, opt_defaultValue) {\n  if (!(name in lib.resource.resources_)) {\n    if (typeof opt_defaultValue == 'undefined')\n      throw 'Unknown resource: ' + name;\n\n    return opt_defaultValue;\n  }\n\n  return lib.resource.resources_[name];\n};\n\n/**\n * Retrieve resource data.\n *\n * @param {string} name The name of the resource to get.\n * @param {*} opt_defaultValue The optional value to return if the resource is\n *   not defined.\n * @return {*} The resource data.\n */\nlib.resource.getData = function(name, opt_defaultValue) {\n  if (!(name in lib.resource.resources_)) {\n    if (typeof opt_defaultValue == 'undefined')\n      throw 'Unknown resource: ' + name;\n\n    return opt_defaultValue;\n  }\n\n  return lib.resource.resources_[name].data;\n};\n\n/**\n * Retrieve resource as a data: url.\n *\n * @param {string} name The name of the resource to get.\n * @param {*} opt_defaultValue The optional value to return if the resource is\n *   not defined.\n * @return {*} A data: url encoded version of the resource.\n */\nlib.resource.getDataUrl = function(name, opt_defaultValue) {\n  var resource = lib.resource.get(name, opt_defaultValue);\n  return 'data:' + resource.type + ',' + resource.data;\n};\n// SOURCE FILE: libdot/js/lib_storage.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * Namespace for implementations of persistent, possibly cloud-backed\n * storage.\n */\nlib.Storage = new Object();\n// SOURCE FILE: libdot/js/lib_storage_chrome.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * chrome.storage based class with an async interface that is interchangeable\n * with other lib.Storage.* implementations.\n */\nlib.Storage.Chrome = function(storage) {\n  this.storage_ = storage;\n  this.observers_ = [];\n\n  chrome.storage.onChanged.addListener(this.onChanged_.bind(this));\n};\n\n/**\n * Called by the storage implementation when the storage is modified.\n */\nlib.Storage.Chrome.prototype.onChanged_ = function(changes, areaname) {\n  if (chrome.storage[areaname] != this.storage_)\n    return;\n\n  for (var i = 0; i < this.observers_.length; i++) {\n    this.observers_[i](changes);\n  }\n};\n\n/**\n * Register a function to observe storage changes.\n *\n * @param {function(map)} callback The function to invoke when the storage\n *     changes.\n */\nlib.Storage.Chrome.prototype.addObserver = function(callback) {\n  this.observers_.push(callback);\n};\n\n/**\n * Unregister a change observer.\n *\n * @param {function} observer A previously registered callback.\n */\nlib.Storage.Chrome.prototype.removeObserver = function(callback) {\n  var i = this.observers_.indexOf(callback);\n  if (i != -1)\n    this.observers_.splice(i, 1);\n};\n\n/**\n * Delete everything in this storage.\n *\n * @param {function(map)} callback The function to invoke when the delete\n *     has completed.\n */\nlib.Storage.Chrome.prototype.clear = function(opt_callback) {\n  this.storage_.clear();\n\n  if (opt_callback)\n    setTimeout(opt_callback, 0);\n};\n\n/**\n * Return the current value of a storage item.\n *\n * @param {string} key The key to look up.\n * @param {function(value) callback The function to invoke when the value has\n *     been retrieved.\n */\nlib.Storage.Chrome.prototype.getItem = function(key, callback) {\n  this.storage_.get(key, callback);\n};\n/**\n * Fetch the values of multiple storage items.\n *\n * @param {Array} keys The keys to look up.\n * @param {function(map) callback The function to invoke when the values have\n *     been retrieved.\n */\n\nlib.Storage.Chrome.prototype.getItems = function(keys, callback) {\n  this.storage_.get(keys, callback);\n};\n\n/**\n * Set a value in storage.\n *\n * @param {string} key The key for the value to be stored.\n * @param {*} value The value to be stored.  Anything that can be serialized\n *     with JSON is acceptable.\n * @param {function()} opt_callback Optional function to invoke when the\n *     set is complete.  You don't have to wait for the set to complete in order\n *     to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Chrome.prototype.setItem = function(key, value, opt_callback) {\n  var obj = {};\n  obj[key] = value;\n  this.storage_.set(obj, opt_callback);\n};\n\n/**\n * Set multiple values in storage.\n *\n * @param {Object} map A map of key/values to set in storage.\n * @param {function()} opt_callback Optional function to invoke when the\n *     set is complete.  You don't have to wait for the set to complete in order\n *     to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Chrome.prototype.setItems = function(obj, opt_callback) {\n  this.storage_.set(obj, opt_callback);\n};\n\n/**\n * Remove an item from storage.\n *\n * @param {string} key The key to be removed.\n * @param {function()} opt_callback Optional function to invoke when the\n *     remove is complete.  You don't have to wait for the set to complete in\n *     order to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Chrome.prototype.removeItem = function(key, opt_callback) {\n  this.storage_.remove(key, opt_callback);\n};\n\n/**\n * Remove multiple items from storage.\n *\n * @param {Array} keys The keys to be removed.\n * @param {function()} opt_callback Optional function to invoke when the\n *     remove is complete.  You don't have to wait for the set to complete in\n *     order to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Chrome.prototype.removeItems = function(keys, opt_callback) {\n  this.storage_.remove(keys, opt_callback);\n};\n// SOURCE FILE: libdot/js/lib_storage_local.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * window.localStorage based class with an async interface that is\n * interchangeable with other lib.Storage.* implementations.\n */\nlib.Storage.Local = function() {\n  this.observers_ = [];\n  this.storage_ = window.localStorage;\n  window.addEventListener('storage', this.onStorage_.bind(this));\n};\n\n/**\n * Called by the storage implementation when the storage is modified.\n */\nlib.Storage.Local.prototype.onStorage_ = function(e) {\n  if (e.storageArea != this.storage_)\n    return;\n\n  // IE throws an exception if JSON.parse is given an empty string.\n  var prevValue = e.oldValue ? JSON.parse(e.oldValue) : \"\";\n  var curValue = e.newValue ? JSON.parse(e.newValue) : \"\";\n  var o = {};\n  o[e.key] = {\n    oldValue: prevValue,\n    newValue: curValue\n  };\n\n  for (var i = 0; i < this.observers_.length; i++) {\n    this.observers_[i](o);\n  }\n};\n\n/**\n * Register a function to observe storage changes.\n *\n * @param {function(map)} callback The function to invoke when the storage\n *     changes.\n */\nlib.Storage.Local.prototype.addObserver = function(callback) {\n  this.observers_.push(callback);\n};\n\n/**\n * Unregister a change observer.\n *\n * @param {function} observer A previously registered callback.\n */\nlib.Storage.Local.prototype.removeObserver = function(callback) {\n  var i = this.observers_.indexOf(callback);\n  if (i != -1)\n    this.observers_.splice(i, 1);\n};\n\n/**\n * Delete everything in this storage.\n *\n * @param {function(map)} callback The function to invoke when the delete\n *     has completed.\n */\nlib.Storage.Local.prototype.clear = function(opt_callback) {\n  this.storage_.clear();\n\n  if (opt_callback)\n    setTimeout(opt_callback, 0);\n};\n\n/**\n * Return the current value of a storage item.\n *\n * @param {string} key The key to look up.\n * @param {function(value) callback The function to invoke when the value has\n *     been retrieved.\n */\nlib.Storage.Local.prototype.getItem = function(key, callback) {\n  var value = this.storage_.getItem(key);\n\n  if (typeof value == 'string') {\n    try {\n      value = JSON.parse(value);\n    } catch (e) {\n      // If we can't parse the value, just return it unparsed.\n    }\n  }\n\n  setTimeout(callback.bind(null, value), 0);\n};\n\n/**\n * Fetch the values of multiple storage items.\n *\n * @param {Array} keys The keys to look up.\n * @param {function(map) callback The function to invoke when the values have\n *     been retrieved.\n */\nlib.Storage.Local.prototype.getItems = function(keys, callback) {\n  var rv = {};\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    var key = keys[i];\n    var value = this.storage_.getItem(key);\n    if (typeof value == 'string') {\n      try {\n        rv[key] = JSON.parse(value);\n      } catch (e) {\n        // If we can't parse the value, just return it unparsed.\n        rv[key] = value;\n      }\n    } else {\n      keys.splice(i, 1);\n    }\n  }\n\n  setTimeout(callback.bind(null, rv), 0);\n};\n\n/**\n * Set a value in storage.\n *\n * @param {string} key The key for the value to be stored.\n * @param {*} value The value to be stored.  Anything that can be serialized\n *     with JSON is acceptable.\n * @param {function()} opt_callback Optional function to invoke when the\n *     set is complete.  You don't have to wait for the set to complete in order\n *     to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Local.prototype.setItem = function(key, value, opt_callback) {\n  this.storage_.setItem(key, JSON.stringify(value));\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n\n/**\n * Set multiple values in storage.\n *\n * @param {Object} map A map of key/values to set in storage.\n * @param {function()} opt_callback Optional function to invoke when the\n *     set is complete.  You don't have to wait for the set to complete in order\n *     to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Local.prototype.setItems = function(obj, opt_callback) {\n  for (var key in obj) {\n    this.storage_.setItem(key, JSON.stringify(obj[key]));\n  }\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n\n/**\n * Remove an item from storage.\n *\n * @param {string} key The key to be removed.\n * @param {function()} opt_callback Optional function to invoke when the\n *     remove is complete.  You don't have to wait for the set to complete in\n *     order to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Local.prototype.removeItem = function(key, opt_callback) {\n  this.storage_.removeItem(key);\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n\n/**\n * Remove multiple items from storage.\n *\n * @param {Array} keys The keys to be removed.\n * @param {function()} opt_callback Optional function to invoke when the\n *     remove is complete.  You don't have to wait for the set to complete in\n *     order to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Local.prototype.removeItems = function(ary, opt_callback) {\n  for (var i = 0; i < ary.length; i++) {\n    this.storage_.removeItem(ary[i]);\n  }\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n// SOURCE FILE: libdot/js/lib_storage_memory.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * In-memory storage class with an async interface that is interchangeable with\n * other lib.Storage.* implementations.\n */\nlib.Storage.Memory = function() {\n  this.observers_ = [];\n  this.storage_ = {};\n};\n\n/**\n * Register a function to observe storage changes.\n *\n * @param {function(map)} callback The function to invoke when the storage\n *     changes.\n */\nlib.Storage.Memory.prototype.addObserver = function(callback) {\n  this.observers_.push(callback);\n};\n\n/**\n * Unregister a change observer.\n *\n * @param {function} observer A previously registered callback.\n */\nlib.Storage.Memory.prototype.removeObserver = function(callback) {\n  var i = this.observers_.indexOf(callback);\n  if (i != -1)\n    this.observers_.splice(i, 1);\n};\n\n/**\n * Delete everything in this storage.\n *\n * @param {function(map)} callback The function to invoke when the delete\n *     has completed.\n */\nlib.Storage.Memory.prototype.clear = function(opt_callback) {\n  var e = {};\n  for (var key in this.storage_) {\n    e[key] = {oldValue: this.storage_[key], newValue: (void 0)};\n  }\n\n  this.storage_ = {};\n\n  setTimeout(function() {\n    for (var i = 0; i < this.observers_.length; i++) {\n      this.observers_[i](e);\n    }\n  }.bind(this), 0);\n\n  if (opt_callback)\n    setTimeout(opt_callback, 0);\n};\n\n/**\n * Return the current value of a storage item.\n *\n * @param {string} key The key to look up.\n * @param {function(value) callback The function to invoke when the value has\n *     been retrieved.\n */\nlib.Storage.Memory.prototype.getItem = function(key, callback) {\n  var value = this.storage_[key];\n\n  if (typeof value == 'string') {\n    try {\n      value = JSON.parse(value);\n    } catch (e) {\n      // If we can't parse the value, just return it unparsed.\n    }\n  }\n\n  setTimeout(callback.bind(null, value), 0);\n};\n\n/**\n * Fetch the values of multiple storage items.\n *\n * @param {Array} keys The keys to look up.\n * @param {function(map) callback The function to invoke when the values have\n *     been retrieved.\n */\nlib.Storage.Memory.prototype.getItems = function(keys, callback) {\n  var rv = {};\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    var key = keys[i];\n    var value = this.storage_[key];\n    if (typeof value == 'string') {\n      try {\n        rv[key] = JSON.parse(value);\n      } catch (e) {\n        // If we can't parse the value, just return it unparsed.\n        rv[key] = value;\n      }\n    } else {\n      keys.splice(i, 1);\n    }\n  }\n\n  setTimeout(callback.bind(null, rv), 0);\n};\n\n/**\n * Set a value in storage.\n *\n * @param {string} key The key for the value to be stored.\n * @param {*} value The value to be stored.  Anything that can be serialized\n *     with JSON is acceptable.\n * @param {function()} opt_callback Optional function to invoke when the\n *     set is complete.  You don't have to wait for the set to complete in order\n *     to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Memory.prototype.setItem = function(key, value, opt_callback) {\n  var oldValue = this.storage_[key];\n  this.storage_[key] = JSON.stringify(value);\n\n  var e = {};\n  e[key] = {oldValue: oldValue, newValue: value};\n\n  setTimeout(function() {\n    for (var i = 0; i < this.observers_.length; i++) {\n      this.observers_[i](e);\n    }\n  }.bind(this), 0);\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n\n/**\n * Set multiple values in storage.\n *\n * @param {Object} map A map of key/values to set in storage.\n * @param {function()} opt_callback Optional function to invoke when the\n *     set is complete.  You don't have to wait for the set to complete in order\n *     to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Memory.prototype.setItems = function(obj, opt_callback) {\n  var e = {};\n\n  for (var key in obj) {\n    e[key] = {oldValue: this.storage_[key], newValue: obj[key]};\n    this.storage_[key] = JSON.stringify(obj[key]);\n  }\n\n  setTimeout(function() {\n    for (var i = 0; i < this.observers_.length; i++) {\n      this.observers_[i](e);\n    }\n  }.bind(this));\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n\n/**\n * Remove an item from storage.\n *\n * @param {string} key The key to be removed.\n * @param {function()} opt_callback Optional function to invoke when the\n *     remove is complete.  You don't have to wait for the set to complete in\n *     order to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Memory.prototype.removeItem = function(key, opt_callback) {\n  delete this.storage_[key];\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n\n/**\n * Remove multiple items from storage.\n *\n * @param {Array} keys The keys to be removed.\n * @param {function()} opt_callback Optional function to invoke when the\n *     remove is complete.  You don't have to wait for the set to complete in\n *     order to read the value, since the local cache is updated synchronously.\n */\nlib.Storage.Memory.prototype.removeItems = function(ary, opt_callback) {\n  for (var i = 0; i < ary.length; i++) {\n    delete this.storage_[ary[i]];\n  }\n\n  if (opt_callback)\n  setTimeout(opt_callback, 0);\n};\n// SOURCE FILE: libdot/js/lib_test_manager.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * @fileoverview JavaScript unit testing framework for synchronous and\n *     asynchronous tests.\n *\n * This file contains the lib.TestManager and related classes.  At the moment\n * it's all collected in a single file since it's reasonably small\n * (=~1k lines), and it's a lot easier to include one file into your test\n * harness than it is to include seven.\n *\n * The following classes are defined...\n *\n *   lib.TestManager - The root class and entrypoint for creating test runs.\n *   lib.TestManager.Log - Logging service.\n *   lib.TestManager.Suite - A collection of tests.\n *   lib.TestManager.Test - A single test.\n *   lib.TestManager.TestRun - Manages the execution of a set of tests.\n *   lib.TestManager.Result - A single test result.\n */\n\n/**\n * Root object in the unit test heirarchy, and keeper of the log object.\n *\n * @param {lib.TestManager.Log} opt_log Optional lib.TestManager.Log object.\n *     Logs to the JavaScript console if ommitted.\n */\nlib.TestManager = function(opt_log) {\n  this.log = opt_log || new lib.TestManager.Log();\n}\n\n/**\n * Create a new test run object for this test manager.\n *\n * @param {Object} opt_cx An object to be passed to test suite setup(),\n *     preamble(), and test cases during this test run.  This object is opaque\n *     to lib.TestManager.* code.  It's entirely up to the test suite what it's\n *     used for.\n */\nlib.TestManager.prototype.createTestRun = function(opt_cx) {\n  return new lib.TestManager.TestRun(this, opt_cx);\n};\n\n/**\n * Called when a test run associated with this test manager completes.\n *\n * Clients may override this to call an appropriate function.\n */\nlib.TestManager.prototype.onTestRunComplete = function(testRun) {};\n\n/**\n * Destination for test case output.\n *\n * @param {function(string)} opt_logFunction Optional function to call to\n *     write a string to the log.  If ommitted, console.log is used.\n */\nlib.TestManager.Log = function(opt_logFunction) {\n  this.logFunction_ = opt_logFunction || function(s) { console.log(s) };\n  this.pending_ = '';\n  this.prefix_ = '';\n  this.prefixStack_ = [];\n};\n\n/**\n * Add a prefix to log messages.\n *\n * This only affects log messages that are added after the prefix is pushed.\n *\n * @param {string} str The prefix to prepend to future log messages.\n */\nlib.TestManager.Log.prototype.pushPrefix = function(str) {\n  this.prefixStack_.push(str);\n  this.prefix_ = this.prefixStack_.join('');\n};\n\n/**\n * Remove the most recently added message prefix.\n */\nlib.TestManager.Log.prototype.popPrefix = function() {\n  this.prefixStack_.pop();\n  this.prefix_ = this.prefixStack_.join('');\n};\n\n/**\n * Queue up a string to print to the log.\n *\n * If a line is already pending, this string is added to it.\n *\n * The string is not actually printed to the log until flush() or println()\n * is called.  The following call sequence will result in TWO lines in the\n * log...\n *\n *   log.print('hello');\n *   log.print(' ');\n *   log.println('world');\n *\n * While a typical stream-like thing would result in 'hello world\\n', this one\n * results in 'hello \\nworld\\n'.\n *\n * @param {string} str The string to add to the log.\n */\nlib.TestManager.Log.prototype.print = function(str) {\n  if (this.pending_) {\n    this.pending_ += str;\n  } else {\n    this.pending_ = this.prefix_ + str;\n  }\n};\n\n/**\n * Print a line to the log and flush it immediately.\n *\n * @param {string} str The string to add to the log.\n */\nlib.TestManager.Log.prototype.println = function(str) {\n  if (this.pending_)\n    this.flush();\n\n  this.logFunction_(this.prefix_ + str);\n};\n\n/**\n * Flush any pending log message.\n */\nlib.TestManager.Log.prototype.flush = function() {\n  if (!this.pending_)\n    return;\n\n  this.logFunction_(this.pending_);\n  this.pending_ = '';\n};\n\n/**\n * Returns a new constructor function that will inherit from\n * lib.TestManager.Suite.\n *\n * Use this function to create a new test suite subclass.  It will return a\n * properly initialized constructor function for the subclass.  You can then\n * override the setup() and preamble() methods if necessary and add test cases\n * to the subclass.\n *\n *   var MyTests = new lib.TestManager.Suite('MyTests');\n *\n *   MyTests.prototype.setup = function(cx) {\n *     // Sets this.size to cx.size if it exists, or the default value of 10\n *     // if not.\n *     this.setDefault(cx, {size: 10});\n *   };\n *\n *   MyTests.prototype.preamble = function(result, cx) {\n *     // Some tests (even successful ones) may side-effect this list, so\n *     // recreate it before every test.\n *     this.list = [];\n *     for (var i = 0; i < this.size; i++) {\n *       this.list[i] = i;\n *     }\n *   };\n *\n *   // Basic synchronous test case.\n *   MyTests.addTest('pop-length', function(result, cx) {\n *       this.list.pop();\n *\n *       // If this assertion fails, the testcase will stop here.\n *       result.assertEQ(this.list.length, this.size - 1);\n *\n *       // A test must indicate it has passed by calling this method.\n *       result.pass();\n *     });\n *\n *   // Sample asynchronous test case.\n *   MyTests.addTest('async-pop-length', function(result, cx) {\n *       var self = this;\n *\n *       var callback = function() {\n *           result.assertEQ(self.list.length, self.size - 1);\n *           result.pass();\n *       };\n *\n *       // Wait 100ms to check the array length for the sake of this example.\n *       setTimeout(callback, 100);\n *\n *       this.list.pop();\n *\n *       // Indicate that this test needs another 200ms to complete.\n *       // If the test does not report pass/fail by then, it is considered to\n *       // have timed out.\n *       result.requestTime(200);\n *     });\n *\n *   ...\n *\n * @param {string} suiteName The name of the test suite.\n */\nlib.TestManager.Suite = function(suiteName) {\n  function ctor(testManager, cx) {\n    this.testManager_ = testManager;\n    this.suiteName = suiteName;\n\n    this.setup(cx);\n  }\n\n  ctor.suiteName = suiteName;\n  ctor.addTest = lib.TestManager.Suite.addTest;\n  ctor.disableTest = lib.TestManager.Suite.disableTest;\n  ctor.getTest = lib.TestManager.Suite.getTest;\n  ctor.getTestList = lib.TestManager.Suite.getTestList;\n  ctor.testList_ = [];\n  ctor.testMap_ = {};\n  ctor.prototype = { __proto__: lib.TestManager.Suite.prototype };\n\n  lib.TestManager.Suite.subclasses.push(ctor);\n\n  return ctor;\n};\n\n/**\n * List of lib.TestManager.Suite subclasses, in the order they were defined.\n */\nlib.TestManager.Suite.subclasses = [];\n\n/**\n * Add a test to a lib.TestManager.Suite.\n *\n * This method is copied to new subclasses when they are created.\n */\nlib.TestManager.Suite.addTest = function(testName, testFunction) {\n  if (testName in this.testMap_)\n    throw 'Duplicate test name: ' + testName;\n\n  var test = new lib.TestManager.Test(this, testName, testFunction);\n  this.testMap_[testName] = test;\n  this.testList_.push(test);\n};\n\n/**\n * Defines a disabled test.\n */\nlib.TestManager.Suite.disableTest = function(testName, testFunction) {\n  if (testName in this.testMap_)\n    throw 'Duplicate test name: ' + testName;\n\n  var test = new lib.TestManager.Test(this, testName, testFunction);\n  console.log('Disabled test: ' + test.fullName);\n};\n\n/**\n * Get a lib.TestManager.Test instance by name.\n *\n * This method is copied to new subclasses when they are created.\n *\n * @param {string} testName The name of the desired test.\n * @return {lib.TestManager.Test} The requested test, or undefined if it was not\n *     found.\n */\nlib.TestManager.Suite.getTest = function(testName) {\n  return this.testMap_[testName];\n};\n\n/**\n * Get an array of lib.TestManager.Tests associated with this Suite.\n *\n * This method is copied to new subclasses when they are created.\n */\nlib.TestManager.Suite.getTestList = function() {\n  return this.testList_;\n};\n\n/**\n * Set properties on a test suite instance, pulling the property value from\n * the context if it exists and from the defaults dictionary if not.\n *\n * This is intended to be used in your test suite's setup() method to\n * define parameters for the test suite which may be overridden through the\n * context object.  For example...\n *\n *   MySuite.prototype.setup = function(cx) {\n *     this.setDefaults(cx, {size: 10});\n *   };\n *\n * If the context object has a 'size' property then this.size will be set to\n * the value of cx.size, otherwise this.size will get a default value of 10.\n *\n * @param {Object} cx The context object for a test run.\n * @param {Object} defaults An object containing name/value pairs to set on\n *     this test suite instance.  The value listed here will be used if the\n *     name is not defined on the context object.\n */\nlib.TestManager.Suite.prototype.setDefaults = function(cx, defaults) {\n  for (var k in defaults) {\n    this[k] = (k in cx) ? cx[k] : defaults[k];\n  }\n};\n\n/**\n * Subclassable method called to set up the test suite.\n *\n * The default implementation of this method is a no-op.  If your test suite\n * requires some kind of suite-wide setup, this is the place to do it.\n *\n * It's fine to store state on the test suite instance, that state will be\n * accessible to all tests in the suite.  If any test case fails, the entire\n * test suite object will be discarded and a new one will be created for\n * the remaining tests.\n *\n * Any side effects outside of this test suite instance must be idempotent.\n * For example, if you're adding DOM nodes to a document, make sure to first\n * test that they're not already there.  If they are, remove them rather than\n * reuse them.  You should not count on their state, since they were probably\n * left behind by a failed testcase.\n *\n * Any exception here will abort the remainder of the test run.\n *\n * @param {Object} cx The context object for a test run.\n */\nlib.TestManager.Suite.prototype.setup = function(cx) {};\n\n/**\n * Subclassable method called to do pre-test set up.\n *\n * The default implementation of this method is a no-op.  If your test suite\n * requires some kind of pre-test setup, this is the place to do it.\n *\n * This can be used to avoid a bunch of boilerplate setup/teardown code in\n * this suite's testcases.\n *\n * Any exception here will abort the remainder of the test run.\n *\n * @param {lib.TestManager.Result} result The result object for the upcoming\n *     test.\n * @param {Object} cx The context object for a test run.\n */\nlib.TestManager.Suite.prototype.preamble = function(result, cx) {};\n\n/**\n * Subclassable method called to do post-test tear-down.\n *\n * The default implementation of this method is a no-op.  If your test suite\n * requires some kind of pre-test setup, this is the place to do it.\n *\n * This can be used to avoid a bunch of boilerplate setup/teardown code in\n * this suite's testcases.\n *\n * Any exception here will abort the remainder of the test run.\n *\n * @param {lib.TestManager.Result} result The result object for the upcoming\n *     test.\n * @param {Object} cx The context object for a test run.\n */\nlib.TestManager.Suite.prototype.postamble = function(result, cx) {};\n\n/**\n * Object representing a single test in a test suite.\n *\n * These are created as part of the lib.TestManager.Suite.addTest() method.\n * You should never have to construct one by hand.\n *\n * @param {lib.TestManager.Suite} suiteClass The test suite class containing\n *     this test.\n * @param {string} testName The local name of this test case, not including the\n *     test suite name.\n * @param {function(lib.TestManager.Result, Object)} testFunction The function\n *     to invoke for this test case.  This is passed a Result instance and the\n *     context object associated with the test run.\n *\n */\nlib.TestManager.Test = function(suiteClass, testName, testFunction) {\n  /**\n   * The test suite class containing this function.\n   */\n  this.suiteClass = suiteClass;\n\n  /**\n   * The local name of this test, not including the test suite name.\n   */\n  this.testName = testName;\n\n  /**\n   * The global name of this test, including the test suite name.\n   */\n  this.fullName = suiteClass.suiteName + '[' + testName + ']';\n\n  // The function to call for this test.\n  this.testFunction_ = testFunction;\n};\n\n/**\n * Execute this test.\n *\n * This is called by a lib.TestManager.Result instance, as part of a\n * lib.TestManager.TestRun.  You should not call it by hand.\n *\n * @param {lib.TestManager.Result} result The result object for the test.\n */\nlib.TestManager.Test.prototype.run = function(result) {\n  try {\n    // Tests are applied to the parent lib.TestManager.Suite subclass.\n    this.testFunction_.apply(result.suite,\n                             [result, result.testRun.cx]);\n  } catch (ex) {\n    if (ex instanceof lib.TestManager.Result.TestComplete)\n      return;\n\n    result.println('Test raised an exception: ' + ex);\n\n    if (ex.stack) {\n      if (ex.stack instanceof Array) {\n        result.println(ex.stack.join('\\n'));\n      } else {\n        result.println(ex.stack);\n      }\n    }\n\n    result.completeTest_(result.FAILED, false);\n  }\n};\n\n/**\n * Used to choose a set of tests and run them.\n *\n * It's slightly more convenient to construct one of these from\n * lib.TestManager.prototype.createTestRun().\n *\n * @param {lib.TestManager} testManager The testManager associated with this\n *     TestRun.\n * @param {Object} cx A context to be passed into the tests.  This can be used\n *     to set parameters for the test suite or individual test cases.\n */\nlib.TestManager.TestRun = function(testManager, cx) {\n  /**\n   * The associated lib.TestManager instance.\n   */\n  this.testManager = testManager;\n\n  /**\n   * Shortcut to the lib.TestManager's log.\n   */\n  this.log = testManager.log;\n\n  /**\n   * The test run context.  It's entirely up to the test suite and test cases\n   * how this is used.  It is opaque to lib.TestManager.* classes.\n   */\n  this.cx = cx || {};\n\n  /**\n   * The list of test cases that encountered failures.\n   */\n  this.failures = [];\n\n  /**\n   * The list of test cases that passed.\n   */\n  this.passes = [];\n\n  /**\n   * The time the test run started, or null if it hasn't been started yet.\n   */\n  this.startDate = null;\n\n  /**\n   * The time in milliseconds that the test run took to complete, or null if\n   * it hasn't completed yet.\n   */\n  this.duration = null;\n\n  /**\n   * The most recent result object, or null if the test run hasn't started\n   * yet.  In order to detect late failures, this is not cleared when the test\n   * completes.\n   */\n  this.currentResult = null;\n\n  /**\n   * Number of maximum failures.  The test run will stop when this number is\n   * reached.  If 0 or ommitted, the entire set of selected tests is run, even\n   * if some fail.\n   */\n  this.maxFailures = 0;\n\n  /**\n   * True if this test run ended early because of an unexpected condition.\n   */\n  this.panic = false;\n\n  // List of pending test cases.\n  this.testQueue_ = [];\n\n};\n\n/**\n * This value can be passed to select() to indicate that all tests should\n * be selected.\n */\nlib.TestManager.TestRun.prototype.ALL_TESTS = new String('<all-tests>');\n\n/**\n * Add a single test to the test run.\n */\nlib.TestManager.TestRun.prototype.selectTest = function(test) {\n  this.testQueue_.push(test);\n};\n\nlib.TestManager.TestRun.prototype.selectSuite = function(\n    suiteClass, opt_pattern) {\n  var pattern = opt_pattern || this.ALL_TESTS;\n  var selectCount = 0;\n  var testList = suiteClass.getTestList();\n\n  for (var j = 0; j < testList.length; j++) {\n    var test = testList[j];\n    // Note that we're using \"!==\" rather than \"!=\" so that we're matching\n    // the ALL_TESTS String object, rather than the contents of the string.\n    if (pattern !== this.ALL_TESTS) {\n      if (pattern instanceof RegExp) {\n        if (!pattern.test(test.testName))\n          continue;\n      } else if (test.testName != pattern) {\n        continue;\n      }\n    }\n\n    this.selectTest(test);\n    selectCount++;\n  }\n\n  return selectCount;\n};\n\n/**\n * Selects one or more tests to gather results for.\n *\n * Selecting the same test more than once is allowed.\n *\n * @param {string|RegExp} pattern Pattern used to select tests.\n *     If TestRun.prototype.ALL_TESTS, all tests are selected.\n *     If a string, only the test that exactly matches is selected.\n *     If a RegExp, only tests matching the RegExp are added.\n *\n * @return {int} The number of additional tests that have been selected into\n *     this TestRun.\n */\nlib.TestManager.TestRun.prototype.selectPattern = function(pattern) {\n  var selectCount = 0;\n\n  for (var i = 0; i < lib.TestManager.Suite.subclasses.length; i++) {\n    selectCount += this.selectSuite(lib.TestManager.Suite.subclasses[i],\n                                    pattern);\n  }\n\n  if (!selectCount) {\n    this.log.println('No tests matched selection criteria: ' + pattern);\n  }\n\n  return selectCount;\n};\n\n/**\n * Hooked up to window.onerror during a test run in order to catch exceptions\n * that would otherwise go uncaught.\n */\nlib.TestManager.TestRun.prototype.onUncaughtException_ = function(\n    message, file, line) {\n\n  if (message.indexOf('Uncaught lib.TestManager.Result.TestComplete') == 0 ||\n      message.indexOf('status: passed') != -1) {\n    // This is a result.pass() or result.fail() call from a callback.  We're\n    // already going to deal with it as part of the completeTest_() call\n    // that raised it.  We can safely squelch this error message.\n    return true;\n  }\n\n  if (!this.currentResult)\n    return;\n\n  if (message == 'Uncaught ' + this.currentResult.expectedErrorMessage_) {\n    // Test cases may need to raise an unhandled exception as part of the test.\n    return;\n  }\n\n  var when = 'during';\n\n  if (this.currentResult.status != this.currentResult.PENDING)\n    when = 'after';\n\n  this.log.println('Uncaught exception ' + when + ' test case: ' +\n                   this.currentResult.test.fullName);\n  this.log.println(message + ', ' + file + ':' + line);\n\n  this.currentResult.completeTest_(this.currentResult.FAILED, false);\n\n  return false;\n};\n\n/**\n * Called to when this test run has completed.\n *\n * This method typically re-runs itself asynchronously, in order to let the\n * DOM stabilize and short-term timeouts to complete before declaring the\n * test run complete.\n *\n * @param {boolean} opt_skipTimeout If true, the timeout is skipped and the\n *     test run is completed immediately.  This should only be used from within\n *     this function.\n */\nlib.TestManager.TestRun.prototype.onTestRunComplete_ = function(\n    opt_skipTimeout) {\n  if (!opt_skipTimeout) {\n    // The final test may have left a lingering setTimeout(..., 0), or maybe\n    // poked at the DOM in a way that will trigger a event to fire at the end\n    // of this stack, so we give things a chance to settle down before our\n    // final cleanup...\n    setTimeout(this.onTestRunComplete_.bind(this), 0, true);\n    return;\n  }\n\n  this.duration = (new Date()) - this.startDate;\n\n  this.log.popPrefix();\n  this.log.println('} ' + this.passes.length + ' passed, ' +\n                   this.failures.length + ' failed, '  +\n                   this.msToSeconds_(this.duration));\n  this.log.println('');\n\n  this.summarize();\n\n  window.onerror = null;\n\n  this.testManager.onTestRunComplete(this);\n};\n\n/**\n * Called by the lib.TestManager.Result object when a test completes.\n *\n * @param {lib.TestManager.Result} result The result object which has just\n *     completed.\n */\nlib.TestManager.TestRun.prototype.onResultComplete = function(result) {\n  try {\n    result.suite.postamble();\n  } catch (ex) {\n    this.log.println('Unexpected exception in postamble: ' +\n                     (ex.stack ? ex.stack : ex));\n    this.panic = true;\n  }\n\n  this.log.popPrefix();\n  this.log.print('} ' + result.status + ', ' +\n                 this.msToSeconds_(result.duration));\n  this.log.flush();\n\n  if (result.status == result.FAILED) {\n    this.failures.push(result);\n    this.currentSuite = null;\n  } else if (result.status == result.PASSED) {\n    this.passes.push(result);\n  } else {\n    this.log.println('Unknown result status: ' + result.test.fullName + ': ' +\n                     result.status);\n    return this.panic = true;\n  }\n\n  this.runNextTest_();\n};\n\n/**\n * Called by the lib.TestManager.Result object when a test which has already\n * completed reports another completion.\n *\n * This is usually indicative of a buggy testcase.  It is probably reporting a\n * result on exit and then again from an asynchronous callback.\n *\n * It may also be the case that the last act of the testcase causes a DOM change\n * which triggers some event to run after the test returns.  If the event\n * handler reports a failure or raises an uncaught exception, the test will\n * fail even though it has already completed.\n *\n * In any case, re-completing a test ALWAYS moves it into the failure pile.\n *\n * @param {lib.TestManager.Result} result The result object which has just\n *     completed.\n * @param {string} lateStatus The status that the test attempted to record this\n *     time around.\n */\nlib.TestManager.TestRun.prototype.onResultReComplete = function(\n    result, lateStatus) {\n  this.log.println('Late complete for test: ' + result.test.fullName + ': ' +\n                   lateStatus);\n\n  // Consider any late completion a failure, even if it's a double-pass, since\n  // it's a misuse of the testing API.\n  var index = this.passes.indexOf(result);\n  if (index >= 0) {\n    this.passes.splice(index, 1);\n    this.failures.push(result);\n  }\n};\n\n/**\n * Run the next test in the queue.\n */\nlib.TestManager.TestRun.prototype.runNextTest_ = function() {\n  if (this.panic || !this.testQueue_.length)\n    return this.onTestRunComplete_();\n\n  if (this.maxFailures && this.failures.length >= this.maxFailures) {\n    this.log.println('Maximum failure count reached, aborting test run.');\n    return this.onTestRunComplete_();\n  }\n\n  // Peek at the top test first.  We remove it later just before it's about\n  // to run, so that we don't disturb the incomplete test count in the\n  // event that we fail before running it.\n  var test = this.testQueue_[0];\n  var suite = this.currentResult ? this.currentResult.suite : null;\n\n  try {\n    if (!suite || !(suite instanceof test.suiteClass)) {\n      this.log.println('Initializing suite: ' + test.suiteClass.suiteName);\n      suite = new test.suiteClass(this.testManager, this.cx);\n    }\n  } catch (ex) {\n    // If test suite setup fails we're not even going to try to run the tests.\n    this.log.println('Exception during setup: ' + (ex.stack ? ex.stack : ex));\n    this.panic = true;\n    this.onTestRunComplete_();\n    return;\n  }\n\n  try {\n    this.log.print('Test: ' + test.fullName + ' {');\n    this.log.pushPrefix('  ');\n\n    this.currentResult = new lib.TestManager.Result(this, suite, test);\n    suite.preamble(this.currentResult, this.cx);\n\n    this.testQueue_.shift();\n  } catch (ex) {\n    this.log.println('Unexpected exception during test preamble: ' +\n                     (ex.stack ? ex.stack : ex));\n    this.log.popPrefix();\n    this.log.println('}');\n\n    this.panic = true;\n    this.onTestRunComplete_();\n    return;\n  }\n\n  try {\n    this.currentResult.run();\n  } catch (ex) {\n    // Result.run() should catch test exceptions and turn them into failures.\n    // If we got here, it means there is trouble in the testing framework.\n    this.log.println('Unexpected exception during test run: ' +\n                     (ex.stack ? ex.stack : ex));\n    this.panic = true;\n  }\n};\n\n/**\n * Run the selected list of tests.\n *\n * Some tests may need to run asynchronously, so you cannot assume the run is\n * complete when this function returns.  Instead, pass in a function to be\n * called back when the run has completed.\n *\n * This function will log the results of the test run as they happen into the\n * log defined by the associated lib.TestManager.  By default this is\n * console.log, which can be viewed in the JavaScript console of most browsers.\n *\n * The browser state is determined by the last test to run.  We intentionally\n * don't do any cleanup so that you can inspect the state of a failed test, or\n * leave the browser ready for manual testing.\n *\n * Any failures in lib.TestManager.* code or test suite setup or test case\n * preamble will cause the test run to abort.\n */\nlib.TestManager.TestRun.prototype.run = function() {\n  this.log.println('Running ' + this.testQueue_.length + ' test(s) {');\n  this.log.pushPrefix('  ');\n\n  window.onerror = this.onUncaughtException_.bind(this);\n  this.startDate = new Date();\n  this.runNextTest_();\n};\n\n/**\n * Format milliseconds as fractional seconds.\n */\nlib.TestManager.TestRun.prototype.msToSeconds_ = function(ms) {\n  var secs = (ms / 1000).toFixed(2);\n  return secs + 's';\n};\n\n/**\n * Log the current result summary.\n */\nlib.TestManager.TestRun.prototype.summarize = function() {\n  if (this.failures.length) {\n    for (var i = 0; i < this.failures.length; i++) {\n      this.log.println('FAILED: ' + this.failures[i].test.fullName);\n    }\n  }\n\n  if (this.testQueue_.length) {\n    this.log.println('Test run incomplete: ' + this.testQueue_.length +\n                     ' test(s) were not run.');\n  }\n};\n\n/**\n * Record of the result of a single test.\n *\n * These are constructed during a test run, you shouldn't have to make one\n * on your own.\n *\n * An instance of this class is passed in to each test function.  It can be\n * used to add messages to the test log, to record a test pass/fail state, to\n * test assertions, or to create exception-proof wrappers for callback\n * functions.\n *\n * @param {lib.TestManager.TestRun} testRun The TestRun instance associated with\n *     this result.\n * @param {lib.TestManager.Suit} suite The Suite containing the test we're\n *     collecting this result for.\n * @param {lib.TestManager.Test} test The test we're collecting this result for.\n */\nlib.TestManager.Result = function(testRun, suite, test) {\n  /**\n   * The TestRun instance associated with this result.\n   */\n  this.testRun = testRun;\n\n  /**\n   * The Suite containing the test we're collecting this result for.\n   */\n  this.suite = suite;\n\n  /**\n   * The test we're collecting this result for.\n   */\n  this.test = test;\n\n  /**\n   * The time we started to collect this result, or null if we haven't started.\n   */\n  this.startDate = null;\n\n  /**\n   * The time in milliseconds that the test took to complete, or null if\n   * it hasn't completed yet.\n   */\n  this.duration = null;\n\n  /**\n   * The current status of this test result.\n   */\n  this.status = this.PENDING;\n\n  // An error message that the test case is expected to generate.\n  this.expectedErrorMessage_ = null;\n};\n\n/**\n * Possible values for this.status.\n */\nlib.TestManager.Result.prototype.PENDING = 'pending';\nlib.TestManager.Result.prototype.FAILED  = 'FAILED';\nlib.TestManager.Result.prototype.PASSED  = 'passed';\n\n/**\n * Exception thrown when a test completes (pass or fail), to ensure no more of\n * the test is run.\n */\nlib.TestManager.Result.TestComplete = function(result) {\n  this.result = result;\n};\n\nlib.TestManager.Result.TestComplete.prototype.toString = function() {\n  return 'lib.TestManager.Result.TestComplete: ' + this.result.test.fullName +\n      ', status: ' + this.result.status;\n}\n\n/**\n * Start the test associated with this result.\n */\nlib.TestManager.Result.prototype.run = function() {\n  var self = this;\n\n  this.startDate = new Date();\n  this.test.run(this);\n\n  if (this.status == this.PENDING && !this.timeout_) {\n    this.println('Test did not return a value and did not request more time.');\n    this.completeTest_(this.FAILED, false);\n  }\n};\n\n/**\n * Unhandled error message this test expects to generate.\n *\n * This must be the exact string that would appear in the JavaScript console,\n * minus the 'Uncaught ' prefix.\n *\n * The test case does *not* automatically fail if the error message is not\n * encountered.\n */\nlib.TestManager.Result.prototype.expectErrorMessage = function(str) {\n  this.expectedErrorMessage_ = str;\n};\n\n/**\n * Function called when a test times out.\n */\nlib.TestManager.Result.prototype.onTimeout_ = function() {\n  this.timeout_ = null;\n\n  if (this.status != this.PENDING)\n    return;\n\n  this.println('Test timed out.');\n  this.completeTest_(this.FAILED, false);\n};\n\n/**\n * Indicate that a test case needs more time to complete.\n *\n * Before a test case returns it must report a pass/fail result, or request more\n * time to do so.\n *\n * If a test does not report pass/fail before the time expires it will\n * be reported as a timeout failure.  Any late pass/fails will be noted in the\n * test log, but will not affect the final result of the test.\n *\n * Test cases may call requestTime more than once.  If you have a few layers\n * of asynchronous API to go through, you should call this once per layer with\n * an estimate of how long each callback will take to complete.\n *\n * @param {int} ms Number of milliseconds requested.\n */\nlib.TestManager.Result.prototype.requestTime = function(ms) {\n  if (this.timeout_)\n    clearTimeout(this.timeout_);\n\n  this.timeout_ = setTimeout(this.onTimeout_.bind(this), ms);\n};\n\n/**\n * Report the completion of a test.\n *\n * @param {string} status The status of the test case.\n * @param {boolean} opt_throw Optional boolean indicating whether or not\n *     to throw the TestComplete exception.\n */\nlib.TestManager.Result.prototype.completeTest_ = function(status, opt_throw) {\n  if (this.status == this.PENDING) {\n    this.duration = (new Date()) - this.startDate;\n    this.status = status;\n\n    this.testRun.onResultComplete(this);\n  } else {\n    this.testRun.onResultReComplete(this, status);\n  }\n\n  if (arguments.length < 2 || opt_throw)\n    throw new lib.TestManager.Result.TestComplete(this);\n};\n\n/**\n * Assert that an actual value is exactly equal to the expected value.\n *\n * This uses the JavaScript '===' operator in order to avoid type coercion.\n *\n * If the assertion fails, the test is marked as a failure and a TestCompleted\n * exception is thrown.\n *\n * @param {*} actual The actual measured value.\n * @param {*} expected The value expected.\n * @param {string} opt_name An optional name used to identify this\n *     assertion in the test log.  If ommitted it will be the file:line\n *     of the caller.\n */\nlib.TestManager.Result.prototype.assertEQ = function(\n    actual, expected, opt_name) {\n  // Utility function to pretty up the log.\n  function format(value) {\n    if (typeof value == 'number')\n      return value;\n\n    var str = String(value);\n    var ary = str.split('\\n').map(function (e) { return JSON.stringify(e) });\n    if (ary.length > 1) {\n      // If the string has newlines, start it off on its own line so that\n      // it's easier to compare against another string with newlines.\n      return '\\n' + ary.join('\\n');\n    } else {\n      return ary.join('\\n');\n    }\n  }\n\n  if (actual === expected)\n    return;\n\n  var name = opt_name ? '[' + opt_name + ']' : '';\n\n  this.fail('assertEQ' + name + ': ' + this.getCallerLocation_(1) + ': ' +\n            format(actual) + ' !== ' + format(expected));\n};\n\n/**\n * Assert that a value is true.\n *\n * This uses the JavaScript '===' operator in order to avoid type coercion.\n * The must be the boolean value `true`, not just some \"truish\" value.\n *\n * If the assertion fails, the test is marked as a failure and a TestCompleted\n * exception is thrown.\n *\n * @param {boolean} actual The actual measured value.\n * @param {string} opt_name An optional name used to identify this\n *     assertion in the test log.  If ommitted it will be the file:line\n *     of the caller.\n */\nlib.TestManager.Result.prototype.assert = function(actual, opt_name) {\n  if (actual === true)\n    return;\n\n  var name = opt_name ? '[' + opt_name + ']' : '';\n\n  this.fail('assert' + name + ': ' + this.getCallerLocation_(1) + ': ' +\n            String(actual));\n};\n\n/**\n * Return the filename:line of a calling stack frame.\n *\n * This uses a dirty hack.  It throws an exception, catches it, and examines\n * the stack property of the caught exception.\n *\n * @param {int} frameIndex The stack frame to return.  0 is the frame that\n *     called this method, 1 is its caller, and so on.\n * @return {string} A string of the format \"filename:linenumber\".\n */\nlib.TestManager.Result.prototype.getCallerLocation_ = function(frameIndex) {\n  try {\n    throw new Error();\n  } catch (ex) {\n    var frame = ex.stack.split('\\n')[frameIndex + 2];\n    var ary = frame.match(/([^/]+:\\d+):\\d+\\)?$/);\n    return ary ? ary[1] : '???';\n  }\n};\n\n/**\n * Write a message to the result log.\n */\nlib.TestManager.Result.prototype.println = function(message) {\n  this.testRun.log.println(message);\n};\n\n/**\n * Mark a failed test and exit out of the rest of the test.\n *\n * This will throw a TestCompleted exception, causing the current test to stop.\n *\n * @param {string} opt_message Optional message to add to the log.\n */\nlib.TestManager.Result.prototype.fail = function(opt_message) {\n  if (arguments.length)\n    this.println(opt_message);\n\n  this.completeTest_(this.FAILED, true);\n};\n\n/**\n * Mark a passed test and exit out of the rest of the test.\n *\n * This will throw a TestCompleted exception, causing the current test to stop.\n */\nlib.TestManager.Result.prototype.pass = function() {\n  this.completeTest_(this.PASSED, true);\n};\n// SOURCE FILE: libdot/js/lib_utf8.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n// TODO(davidben): When the string encoding API is implemented,\n// replace this with the native in-browser implementation.\n//\n// http://wiki.whatwg.org/wiki/StringEncoding\n// http://dvcs.w3.org/hg/encoding/raw-file/tip/Overview.html\n\n/**\n * A stateful UTF-8 decoder.\n */\nlib.UTF8Decoder = function() {\n  // The number of bytes left in the current sequence.\n  this.bytesLeft = 0;\n  // The in-progress code point being decoded, if bytesLeft > 0.\n  this.codePoint = 0;\n  // The lower bound on the final code point, if bytesLeft > 0.\n  this.lowerBound = 0;\n};\n\n/**\n * Decodes a some UTF-8 data, taking into account state from previous\n * data streamed through the encoder.\n *\n * @param {String} str data to decode, represented as a JavaScript\n *     String with each code unit representing a byte between 0x00 to\n *     0xFF.\n * @return {String} The data decoded into a JavaScript UTF-16 string.\n */\nlib.UTF8Decoder.prototype.decode = function(str) {\n  var ret = '';\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i);\n    if (this.bytesLeft == 0) {\n      if (c <= 0x7F) {\n        ret += str.charAt(i);\n      } else if (0xC0 <= c && c <= 0xDF) {\n        this.codePoint = c - 0xC0;\n        this.bytesLeft = 1;\n        this.lowerBound = 0x80;\n      } else if (0xE0 <= c && c <= 0xEF) {\n        this.codePoint = c - 0xE0;\n        this.bytesLeft = 2;\n        this.lowerBound = 0x800;\n      } else if (0xF0 <= c && c <= 0xF7) {\n        this.codePoint = c - 0xF0;\n        this.bytesLeft = 3;\n        this.lowerBound = 0x10000;\n      } else if (0xF8 <= c && c <= 0xFB) {\n        this.codePoint = c - 0xF8;\n        this.bytesLeft = 4;\n        this.lowerBound = 0x200000;\n      } else if (0xFC <= c && c <= 0xFD) {\n        this.codePoint = c - 0xFC;\n        this.bytesLeft = 5;\n        this.lowerBound = 0x4000000;\n      } else {\n        ret += '\\ufffd';\n      }\n    } else {\n      if (0x80 <= c && c <= 0xBF) {\n        this.bytesLeft--;\n        this.codePoint = (this.codePoint << 6) + (c - 0x80);\n        if (this.bytesLeft == 0) {\n          // Got a full sequence. Check if it's within bounds and\n          // filter out surrogate pairs.\n          var codePoint = this.codePoint;\n          if (codePoint < this.lowerBound\n              || (0xD800 <= codePoint && codePoint <= 0xDFFF)\n              || codePoint > 0x10FFFF) {\n            ret += '\\ufffd';\n          } else {\n            // Encode as UTF-16 in the output.\n            if (codePoint < 0x10000) {\n              ret += String.fromCharCode(codePoint);\n            } else {\n              // Surrogate pair.\n              codePoint -= 0x10000;\n              ret += String.fromCharCode(\n                0xD800 + ((codePoint >>> 10) & 0x3FF),\n                0xDC00 + (codePoint & 0x3FF));\n            }\n          }\n        }\n      } else {\n        // Too few bytes in multi-byte sequence. Rewind stream so we\n        // don't lose the next byte.\n        ret += '\\ufffd';\n        this.bytesLeft = 0;\n        i--;\n      }\n    }\n  }\n  return ret;\n};\n\n/**\n * Decodes UTF-8 data. This is a convenience function for when all the\n * data is already known.\n *\n * @param {String} str data to decode, represented as a JavaScript\n *     String with each code unit representing a byte between 0x00 to\n *     0xFF.\n * @return {String} The data decoded into a JavaScript UTF-16 string.\n */\nlib.decodeUTF8 = function(utf8) {\n  return (new lib.UTF8Decoder()).decode(utf8);\n};\n\n/**\n * Encodes a UTF-16 string into UTF-8.\n *\n * TODO(davidben): Do we need a stateful version of this that can\n * handle a surrogate pair split in two calls? What happens if a\n * keypress event would have contained a character outside the BMP?\n *\n * @param {String} str The string to encode.\n * @return {String} The string encoded as UTF-8, as a JavaScript\n *     string with bytes represented as code units from 0x00 to 0xFF.\n */\nlib.encodeUTF8 = function(str) {\n  var ret = '';\n  for (var i = 0; i < str.length; i++) {\n    // Get a unicode code point out of str.\n    var c = str.charCodeAt(i);\n    if (0xDC00 <= c && c <= 0xDFFF) {\n      c = 0xFFFD;\n    } else if (0xD800 <= c && c <= 0xDBFF) {\n      if (i+1 < str.length) {\n        var d = str.charCodeAt(i+1);\n        if (0xDC00 <= d && d <= 0xDFFF) {\n          // Swallow a surrogate pair.\n          c = 0x10000 + ((c & 0x3FF) << 10) + (d & 0x3FF);\n          i++;\n        } else {\n          c = 0xFFFD;\n        }\n      } else {\n        c = 0xFFFD;\n      }\n    }\n\n    // Encode c in UTF-8.\n    var bytesLeft;\n    if (c <= 0x7F) {\n      ret += str.charAt(i);\n      continue;\n    } else if (c <= 0x7FF) {\n      ret += String.fromCharCode(0xC0 | (c >>> 6));\n      bytesLeft = 1;\n    } else if (c <= 0xFFFF) {\n      ret += String.fromCharCode(0xE0 | (c >>> 12));\n      bytesLeft = 2;\n    } else /* if (c <= 0x10FFFF) */ {\n      ret += String.fromCharCode(0xF0 | (c >>> 18));\n      bytesLeft = 3;\n    }\n\n    while (bytesLeft > 0) {\n      bytesLeft--;\n      ret += String.fromCharCode(0x80 | ((c >>> (6 * bytesLeft)) & 0x3F));\n    }\n  }\n  return ret;\n};\n// SOURCE FILE: libdot/js/lib_wc.js\n// Copyright (c) 2014 The Chromium OS Authors. All rights reserved.\n// Use of lib.wc source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * This JavaScript library is ported from the wcwidth.js module of node.js.\n * The original implementation can be found at:\n * https://npmjs.org/package/wcwidth.js\n */\n\n/**\n * JavaScript porting of Markus Kuhn's wcwidth() implementation\n *\n * The following explanation comes from the original C implementation:\n *\n * This is an implementation of wcwidth() and wcswidth() (defined in\n * IEEE Std 1002.1-2001) for Unicode.\n *\n * http://www.opengroup.org/onlinepubs/007904975/functions/wcwidth.html\n * http://www.opengroup.org/onlinepubs/007904975/functions/wcswidth.html\n *\n * In fixed-width output devices, Latin characters all occupy a single\n * \"cell\" position of equal width, whereas ideographic CJK characters\n * occupy two such cells. Interoperability between terminal-line\n * applications and (teletype-style) character terminals using the\n * UTF-8 encoding requires agreement on which character should advance\n * the cursor by how many cell positions. No established formal\n * standards exist at present on which Unicode character shall occupy\n * how many cell positions on character terminals. These routines are\n * a first attempt of defining such behavior based on simple rules\n * applied to data provided by the Unicode Consortium.\n *\n * For some graphical characters, the Unicode standard explicitly\n * defines a character-cell width via the definition of the East Asian\n * FullWidth (F), Wide (W), Half-width (H), and Narrow (Na) classes.\n * In all these cases, there is no ambiguity about which width a\n * terminal shall use. For characters in the East Asian Ambiguous (A)\n * class, the width choice depends purely on a preference of backward\n * compatibility with either historic CJK or Western practice.\n * Choosing single-width for these characters is easy to justify as\n * the appropriate long-term solution, as the CJK practice of\n * displaying these characters as double-width comes from historic\n * implementation simplicity (8-bit encoded characters were displayed\n * single-width and 16-bit ones double-width, even for Greek,\n * Cyrillic, etc.) and not any typographic considerations.\n *\n * Much less clear is the choice of width for the Not East Asian\n * (Neutral) class. Existing practice does not dictate a width for any\n * of these characters. It would nevertheless make sense\n * typographically to allocate two character cells to characters such\n * as for instance EM SPACE or VOLUME INTEGRAL, which cannot be\n * represented adequately with a single-width glyph. The following\n * routines at present merely assign a single-cell width to all\n * neutral characters, in the interest of simplicity. This is not\n * entirely satisfactory and should be reconsidered before\n * establishing a formal standard in lib.wc area. At the moment, the\n * decision which Not East Asian (Neutral) characters should be\n * represented by double-width glyphs cannot yet be answered by\n * applying a simple rule from the Unicode database content. Setting\n * up a proper standard for the behavior of UTF-8 character terminals\n * will require a careful analysis not only of each Unicode character,\n * but also of each presentation form, something the author of these\n * routines has avoided to do so far.\n *\n * http://www.unicode.org/unicode/reports/tr11/\n *\n * Markus Kuhn -- 2007-05-26 (Unicode 5.0)\n *\n * Permission to use, copy, modify, and distribute lib.wc software\n * for any purpose and without fee is hereby granted. The author\n * disclaims all warranties with regard to lib.wc software.\n *\n * Latest version: http://www.cl.cam.ac.uk/~mgk25/ucs/wcwidth.c\n */\n\n/**\n * The following function defines the column width of an ISO 10646 character\n * as follows:\n *\n *  - The null character (U+0000) has a column width of 0.\n *  - Other C0/C1 control characters and DEL will lead to a return value of -1.\n *  - Non-spacing and enclosing combining characters (general category code Mn\n *    or Me in the Unicode database) have a column width of 0.\n *  - SOFT HYPHEN (U+00AD) has a column width of 1.\n *  - Other format characters (general category code Cf in the Unicode database)\n *    and ZERO WIDTH SPACE (U+200B) have a column width of 0.\n *  - Hangul Jamo medial vowels and final consonants (U+1160-U+11FF) have a\n *    column width of 0.\n *  - Spacing characters in the East Asian Wide (W) or East Asian Full-width (F)\n *    category as defined in Unicode Technical Report #11 have a column width of\n *    2.\n *  - East Asian Ambigous characters are taken into account if\n *    regardCjkAmbiguous flag is enabled. They have a column width of 2.\n *  - All remaining characters (including all printable ISO 8859-1 and WGL4\n *    characters, Unicode control characters, etc.) have a column width of 1.\n *\n * This implementation assumes that characters are encoded in ISO 10646.\n */\n\nlib.wc = {};\n\n// Width of a nul character.\nlib.wc.nulWidth = 0;\n\n// Width of a control charater.\nlib.wc.controlWidth = 0;\n\n// Flag whether to consider East Asian Ambiguous characters.\nlib.wc.regardCjkAmbiguous = false;\n\n// Width of an East Asian Ambiguous character.\nlib.wc.cjkAmbiguousWidth = 2;\n\n// Sorted list of non-overlapping intervals of non-spacing characters\n// generated by \"uniset +cat=Me +cat=Mn +cat=Cf -00AD +1160-11FF +200B c\"\nlib.wc.combining = [\n    [ 0x0300, 0x036F ], [ 0x0483, 0x0486 ], [ 0x0488, 0x0489 ],\n    [ 0x0591, 0x05BD ], [ 0x05BF, 0x05BF ], [ 0x05C1, 0x05C2 ],\n    [ 0x05C4, 0x05C5 ], [ 0x05C7, 0x05C7 ], [ 0x0600, 0x0603 ],\n    [ 0x0610, 0x0615 ], [ 0x064B, 0x065E ], [ 0x0670, 0x0670 ],\n    [ 0x06D6, 0x06E4 ], [ 0x06E7, 0x06E8 ], [ 0x06EA, 0x06ED ],\n    [ 0x070F, 0x070F ], [ 0x0711, 0x0711 ], [ 0x0730, 0x074A ],\n    [ 0x07A6, 0x07B0 ], [ 0x07EB, 0x07F3 ], [ 0x0901, 0x0902 ],\n    [ 0x093C, 0x093C ], [ 0x0941, 0x0948 ], [ 0x094D, 0x094D ],\n    [ 0x0951, 0x0954 ], [ 0x0962, 0x0963 ], [ 0x0981, 0x0981 ],\n    [ 0x09BC, 0x09BC ], [ 0x09C1, 0x09C4 ], [ 0x09CD, 0x09CD ],\n    [ 0x09E2, 0x09E3 ], [ 0x0A01, 0x0A02 ], [ 0x0A3C, 0x0A3C ],\n    [ 0x0A41, 0x0A42 ], [ 0x0A47, 0x0A48 ], [ 0x0A4B, 0x0A4D ],\n    [ 0x0A70, 0x0A71 ], [ 0x0A81, 0x0A82 ], [ 0x0ABC, 0x0ABC ],\n    [ 0x0AC1, 0x0AC5 ], [ 0x0AC7, 0x0AC8 ], [ 0x0ACD, 0x0ACD ],\n    [ 0x0AE2, 0x0AE3 ], [ 0x0B01, 0x0B01 ], [ 0x0B3C, 0x0B3C ],\n    [ 0x0B3F, 0x0B3F ], [ 0x0B41, 0x0B43 ], [ 0x0B4D, 0x0B4D ],\n    [ 0x0B56, 0x0B56 ], [ 0x0B82, 0x0B82 ], [ 0x0BC0, 0x0BC0 ],\n    [ 0x0BCD, 0x0BCD ], [ 0x0C3E, 0x0C40 ], [ 0x0C46, 0x0C48 ],\n    [ 0x0C4A, 0x0C4D ], [ 0x0C55, 0x0C56 ], [ 0x0CBC, 0x0CBC ],\n    [ 0x0CBF, 0x0CBF ], [ 0x0CC6, 0x0CC6 ], [ 0x0CCC, 0x0CCD ],\n    [ 0x0CE2, 0x0CE3 ], [ 0x0D41, 0x0D43 ], [ 0x0D4D, 0x0D4D ],\n    [ 0x0DCA, 0x0DCA ], [ 0x0DD2, 0x0DD4 ], [ 0x0DD6, 0x0DD6 ],\n    [ 0x0E31, 0x0E31 ], [ 0x0E34, 0x0E3A ], [ 0x0E47, 0x0E4E ],\n    [ 0x0EB1, 0x0EB1 ], [ 0x0EB4, 0x0EB9 ], [ 0x0EBB, 0x0EBC ],\n    [ 0x0EC8, 0x0ECD ], [ 0x0F18, 0x0F19 ], [ 0x0F35, 0x0F35 ],\n    [ 0x0F37, 0x0F37 ], [ 0x0F39, 0x0F39 ], [ 0x0F71, 0x0F7E ],\n    [ 0x0F80, 0x0F84 ], [ 0x0F86, 0x0F87 ], [ 0x0F90, 0x0F97 ],\n    [ 0x0F99, 0x0FBC ], [ 0x0FC6, 0x0FC6 ], [ 0x102D, 0x1030 ],\n    [ 0x1032, 0x1032 ], [ 0x1036, 0x1037 ], [ 0x1039, 0x1039 ],\n    [ 0x1058, 0x1059 ], [ 0x1160, 0x11FF ], [ 0x135F, 0x135F ],\n    [ 0x1712, 0x1714 ], [ 0x1732, 0x1734 ], [ 0x1752, 0x1753 ],\n    [ 0x1772, 0x1773 ], [ 0x17B4, 0x17B5 ], [ 0x17B7, 0x17BD ],\n    [ 0x17C6, 0x17C6 ], [ 0x17C9, 0x17D3 ], [ 0x17DD, 0x17DD ],\n    [ 0x180B, 0x180D ], [ 0x18A9, 0x18A9 ], [ 0x1920, 0x1922 ],\n    [ 0x1927, 0x1928 ], [ 0x1932, 0x1932 ], [ 0x1939, 0x193B ],\n    [ 0x1A17, 0x1A18 ], [ 0x1B00, 0x1B03 ], [ 0x1B34, 0x1B34 ],\n    [ 0x1B36, 0x1B3A ], [ 0x1B3C, 0x1B3C ], [ 0x1B42, 0x1B42 ],\n    [ 0x1B6B, 0x1B73 ], [ 0x1DC0, 0x1DCA ], [ 0x1DFE, 0x1DFF ],\n    [ 0x200B, 0x200F ], [ 0x202A, 0x202E ], [ 0x2060, 0x2063 ],\n    [ 0x206A, 0x206F ], [ 0x20D0, 0x20EF ], [ 0x302A, 0x302F ],\n    [ 0x3099, 0x309A ], [ 0xA806, 0xA806 ], [ 0xA80B, 0xA80B ],\n    [ 0xA825, 0xA826 ], [ 0xFB1E, 0xFB1E ], [ 0xFE00, 0xFE0F ],\n    [ 0xFE20, 0xFE23 ], [ 0xFEFF, 0xFEFF ], [ 0xFFF9, 0xFFFB ],\n    [ 0x10A01, 0x10A03 ], [ 0x10A05, 0x10A06 ], [ 0x10A0C, 0x10A0F ],\n    [ 0x10A38, 0x10A3A ], [ 0x10A3F, 0x10A3F ], [ 0x1D167, 0x1D169 ],\n    [ 0x1D173, 0x1D182 ], [ 0x1D185, 0x1D18B ], [ 0x1D1AA, 0x1D1AD ],\n    [ 0x1D242, 0x1D244 ], [ 0xE0001, 0xE0001 ], [ 0xE0020, 0xE007F ],\n    [ 0xE0100, 0xE01EF ]\n];\n\n// Sorted list of non-overlapping intervals of East Asian Ambiguous characters\n// generated by \"uniset +WIDTH-A -cat=Me -cat=Mn -cat=Cf c\"\nlib.wc.ambiguous = [\n    [ 0x00A1, 0x00A1 ], [ 0x00A4, 0x00A4 ], [ 0x00A7, 0x00A8 ],\n    [ 0x00AA, 0x00AA ], [ 0x00AE, 0x00AE ], [ 0x00B0, 0x00B4 ],\n    [ 0x00B6, 0x00BA ], [ 0x00BC, 0x00BF ], [ 0x00C6, 0x00C6 ],\n    [ 0x00D0, 0x00D0 ], [ 0x00D7, 0x00D8 ], [ 0x00DE, 0x00E1 ],\n    [ 0x00E6, 0x00E6 ], [ 0x00E8, 0x00EA ], [ 0x00EC, 0x00ED ],\n    [ 0x00F0, 0x00F0 ], [ 0x00F2, 0x00F3 ], [ 0x00F7, 0x00FA ],\n    [ 0x00FC, 0x00FC ], [ 0x00FE, 0x00FE ], [ 0x0101, 0x0101 ],\n    [ 0x0111, 0x0111 ], [ 0x0113, 0x0113 ], [ 0x011B, 0x011B ],\n    [ 0x0126, 0x0127 ], [ 0x012B, 0x012B ], [ 0x0131, 0x0133 ],\n    [ 0x0138, 0x0138 ], [ 0x013F, 0x0142 ], [ 0x0144, 0x0144 ],\n    [ 0x0148, 0x014B ], [ 0x014D, 0x014D ], [ 0x0152, 0x0153 ],\n    [ 0x0166, 0x0167 ], [ 0x016B, 0x016B ], [ 0x01CE, 0x01CE ],\n    [ 0x01D0, 0x01D0 ], [ 0x01D2, 0x01D2 ], [ 0x01D4, 0x01D4 ],\n    [ 0x01D6, 0x01D6 ], [ 0x01D8, 0x01D8 ], [ 0x01DA, 0x01DA ],\n    [ 0x01DC, 0x01DC ], [ 0x0251, 0x0251 ], [ 0x0261, 0x0261 ],\n    [ 0x02C4, 0x02C4 ], [ 0x02C7, 0x02C7 ], [ 0x02C9, 0x02CB ],\n    [ 0x02CD, 0x02CD ], [ 0x02D0, 0x02D0 ], [ 0x02D8, 0x02DB ],\n    [ 0x02DD, 0x02DD ], [ 0x02DF, 0x02DF ], [ 0x0391, 0x03A1 ],\n    [ 0x03A3, 0x03A9 ], [ 0x03B1, 0x03C1 ], [ 0x03C3, 0x03C9 ],\n    [ 0x0401, 0x0401 ], [ 0x0410, 0x044F ], [ 0x0451, 0x0451 ],\n    [ 0x2010, 0x2010 ], [ 0x2013, 0x2016 ], [ 0x2018, 0x2019 ],\n    [ 0x201C, 0x201D ], [ 0x2020, 0x2022 ], [ 0x2024, 0x2027 ],\n    [ 0x2030, 0x2030 ], [ 0x2032, 0x2033 ], [ 0x2035, 0x2035 ],\n    [ 0x203B, 0x203B ], [ 0x203E, 0x203E ], [ 0x2074, 0x2074 ],\n    [ 0x207F, 0x207F ], [ 0x2081, 0x2084 ], [ 0x20AC, 0x20AC ],\n    [ 0x2103, 0x2103 ], [ 0x2105, 0x2105 ], [ 0x2109, 0x2109 ],\n    [ 0x2113, 0x2113 ], [ 0x2116, 0x2116 ], [ 0x2121, 0x2122 ],\n    [ 0x2126, 0x2126 ], [ 0x212B, 0x212B ], [ 0x2153, 0x2154 ],\n    [ 0x215B, 0x215E ], [ 0x2160, 0x216B ], [ 0x2170, 0x2179 ],\n    [ 0x2190, 0x2199 ], [ 0x21B8, 0x21B9 ], [ 0x21D2, 0x21D2 ],\n    [ 0x21D4, 0x21D4 ], [ 0x21E7, 0x21E7 ], [ 0x2200, 0x2200 ],\n    [ 0x2202, 0x2203 ], [ 0x2207, 0x2208 ], [ 0x220B, 0x220B ],\n    [ 0x220F, 0x220F ], [ 0x2211, 0x2211 ], [ 0x2215, 0x2215 ],\n    [ 0x221A, 0x221A ], [ 0x221D, 0x2220 ], [ 0x2223, 0x2223 ],\n    [ 0x2225, 0x2225 ], [ 0x2227, 0x222C ], [ 0x222E, 0x222E ],\n    [ 0x2234, 0x2237 ], [ 0x223C, 0x223D ], [ 0x2248, 0x2248 ],\n    [ 0x224C, 0x224C ], [ 0x2252, 0x2252 ], [ 0x2260, 0x2261 ],\n    [ 0x2264, 0x2267 ], [ 0x226A, 0x226B ], [ 0x226E, 0x226F ],\n    [ 0x2282, 0x2283 ], [ 0x2286, 0x2287 ], [ 0x2295, 0x2295 ],\n    [ 0x2299, 0x2299 ], [ 0x22A5, 0x22A5 ], [ 0x22BF, 0x22BF ],\n    [ 0x2312, 0x2312 ], [ 0x2460, 0x24E9 ], [ 0x24EB, 0x254B ],\n    [ 0x2550, 0x2573 ], [ 0x2580, 0x258F ], [ 0x2592, 0x2595 ],\n    [ 0x25A0, 0x25A1 ], [ 0x25A3, 0x25A9 ], [ 0x25B2, 0x25B3 ],\n    [ 0x25B6, 0x25B7 ], [ 0x25BC, 0x25BD ], [ 0x25C0, 0x25C1 ],\n    [ 0x25C6, 0x25C8 ], [ 0x25CB, 0x25CB ], [ 0x25CE, 0x25D1 ],\n    [ 0x25E2, 0x25E5 ], [ 0x25EF, 0x25EF ], [ 0x2605, 0x2606 ],\n    [ 0x2609, 0x2609 ], [ 0x260E, 0x260F ], [ 0x2614, 0x2615 ],\n    [ 0x261C, 0x261C ], [ 0x261E, 0x261E ], [ 0x2640, 0x2640 ],\n    [ 0x2642, 0x2642 ], [ 0x2660, 0x2661 ], [ 0x2663, 0x2665 ],\n    [ 0x2667, 0x266A ], [ 0x266C, 0x266D ], [ 0x266F, 0x266F ],\n    [ 0x273D, 0x273D ], [ 0x2776, 0x277F ], [ 0xE000, 0xF8FF ],\n    [ 0xFFFD, 0xFFFD ], [ 0xF0000, 0xFFFFD ], [ 0x100000, 0x10FFFD ]\n];\n\n/**\n * Binary search to check if the given unicode character is a space character.\n *\n * @param {interger} ucs A unicode character code.\n *\n * @return {boolean} True if the given character is a space character; false\n *     otherwise.\n */\nlib.wc.isSpace = function(ucs) {\n  // Auxiliary function for binary search in interval table.\n  var min = 0, max = lib.wc.combining.length - 1;\n  var mid;\n\n  if (ucs < lib.wc.combining[0][0] || ucs > lib.wc.combining[max][1])\n    return false;\n  while (max >= min) {\n    mid = Math.floor((min + max) / 2);\n    if (ucs > lib.wc.combining[mid][1]) {\n      min = mid + 1;\n    } else if (ucs < lib.wc.combining[mid][0]) {\n      max = mid - 1;\n    } else {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * Auxiliary function for checking if the given unicode character is a East\n * Asian Ambiguous character.\n *\n * @param {interger} ucs A unicode character code.\n *\n * @return {boolean} True if the given character is a East Asian Ambiguous\n * character.\n */\nlib.wc.isCjkAmbiguous = function(ucs) {\n  var min = 0, max = lib.wc.ambiguous.length - 1;\n  var mid;\n\n  if (ucs < lib.wc.ambiguous[0][0] || ucs > lib.wc.ambiguous[max][1])\n    return false;\n  while (max >= min) {\n    mid = Math.floor((min + max) / 2);\n    if (ucs > lib.wc.ambiguous[mid][1]) {\n      min = mid + 1;\n    } else if (ucs < lib.wc.ambiguous[mid][0]) {\n      max = mid - 1;\n    } else {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * Determine the column width of the given character.\n *\n * @param {integer} ucs A unicode character code.\n *\n * @return {integer} The column width of the given character.\n */\nlib.wc.charWidth = function(ucs) {\n  if (lib.wc.regardCjkAmbiguous) {\n    return lib.wc.charWidthRegardAmbiguous(ucs);\n  } else {\n    return lib.wc.charWidthDisregardAmbiguous(ucs);\n  }\n};\n\n/**\n * Determine the column width of the given character without considering East\n * Asian Ambiguous characters.\n *\n * @param {integer} ucs A unicode character code.\n *\n * @return {integer} The column width of the given character.\n */\nlib.wc.charWidthDisregardAmbiguous = function(ucs) {\n  // Test for 8-bit control characters.\n  if (ucs === 0)\n    return lib.wc.nulWidth;\n  if (ucs < 32 || (ucs >= 0x7f && ucs < 0xa0))\n    return lib.wc.controlWidth;\n\n  // Optimize for ASCII characters.\n  if (ucs < 0x7f)\n    return 1;\n\n  // Binary search in table of non-spacing characters.\n  if (lib.wc.isSpace(ucs))\n    return 0;\n\n  // If we arrive here, ucs is not a combining or C0/C1 control character.\n  return 1 +\n    (ucs >= 0x1100 &&\n     (ucs <= 0x115f ||             // Hangul Jamo init. consonants\n      ucs == 0x2329 || ucs == 0x232a ||\n      (ucs >= 0x2e80 && ucs <= 0xa4cf &&\n       ucs != 0x303f) ||           // CJK ... Yi\n      (ucs >= 0xac00 && ucs <= 0xd7a3) ||  // Hangul Syllables\n      (ucs >= 0xf900 && ucs <= 0xfaff) ||  // CJK Compatibility Ideographs\n      (ucs >= 0xfe10 && ucs <= 0xfe19) ||  // Vertical forms\n      (ucs >= 0xfe30 && ucs <= 0xfe6f) ||  // CJK Compatibility Forms\n      (ucs >= 0xff00 && ucs <= 0xff60) ||  // Fullwidth Forms\n      (ucs >= 0xffe0 && ucs <= 0xffe6) ||\n      (ucs >= 0x20000 && ucs <= 0x2fffd) ||\n      (ucs >= 0x30000 && ucs <= 0x3fffd)));\n};\n\n/**\n * Determine the column width of the given character considering East Asian\n * Ambiguous characters.\n *\n * @param {integer} ucs A unicode character code.\n *\n * @return {integer} The column width of the given character.\n */\nlib.wc.charWidthRegardAmbiguous = function(ucs) {\n  if (lib.wc.isCjkAmbiguous(ucs))\n    return lib.wc.cjkAmbiguousWidth;\n\n  return lib.wc.charWidthDisregardAmbiguous(ucs);\n};\n\n/**\n * Determine the column width of the given string.\n *\n * @param {string} str A string.\n *\n * @return {integer} The column width of the given string.\n */\nlib.wc.strWidth = function(str) {\n  var width, rv = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    width = lib.wc.charWidth(str.charCodeAt(i));\n    if (width < 0)\n      return -1;\n    rv += width;\n  }\n\n  return rv;\n};\n\n/**\n * Get the substring at the given column offset of the given column width.\n *\n * @param {string} str The string to get substring from.\n * @param {integer} start The starting column offset to get substring.\n * @param {integer} opt_width The column width of the substring.\n *\n * @return {string} The substring.\n */\nlib.wc.substr = function(str, start, opt_width) {\n  var startIndex, endIndex, width;\n\n  for (startIndex = 0, width = 0; startIndex < str.length; startIndex++) {\n    width += lib.wc.charWidth(str.charCodeAt(startIndex));\n    if (width > start)\n      break;\n  }\n\n  if (opt_width != undefined) {\n    for (endIndex = startIndex, width = 0;\n         endIndex < str.length && width < opt_width;\n         width += lib.wc.charWidth(str.charCodeAt(endIndex)), endIndex++);\n    if (width > opt_width)\n      endIndex--;\n    return str.substring(startIndex, endIndex);\n  }\n\n  return str.substr(startIndex);\n};\n\n/**\n * Get substring at the given start and end column offset.\n *\n * @param {string} str The string to get substring from.\n * @param {integer} start The starting column offset.\n * @param {integer} end The ending column offset.\n *\n * @return {string} The substring.\n */\nlib.wc.substring = function(str, start, end) {\n  return lib.wc.substr(str, start, end - start);\n};\nlib.resource.add('libdot/changelog/version', 'text/plain',\n'1.9' +\n''\n);\n\nlib.resource.add('libdot/changelog/date', 'text/plain',\n'2014-05-27' +\n''\n);\n\n// SOURCE FILE: hterm/js/hterm.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.Storage');\n\n/**\n * @fileoverview Declares the hterm.* namespace and some basic shared utilities\n * that are too small to deserve dedicated files.\n */\nvar hterm = {};\n\n/**\n * The type of window hosting hterm.\n *\n * This is set as part of hterm.init().  The value is invalid until\n * initialization completes.\n */\nhterm.windowType = null;\n\n/**\n * Warning message to display in the terminal when browser zoom is enabled.\n *\n * You can replace it with your own localized message.\n */\nhterm.zoomWarningMessage = 'ZOOM != 100%';\n\n/**\n * Brief overlay message displayed when text is copied to the clipboard.\n *\n * By default it is the unicode BLACK SCISSORS character, but you can\n * replace it with your own localized message.\n *\n * This is only displayed when the 'enable-clipboard-notice' preference\n * is enabled.\n */\nhterm.notifyCopyMessage = '\\u2702';\n\n\n/**\n * Text shown in a desktop notification for the terminal\n * bell.  \\u226a is a unicode EIGHTH NOTE, %(title) will\n * be replaced by the terminal title.\n */\nhterm.desktopNotificationTitle = '\\u266A %(title) \\u266A';\n\n/**\n * List of known hterm test suites.\n *\n * A test harness should ensure that they all exist before running.\n */\nhterm.testDeps = ['hterm.ScrollPort.Tests', 'hterm.Screen.Tests',\n                  'hterm.Terminal.Tests', 'hterm.VT.Tests',\n                  'hterm.VT.CannedTests'];\n\n/**\n * The hterm init function, registered with lib.registerInit().\n *\n * This is called during lib.init().\n *\n * @param {function} onInit The function lib.init() wants us to invoke when\n *     initialization is complete.\n */\nlib.registerInit('hterm', function(onInit) {\n  function onWindow(window) {\n    hterm.windowType = window.type;\n    setTimeout(onInit, 0);\n  }\n\n  function onTab(tab) {\n    if (tab && window.chrome) {\n      chrome.windows.get(tab.windowId, null, onWindow);\n    } else {\n      // TODO(rginda): This is where we end up for a v1 app's background page.\n      // Maybe windowType = 'none' would be more appropriate, or something.\n      hterm.windowType = 'normal';\n      setTimeout(onInit, 0);\n    }\n  }\n\n  if (!hterm.defaultStorage) {\n    var ary = navigator.userAgent.match(/\\sChrome\\/(\\d\\d)/);\n    var version = ary ? parseInt(ary[1]) : -1;\n    if (window.chrome && chrome.storage && chrome.storage.sync &&\n        version > 21) {\n      hterm.defaultStorage = new lib.Storage.Chrome(chrome.storage.sync);\n    } else {\n      hterm.defaultStorage = new lib.Storage.Local();\n    }\n  }\n\n  // The chrome.tabs API is not supported in packaged apps, and detecting if\n  // you're a packaged app is a little awkward.\n  var isPackagedApp = false;\n  if (window.chrome && chrome.runtime && chrome.runtime.getManifest) {\n    var manifest = chrome.runtime.getManifest();\n    var isPackagedApp = manifest.app && manifest.app.background;\n  }\n\n  if (isPackagedApp) {\n    // Packaged apps are never displayed in browser tabs.\n    setTimeout(onWindow.bind(null, {type: 'popup'}), 0);\n  } else {\n    if (window.chrome && chrome.tabs) {\n      // The getCurrent method gets the tab that is \"currently running\", not the\n      // topmost or focused tab.\n      chrome.tabs.getCurrent(onTab);\n    } else {\n      setTimeout(onWindow.bind(null, {type: 'normal'}), 0);\n    }\n  }\n});\n\n/**\n * Return decimal { width, height } for a given dom node.\n */\nhterm.getClientSize = function(dom) {\n  return dom.getBoundingClientRect();\n};\n\n/**\n * Return decimal width for a given dom node.\n */\nhterm.getClientWidth = function(dom) {\n  return dom.getBoundingClientRect().width;\n};\n\n/**\n * Return decimal height for a given dom node.\n */\nhterm.getClientHeight = function(dom) {\n  return dom.getBoundingClientRect().height;\n};\n\n/**\n * Copy the current selection to the system clipboard.\n *\n * @param {HTMLDocument} The document with the selection to copy.\n */\nhterm.copySelectionToClipboard = function(document) {\n  try {\n    document.execCommand('copy');\n  } catch (firefoxException) {\n    // Ignore this. FF throws an exception if there was an error, even though\n    // the spec says just return false.\n  }\n};\n\n/**\n * Paste the system clipboard into the element with focus.\n *\n * @param {HTMLDocument} The document to paste into.\n */\nhterm.pasteFromClipboard = function(document) {\n  try {\n    document.execCommand('paste');\n  } catch (firefoxException) {\n    // Ignore this. FF throws an exception if there was an error, even though\n    // the spec says just return false.\n  }\n};\n\n/**\n * Constructor for a hterm.Size record.\n *\n * Instances of this class have public read/write members for width and height.\n *\n * @param {integer} width The width of this record.\n * @param {integer} height The height of this record.\n */\nhterm.Size = function(width, height) {\n  this.width = width;\n  this.height = height;\n};\n\n/**\n * Adjust the width and height of this record.\n *\n * @param {integer} width The new width of this record.\n * @param {integer} height The new height of this record.\n */\nhterm.Size.prototype.resize = function(width, height) {\n  this.width = width;\n  this.height = height;\n};\n\n/**\n * Return a copy of this record.\n *\n * @return {hterm.Size} A new hterm.Size instance with the same width and\n * height.\n */\nhterm.Size.prototype.clone = function() {\n  return new hterm.Size(this.width, this.height);\n};\n\n/**\n * Set the height and width of this instance based on another hterm.Size.\n *\n * @param {hterm.Size} that The object to copy from.\n */\nhterm.Size.prototype.setTo = function(that) {\n  this.width = that.width;\n  this.height = that.height;\n};\n\n/**\n * Test if another hterm.Size instance is equal to this one.\n *\n * @param {hterm.Size} that The other hterm.Size instance.\n * @return {boolen} True if both instances have the same width/height, false\n *     otherwise.\n */\nhterm.Size.prototype.equals = function(that) {\n  return this.width == that.width && this.height == that.height;\n};\n\n/**\n * Return a string representation of this instance.\n *\n * @return {string} A string that identifies the width and height of this\n *     instance.\n */\nhterm.Size.prototype.toString = function() {\n  return '[hterm.Size: ' + this.width + ', ' + this.height + ']';\n};\n\n/**\n * Constructor for a hterm.RowCol record.\n *\n * Instances of this class have public read/write members for row and column.\n *\n * This class includes an 'overflow' bit which is use to indicate that the an\n * attempt has been made to move the cursor column passed the end of the\n * screen.  When this happens we leave the cursor column set to the last column\n * of the screen but set the overflow bit.  In this state cursor movement\n * happens normally, but any attempt to print new characters causes a cr/lf\n * first.\n *\n * @param {integer} row The row of this record.\n * @param {integer} column The column of this record.\n * @param {boolean} opt_overflow Optional boolean indicating that the RowCol\n *     has overflowed.\n */\nhterm.RowCol = function(row, column, opt_overflow) {\n  this.row = row;\n  this.column = column;\n  this.overflow = !!opt_overflow;\n};\n\n/**\n * Adjust the row and column of this record.\n *\n * @param {integer} row The new row of this record.\n * @param {integer} column The new column of this record.\n * @param {boolean} opt_overflow Optional boolean indicating that the RowCol\n *     has overflowed.\n */\nhterm.RowCol.prototype.move = function(row, column, opt_overflow) {\n  this.row = row;\n  this.column = column;\n  this.overflow = !!opt_overflow;\n};\n\n/**\n * Return a copy of this record.\n *\n * @return {hterm.RowCol} A new hterm.RowCol instance with the same row and\n * column.\n */\nhterm.RowCol.prototype.clone = function() {\n  return new hterm.RowCol(this.row, this.column, this.overflow);\n};\n\n/**\n * Set the row and column of this instance based on another hterm.RowCol.\n *\n * @param {hterm.RowCol} that The object to copy from.\n */\nhterm.RowCol.prototype.setTo = function(that) {\n  this.row = that.row;\n  this.column = that.column;\n  this.overflow = that.overflow;\n};\n\n/**\n * Test if another hterm.RowCol instance is equal to this one.\n *\n * @param {hterm.RowCol} that The other hterm.RowCol instance.\n * @return {boolen} True if both instances have the same row/column, false\n *     otherwise.\n */\nhterm.RowCol.prototype.equals = function(that) {\n  return (this.row == that.row && this.column == that.column &&\n          this.overflow == that.overflow);\n};\n\n/**\n * Return a string representation of this instance.\n *\n * @return {string} A string that identifies the row and column of this\n *     instance.\n */\nhterm.RowCol.prototype.toString = function() {\n  return ('[hterm.RowCol: ' + this.row + ', ' + this.column + ', ' +\n          this.overflow + ']');\n};\n// SOURCE FILE: hterm/js/hterm_frame.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.f');\n\n/**\n * First draft of the interface between the terminal and a third party dialog.\n *\n * This is rough.  It's just the terminal->dialog layer.  To complete things\n * we'll also need a command->terminal layer.  That will have to facilitate\n * command->terminal->dialog or direct command->dialog communication.\n *\n * I imagine this class will change significantly when that happens.\n */\n\n/**\n * Construct a new frame for the given terminal.\n *\n * @param terminal {hterm.Terminal} The parent terminal object.\n * @param url {String} The url to load in the frame.\n * @param opt_options {Object} Optional options for the frame.  Not implemented.\n */\nhterm.Frame = function(terminal, url, opt_options) {\n  this.terminal_ = terminal;\n  this.div_ = terminal.div_;\n  this.url = url;\n  this.options = opt_options || {};\n  this.iframe_ = null;\n  this.container_ = null;\n  this.messageChannel_ = null;\n};\n\n/**\n * Handle messages from the iframe.\n */\nhterm.Frame.prototype.onMessage_ = function(e) {\n  if (e.data.name != 'ipc-init-ok') {\n    console.log('Unknown message from frame:', e.data);\n    return;\n  }\n\n  this.sendTerminalInfo_();\n  this.messageChannel_.port1.onmessage = this.onMessage.bind(this);\n  this.onLoad();\n};\n\n/**\n * Clients could override this, I guess.\n *\n * It doesn't support multiple listeners, but I'm not sure that would make sense\n * here.  It's probably better to speak directly to our parents.\n */\nhterm.Frame.prototype.onMessage = function() {};\n\n/**\n * Handle iframe onLoad event.\n */\nhterm.Frame.prototype.onLoad_ = function() {\n  this.messageChannel_ = new MessageChannel();\n  this.messageChannel_.port1.onmessage = this.onMessage_.bind(this);\n  this.messageChannel_.port1.start();\n  this.iframe_.contentWindow.postMessage(\n      {name: 'ipc-init', argv: [{messagePort: this.messageChannel_.port2}]},\n      [this.messageChannel_.port2], this.url);\n};\n\n/**\n * Clients may override this.\n */\nhterm.Frame.prototype.onLoad = function() {};\n\n/**\n * Sends the terminal-info message to the iframe.\n */\nhterm.Frame.prototype.sendTerminalInfo_ = function() {\n  lib.f.getAcceptLanguages(function(languages) {\n      this.postMessage('terminal-info', [{\n         acceptLanguages: languages,\n         foregroundColor: this.terminal_.getForegroundColor(),\n         backgroundColor: this.terminal_.getBackgroundColor(),\n         cursorColor: this.terminal_.getCursorColor(),\n         fontSize: this.terminal_.getFontSize(),\n         fontFamily: this.terminal_.getFontFamily(),\n         baseURL: lib.f.getURL('/')\n          }]\n        );\n    }.bind(this));\n};\n\n/**\n * User clicked the close button on the frame decoration.\n */\nhterm.Frame.prototype.onCloseClicked_ = function() {\n  this.close();\n};\n\n/**\n * Close this frame.\n */\nhterm.Frame.prototype.close = function() {\n  if (!this.container_ || !this.container_.parentNode)\n      return;\n\n  this.container_.parentNode.removeChild(this.container_);\n  this.onClose();\n};\n\n\n/**\n * Clients may override this.\n */\nhterm.Frame.prototype.onClose = function() {};\n\n/**\n * Send a message to the iframe.\n */\nhterm.Frame.prototype.postMessage = function(name, argv) {\n  if (!this.messageChannel_)\n    throw new Error('Message channel is not set up.');\n\n  this.messageChannel_.port1.postMessage({name: name, argv: argv});\n};\n\n/**\n * Show the UI for this frame.\n *\n * The iframe src is not loaded until this method is called.\n */\nhterm.Frame.prototype.show = function() {\n  var self = this;\n\n  function opt(name, defaultValue) {\n    if (name in self.options)\n      return self.options[name];\n\n    return defaultValue;\n  }\n\n  var self = this;\n\n  if (this.container_ && this.container_.parentNode) {\n    console.error('Frame already visible');\n    return;\n  }\n\n  var headerHeight = '16px';\n\n  var divSize = hterm.getClientSize(this.div_);\n\n  var width = opt('width', 640);\n  var height = opt('height', 480);\n  var left = (divSize.width - width) / 2;\n  var top = (divSize.height - height) / 2;\n\n  var document = this.terminal_.document_;\n\n  var container = this.container_ = document.createElement('div');\n  container.style.cssText = (\n      'position: absolute;' +\n      'display: -webkit-flex;' +\n      '-webkit-flex-direction: column;' +\n      'top: 10%;' +\n      'left: 4%;' +\n      'width: 90%;' +\n      'height: 80%;' +\n      'box-shadow: 0 0 2px ' + this.terminal_.getForegroundColor() + ';' +\n      'border: 2px ' + this.terminal_.getForegroundColor() + ' solid;');\n\n  var header = document.createElement('div');\n  header.style.cssText = (\n      'display: -webkit-flex;' +\n      '-webkit-justify-content: flex-end;' +\n      'height: ' + headerHeight + ';' +\n      'background-color: ' + this.terminal_.getForegroundColor() + ';' +\n      'color: ' + this.terminal_.getBackgroundColor() + ';' +\n      'font-size: 16px;' +\n      'font-family: ' + this.terminal_.getFontFamily());\n  container.appendChild(header);\n\n  if (false) {\n    // No use for the close button.\n    var button = document.createElement('div');\n    button.setAttribute('role', 'button');\n    button.style.cssText = (\n        'margin-top: -3px;' +\n        'margin-right: 3px;' +\n        'cursor: pointer;');\n    button.textContent = '\\u2a2f';\n    button.addEventListener('click', this.onCloseClicked_.bind(this));\n    header.appendChild(button);\n  }\n\n  var iframe = this.iframe_ = document.createElement('iframe');\n  iframe.onload = this.onLoad_.bind(this);\n  iframe.style.cssText = (\n      'display: -webkit-flex;' +\n      '-webkit-flex: 1;' +\n      'width: 100%');\n  iframe.setAttribute('src', this.url);\n  iframe.setAttribute('seamless', true);\n  container.appendChild(iframe);\n\n  this.div_.appendChild(container);\n};\n// SOURCE FILE: hterm/js/hterm_keyboard.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('hterm.Keyboard.KeyMap');\n\n/**\n * Keyboard handler.\n *\n * Consumes onKey* events and invokes onVTKeystroke on the associated\n * hterm.Terminal object.\n *\n * See also: [XTERM] as referenced in vt.js.\n *\n * @param {hterm.Terminal} The Terminal object associated with this keyboard.\n */\nhterm.Keyboard = function(terminal) {\n  // The parent vt interpreter.\n  this.terminal = terminal;\n\n  // The element we're currently capturing keyboard events for.\n  this.keyboardElement_ = null;\n\n  // The event handlers we are interested in, and their bound callbacks, saved\n  // so they can be uninstalled with removeEventListener, when required.\n  this.handlers_ = [\n      ['blur', this.onBlur_.bind(this)],\n      ['keydown', this.onKeyDown_.bind(this)],\n      ['keypress', this.onKeyPress_.bind(this)],\n      ['keyup', this.onKeyUp_.bind(this)],\n      ['textInput', this.onTextInput_.bind(this)]\n  ];\n\n  /**\n   * The current key map.\n   */\n  this.keyMap = new hterm.Keyboard.KeyMap(this);\n\n  /**\n   * none: Disable any AltGr related munging.\n   * ctrl-alt: Assume Ctrl+Alt means AltGr.\n   * left-alt: Assume left Alt means AltGr.\n   * right-alt: Assume right Alt means AltGr.\n   */\n  this.altGrMode = 'none';\n\n  /**\n   * If true, Shift-Insert will fall through to the browser as a paste.\n   * If false, the keystroke will be sent to the host.\n   */\n  this.shiftInsertPaste = true;\n\n  /**\n   * If true, home/end will control the terminal scrollbar and shift home/end\n   * will send the VT keycodes.  If false then home/end sends VT codes and\n   * shift home/end scrolls.\n   */\n  this.homeKeysScroll = false;\n\n  /**\n   * Same as above, except for page up/page down.\n   */\n  this.pageKeysScroll = false;\n\n  /**\n   * If true, Ctrl-Plus/Minus/Zero controls zoom.\n   * If false, Ctrl-Shift-Plus/Minus/Zero controls zoom, Ctrl-Minus sends ^_,\n   * Ctrl-Plus/Zero do nothing.\n   */\n  this.ctrlPlusMinusZeroZoom = true;\n\n  /**\n   * Ctrl+C copies if true, sends ^C to host if false.\n   * Ctrl+Shift+C sends ^C to host if true, copies if false.\n   */\n  this.ctrlCCopy = false;\n\n  /**\n   * Ctrl+V pastes if true, sends ^V to host if false.\n   * Ctrl+Shift+V sends ^V to host if true, pastes if false.\n   */\n  this.ctrlVPaste = false;\n\n  /**\n   * Enable/disable application keypad.\n   *\n   * This changes the way numeric keys are sent from the keyboard.\n   */\n  this.applicationKeypad = false;\n\n  /**\n   * Enable/disable the application cursor mode.\n   *\n   * This changes the way cursor keys are sent from the keyboard.\n   */\n  this.applicationCursor = false;\n\n  /**\n   * If true, the backspace should send BS ('\\x08', aka ^H).  Otherwise\n   * the backspace key should send '\\x7f'.\n   */\n  this.backspaceSendsBackspace = false;\n\n  /**\n   * The encoding method for data sent to the host.\n   */\n  this.characterEncoding = 'utf-8';\n\n  /**\n   * Set whether the meta key sends a leading escape or not.\n   */\n  this.metaSendsEscape = true;\n\n  /**\n   * Set whether meta-V gets passed to host.\n   */\n  this.passMetaV = true;\n\n  /**\n   * Controls how the alt key is handled.\n   *\n   *  escape....... Send an ESC prefix.\n   *  8-bit........ Add 128 to the unshifted character as in xterm.\n   *  browser-key.. Wait for the keypress event and see what the browser says.\n   *                (This won't work well on platforms where the browser\n   *                 performs a default action for some alt sequences.)\n   *\n   * This setting only matters when alt is distinct from meta (altIsMeta is\n   * false.)\n   */\n  this.altSendsWhat = 'escape';\n\n  /**\n   * Set whether the alt key acts as a meta key, instead of producing 8-bit\n   * characters.\n   *\n   * True to enable, false to disable, null to autodetect based on platform.\n   */\n  this.altIsMeta = false;\n\n  /**\n   * If true, tries to detect DEL key events that are from alt-backspace on\n   * Chrome OS vs from a true DEL key press.\n   *\n   * Background: At the time of writing, on Chrome OS, alt-backspace is mapped\n   * to DEL. Some users may be happy with this, but others may be frustrated\n   * that it's impossible to do meta-backspace. If the user enables this pref,\n   * we use a trick to tell a true DEL keypress from alt-backspace: on\n   * alt-backspace, we will see the alt key go down, then get a DEL keystroke\n   * that indicates that alt is not pressed. See http://crbug.com/174410 .\n   */\n  this.altBackspaceIsMetaBackspace = false;\n\n  /**\n   * Used to keep track of the current alt-key state, which is necessary for\n   * the altBackspaceIsMetaBackspace preference above and for the altGrMode\n   * preference.  This is a bitmap with where bit positions correspond to the\n   * \"location\" property of the key event.\n   */\n  this.altKeyPressed = 0;\n\n  /**\n   * If true, Chrome OS media keys will be mapped to their F-key equivalent.\n   * E.g. \"Back\" will be mapped to F1. If false, Chrome will handle the keys.\n   */\n  this.mediaKeysAreFKeys = false;\n\n  /**\n   * Holds the previous setting of altSendsWhat when DECSET 1039 is used. When\n   * DECRST 1039 is used, altSendsWhat is changed back to this and this is\n   * nulled out.\n   */\n  this.previousAltSendsWhat_ = null;\n};\n\n/**\n * Special handling for keyCodes in a keyboard layout.\n */\nhterm.Keyboard.KeyActions = {\n  /**\n   * Call preventDefault and stopPropagation for this key event and nothing\n   * else.\n   */\n  CANCEL: new String('CANCEL'),\n\n  /**\n   * This performs the default terminal action for the key.  If used in the\n   * 'normal' action and the the keystroke represents a printable key, the\n   * character will be sent to the host.  If used in one of the modifier\n   * actions, the terminal will perform the normal action after (possibly)\n   * altering it.\n   *\n   *  - If the normal sequence starts with CSI, the sequence will be adjusted\n   *    to include the modifier parameter as described in [XTERM] in the final\n   *    table of the \"PC-Style Function Keys\" section.\n   *\n   *  - If the control key is down and the key represents a printable character,\n   *    and the uppercase version of the unshifted keycap is between\n   *    64 (ASCII '@') and 95 (ASCII '_'), then the uppercase version of the\n   *    unshifted keycap minus 64 is sent.  This makes '^@' send '\\x00' and\n   *    '^_' send '\\x1f'.  (Note that one higher that 0x1f is 0x20, which is\n   *    the first printable ASCII value.)\n   *\n   *  - If the alt key is down and the key represents a printable character then\n   *    the value of the character is shifted up by 128.\n   *\n   *  - If meta is down and configured to send an escape, '\\x1b' will be sent\n   *    before the normal action is performed.\n   */\n  DEFAULT: new String('DEFAULT'),\n\n  /**\n   * Causes the terminal to opt out of handling the key event, instead letting\n   * the browser deal with it.\n   */\n  PASS: new String('PASS'),\n\n  /**\n   * Insert the first or second character of the keyCap, based on e.shiftKey.\n   * The key will be handled in onKeyDown, and e.preventDefault() will be\n   * called.\n   *\n   * It is useful for a modified key action, where it essentially strips the\n   * modifier while preventing the browser from reacting to the key.\n   */\n  STRIP: new String('STRIP')\n};\n\n/**\n * Encode a string according to the 'send-encoding' preference.\n */\nhterm.Keyboard.prototype.encode = function(str) {\n  if (this.characterEncoding == 'utf-8')\n    return this.terminal.vt.encodeUTF8(str);\n\n  return str;\n};\n\n/**\n * Capture keyboard events sent to the associated element.\n *\n * This enables the keyboard.  Captured events are consumed by this class\n * and will not perform their default action or bubble to other elements.\n *\n * Passing a null element will uninstall the keyboard handlers.\n *\n * @param {HTMLElement} element The element whose events should be captured, or\n *     null to disable the keyboard.\n */\nhterm.Keyboard.prototype.installKeyboard = function(element) {\n  if (element == this.keyboardElement_)\n    return;\n\n  if (element && this.keyboardElement_)\n    this.installKeyboard(null);\n\n  for (var i = 0; i < this.handlers_.length; i++) {\n    var handler = this.handlers_[i];\n    if (element) {\n      element.addEventListener(handler[0], handler[1]);\n    } else {\n      this.keyboardElement_.removeEventListener(handler[0], handler[1]);\n    }\n  }\n\n  this.keyboardElement_ = element;\n};\n\n/**\n * Disable keyboard event capture.\n *\n * This will allow the browser to process key events normally.\n */\nhterm.Keyboard.prototype.uninstallKeyboard = function() {\n  this.installKeyboard(null);\n};\n\n/**\n * Handle onTextInput events.\n *\n * We're not actually supposed to get these, but we do on the Mac in the case\n * where a third party app sends synthetic keystrokes to Chrome.\n */\nhterm.Keyboard.prototype.onTextInput_ = function(e) {\n  if (!e.data)\n    return;\n\n  e.data.split('').forEach(this.terminal.onVTKeystroke.bind(this.terminal));\n};\n\n/**\n * Handle onKeyPress events.\n */\nhterm.Keyboard.prototype.onKeyPress_ = function(e) {\n  var code;\n\n  var key = String.fromCharCode(e.which);\n  var lowerKey = key.toLowerCase();\n  if ((e.ctrlKey || e.metaKey) && (lowerKey == 'c' || lowerKey == 'v')) {\n    // On FF the key press (not key down) event gets fired for copy/paste.\n    // Let it fall through for the default browser behaviour.\n    return;\n  }\n\n  if (e.altKey && this.altSendsWhat == 'browser-key' && e.charCode == 0) {\n    // If we got here because we were expecting the browser to handle an\n    // alt sequence but it didn't do it, then we might be on an OS without\n    // an enabled IME system.  In that case we fall back to xterm-like\n    // behavior.\n    //\n    // This happens here only as a fallback.  Typically these platforms should\n    // set altSendsWhat to either 'escape' or '8-bit'.\n    var ch = String.fromCharCode(e.keyCode);\n    if (!e.shiftKey)\n      ch = ch.toLowerCase();\n    code = ch.charCodeAt(0) + 128;\n\n  } else if (e.charCode >= 32) {\n    ch = e.charCode;\n  }\n\n  if (ch)\n    this.terminal.onVTKeystroke(String.fromCharCode(ch));\n\n  e.preventDefault();\n  e.stopPropagation();\n};\n\n/**\n * Prevent default handling for non-shifted event.\n *\n * When combined with Chrome permission 'app.window.fullscreen.overrideEsc',\n * and called for both key down and key up events,\n * the ESC key remains usable within fullscreen Chrome app windows.\n */\nhterm.Keyboard.prototype.preventChromeAppNonShiftDefault_ = function(e) {\n  if (!window.chrome || !window.chrome.app || !window.chrome.app.window)\n    return;\n  if (!e.shiftKey)\n    e.preventDefault();\n};\n\nhterm.Keyboard.prototype.onBlur_ = function(e) {\n  this.altKeyPressed = 0;\n};\n\nhterm.Keyboard.prototype.onKeyUp_ = function(e) {\n  if (e.keyCode == 18)\n    this.altKeyPressed = this.altKeyPressed & ~(1 << (e.location - 1));\n\n  if (e.keyCode == 27)\n    this.preventChromeAppNonShiftDefault_(e);\n};\n\n/**\n * Handle onKeyDown events.\n */\nhterm.Keyboard.prototype.onKeyDown_ = function(e) {\n  if (e.keyCode == 18)\n    this.altKeyPressed = this.altKeyPressed | (1 << (e.location - 1));\n\n  if (e.keyCode == 27)\n    this.preventChromeAppNonShiftDefault_(e);\n\n  var keyDef = this.keyMap.keyDefs[e.keyCode];\n  if (!keyDef) {\n    console.warn('No definition for keyCode: ' + e.keyCode);\n    return;\n  }\n\n  // The type of action we're going to use.\n  var resolvedActionType = null;\n\n  var self = this;\n  function getAction(name) {\n    // Get the key action for the given action name.  If the action is a\n    // function, dispatch it.  If the action defers to the normal action,\n    // resolve that instead.\n\n    resolvedActionType = name;\n\n    var action = keyDef[name];\n    if (typeof action == 'function')\n      action = action.apply(self.keyMap, [e, keyDef]);\n\n    if (action === DEFAULT && name != 'normal')\n      action = getAction('normal');\n\n    return action;\n  }\n\n  // Note that we use the triple-equals ('===') operator to test equality for\n  // these constants, in order to distingush usage of the constant from usage\n  // of a literal string that happens to contain the same bytes.\n  var CANCEL = hterm.Keyboard.KeyActions.CANCEL;\n  var DEFAULT = hterm.Keyboard.KeyActions.DEFAULT;\n  var PASS = hterm.Keyboard.KeyActions.PASS;\n  var STRIP = hterm.Keyboard.KeyActions.STRIP;\n\n  var control = e.ctrlKey;\n  var alt = this.altIsMeta ? false : e.altKey;\n  var meta = this.altIsMeta ? (e.altKey || e.metaKey) : e.metaKey;\n\n  // In the key-map, we surround the keyCap for non-printables in \"[...]\"\n  var isPrintable = !(/^\\[\\w+\\]$/.test(keyDef.keyCap));\n\n  switch (this.altGrMode) {\n    case 'ctrl-alt':\n    if (isPrintable && control && alt) {\n      // ctrl-alt-printable means altGr.  We clear out the control and\n      // alt modifiers and wait to see the charCode in the keydown event.\n      control = false;\n      alt = false;\n    }\n    break;\n\n    case 'right-alt':\n    if (isPrintable && (this.terminal.keyboard.altKeyPressed & 2)) {\n      control = false;\n      alt = false;\n    }\n    break;\n\n    case 'left-alt':\n    if (isPrintable && (this.terminal.keyboard.altKeyPressed & 1)) {\n      control = false;\n      alt = false;\n    }\n    break;\n  }\n\n  var action;\n\n  if (control) {\n    action = getAction('control');\n  } else if (alt) {\n    action = getAction('alt');\n  } else if (meta) {\n    action = getAction('meta');\n  } else {\n    action = getAction('normal');\n  }\n\n  if (alt && this.altSendsWhat == 'browser-key' && action == DEFAULT) {\n    // When altSendsWhat is 'browser-key', we wait for the keypress event.\n    // In keypress, the browser should have set the event.charCode to the\n    // appropriate character.\n    // TODO(rginda): Character compositions will need some black magic.\n    action = PASS;\n  }\n\n  if (action === PASS || (action === DEFAULT && !(control || alt || meta))) {\n    // If this key is supposed to be handled by the browser, or it is an\n    // unmodified key with the default action, then exit this event handler.\n    // If it's an unmodified key, it'll be handled in onKeyPress where we\n    // can tell for sure which ASCII code to insert.\n    //\n    // This block needs to come before the STRIP test, otherwise we'll strip\n    // the modifier and think it's ok to let the browser handle the keypress.\n    // The browser won't know we're trying to ignore the modifiers and might\n    // perform some default action.\n    return;\n  }\n\n  if (action === STRIP) {\n    alt = control = false;\n    action = keyDef.normal;\n    if (typeof action == 'function')\n      action = action.apply(this.keyMap, [e, keyDef]);\n\n    if (action == DEFAULT && keyDef.keyCap.length == 2)\n      action = keyDef.keyCap.substr((e.shiftKey ? 1 : 0), 1);\n  }\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (action === CANCEL)\n    return;\n\n  if (action !== DEFAULT && typeof action != 'string') {\n    console.warn('Invalid action: ' + JSON.stringify(action));\n    return;\n  }\n\n  // Strip the modifier that is associated with the action, since we assume that\n  // modifier has already been accounted for in the action.\n  if (resolvedActionType == 'control') {\n    control = false;\n  } else if (resolvedActionType == 'alt') {\n    alt = false;\n  } else if (resolvedActionType == 'meta') {\n    meta = false;\n  }\n\n  // Maybe strip the shift modifier too, for the same reason as above.\n  // This is only used for Ctrl-Shift-Tab, which should send \"CSI Z\", not\n  // \"CSI 1 ; 2 Z\".\n  var shift = !e.maskShiftKey && e.shiftKey;\n\n  if (action.substr(0, 2) == '\\x1b[' && (alt || control || shift)) {\n    // The action is an escape sequence that and it was triggered in the\n    // presence of a keyboard modifier, we may need to alter the action to\n    // include the modifier before sending it.\n\n    var mod;\n\n    if (shift && !(alt || control)) {\n      mod = ';2';\n    } else if (alt && !(shift || control)) {\n      mod = ';3';\n    } else if (shift && alt && !control) {\n      mod = ';4';\n    } else if (control && !(shift || alt)) {\n      mod = ';5';\n    } else if (shift && control && !alt) {\n      mod = ';6';\n    } else if (alt && control && !shift) {\n      mod = ';7';\n    } else if (shift && alt && control) {\n      mod = ';8';\n    }\n\n    if (action.length == 3) {\n      // Some of the CSI sequences have zero parameters unless modified.\n      action = '\\x1b[1' + mod + action.substr(2, 1);\n    } else {\n      // Others always have at least one parameter.\n      action = action.substr(0, action.length - 1) + mod +\n          action.substr(action.length - 1);\n    }\n\n  } else {\n    if (action === DEFAULT) {\n      action = keyDef.keyCap.substr((e.shiftKey ? 1 : 0), 1);\n\n      if (control) {\n        var unshifted = keyDef.keyCap.substr(0, 1);\n        var code = unshifted.charCodeAt(0);\n        if (code >= 64 && code <= 95) {\n          action = String.fromCharCode(code - 64);\n        }\n      }\n    }\n\n    if (alt && this.altSendsWhat == '8-bit' && action.length == 1) {\n      var code = action.charCodeAt(0) + 128;\n      action = String.fromCharCode(code);\n    }\n\n    // We respect alt/metaSendsEscape even if the keymap action was a literal\n    // string.  Otherwise, every overridden alt/meta action would have to\n    // check alt/metaSendsEscape.\n    if ((alt && this.altSendsWhat == 'escape') ||\n        (meta && this.metaSendsEscape)) {\n      action = '\\x1b' + action;\n    }\n  }\n\n  this.terminal.onVTKeystroke(action);\n};\n// SOURCE FILE: hterm/js/hterm_keyboard_keymap.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('hterm.Keyboard.KeyActions');\n\n/**\n * The default key map for hterm.\n *\n * Contains a mapping of keyCodes to keyDefs (aka key definitions).  The key\n * definition tells the hterm.Keyboard class how to handle keycodes.\n *\n * This should work for most cases, as the printable characters get handled\n * in the keypress event.  In that case, even if the keycap is wrong in the\n * key map, the correct character should be sent.\n *\n * Different layouts, such as Dvorak should work with this keymap, as those\n * layouts typically move keycodes around on the keyboard without disturbing\n * the actual keycaps.\n *\n * There may be issues with control keys on non-US keyboards or with keyboards\n * that very significantly from the expectations here, in which case we may\n * have to invent new key maps.\n *\n * The sequences defined in this key map come from [XTERM] as referenced in\n * vt.js, starting with the section titled \"Alt and Meta Keys\".\n */\nhterm.Keyboard.KeyMap = function(keyboard) {\n  this.keyboard = keyboard;\n  this.keyDefs = {};\n  this.reset();\n};\n\n/**\n * Add a single key definition.\n *\n * The definition is a hash containing the following keys: 'keyCap', 'normal',\n * 'control', and 'alt'.\n *\n *  - keyCap is a string identifying the key.  For printable\n *    keys, the key cap should be exactly two characters, starting with the\n *    unshifted version.  For example, 'aA', 'bB', '1!' and '=+'.  For\n *    non-printable the key cap should be surrounded in square braces, as in\n *    '[INS]', '[LEFT]'.  By convention, non-printable keycaps are in uppercase\n *    but this is not a strict requirement.\n *\n *  - Normal is the action that should be performed when they key is pressed\n *    in the absence of any modifier.  See below for the supported actions.\n *\n *  - Control is the action that should be performed when they key is pressed\n *    along with the control modifier.  See below for the supported actions.\n *\n *  - Alt is the action that should be performed when they key is pressed\n *    along with the alt modifier.  See below for the supported actions.\n *\n *  - Meta is the action that should be performed when they key is pressed\n *    along with the meta modifier.  See below for the supported actions.\n *\n * Actions can be one of the hterm.Keyboard.KeyActions as documented below,\n * a literal string, or an array.  If the action is a literal string then\n * the string is sent directly to the host.  If the action is an array it\n * is taken to be an escape sequence that may be altered by modifier keys.\n * The second-to-last element of the array will be overwritten with the\n * state of the modifier keys, as specified in the final table of \"PC-Style\n * Function Keys\" from [XTERM].\n */\nhterm.Keyboard.KeyMap.prototype.addKeyDef = function(keyCode, def) {\n  if (keyCode in this.keyDefs)\n    console.warn('Duplicate keyCode: ' + keyCode);\n\n  this.keyDefs[keyCode] = def;\n};\n\n/**\n * Add mutiple key definitions in a single call.\n *\n * This function takes the key definitions as variable argument list.  Each\n * argument is the key definition specified as an array.\n *\n * (If the function took everything as one big hash we couldn't detect\n * duplicates, and there would be a lot more typing involved.)\n *\n * Each key definition should have 6 elements: (keyCode, keyCap, normal action,\n * control action, alt action and meta action).  See KeyMap.addKeyDef for the\n * meaning of these elements.\n */\nhterm.Keyboard.KeyMap.prototype.addKeyDefs = function(var_args) {\n  for (var i = 0; i < arguments.length; i++) {\n    this.addKeyDef(arguments[i][0],\n                   { keyCap: arguments[i][1],\n                     normal: arguments[i][2],\n                     control: arguments[i][3],\n                     alt: arguments[i][4],\n                     meta: arguments[i][5]\n                   });\n  }\n};\n\n/**\n * Inherit from hterm.Keyboard.KeyMap, as defined in keyboard.js.\n */\nhterm.Keyboard.KeyMap.prototype = {\n  __proto__: hterm.Keyboard.KeyMap.prototype\n};\n\n/**\n * Set up the default state for this keymap.\n */\nhterm.Keyboard.KeyMap.prototype.reset = function() {\n  this.keyDefs = {};\n\n  var self = this;\n\n  // This function is used by the \"macro\" functions below.  It makes it\n  // possible to use the call() macro as an argument to any other macro.\n  function resolve(action, e, k) {\n    if (typeof action == 'function')\n      return action.apply(self, [e, k]);\n\n    return action;\n  }\n\n  // If not application keypad a, else b.  The keys that care about\n  // application keypad ignore it when the key is modified.\n  function ak(a, b) {\n    return function(e, k) {\n      var action = (e.shiftKey || e.ctrlKey || e.altKey || e.metaKey ||\n                    !self.keyboard.applicationKeypad) ? a : b;\n      return resolve(action, e, k);\n    };\n  }\n\n  // If mod or not application cursor a, else b.  The keys that care about\n  // application cursor ignore it when the key is modified.\n  function ac(a, b) {\n    return function(e, k) {\n      var action = (e.shiftKey || e.ctrlKey || e.altKey || e.metaKey ||\n                    !self.keyboard.applicationCursor) ? a : b;\n      return resolve(action, e, k);\n    };\n  }\n\n  // If not backspace-sends-backspace keypad a, else b.\n  function bs(a, b) {\n    return function(e, k) {\n      var action = !self.keyboard.backspaceSendsBackspace ? a : b;\n      return resolve(action, e, k);\n    };\n  }\n\n  // If not e.shiftKey a, else b.\n  function sh(a, b) {\n    return function(e, k) {\n      var action = !e.shiftKey ? a : b;\n      e.maskShiftKey = true;\n      return resolve(action, e, k);\n    };\n  }\n\n  // If not e.altKey a, else b.\n  function alt(a, b) {\n    return function(e, k) {\n      var action = !e.altKey ? a : b;\n      return resolve(action, e, k);\n    };\n  }\n\n  // If no modifiers a, else b.\n  function mod(a, b) {\n    return function(e, k) {\n      var action = !(e.shiftKey || e.ctrlKey || e.altKey || e.metaKey) ? a : b;\n      return resolve(action, e, k);\n    };\n  }\n\n  // Compute a control character for a given character.\n  function ctl(ch) { return String.fromCharCode(ch.charCodeAt(0) - 64) }\n\n  // Call a method on the keymap instance.\n  function c(m) { return function (e, k) { return this[m](e, k) } }\n\n  // Ignore if not trapping media keys.\n  function med(fn) {\n    return function(e, k) {\n      if (!self.keyboard.mediaKeysAreFKeys) {\n        // Block Back, Forward, and Reload keys to avoid navigating away from\n        // the current page.\n        return (e.keyCode == 166 || e.keyCode == 167 || e.keyCode == 168) ?\n            hterm.Keyboard.KeyActions.CANCEL :\n            hterm.Keyboard.KeyActions.PASS;\n      }\n      return resolve(fn, e, k);\n    };\n  }\n\n  var ESC = '\\x1b';\n  var CSI = '\\x1b[';\n  var SS3 = '\\x1bO';\n\n  var CANCEL = hterm.Keyboard.KeyActions.CANCEL;\n  var DEFAULT = hterm.Keyboard.KeyActions.DEFAULT;\n  var PASS = hterm.Keyboard.KeyActions.PASS;\n  var STRIP = hterm.Keyboard.KeyActions.STRIP;\n\n  this.addKeyDefs(\n    // These fields are: [keycode, keycap, normal, control, alt, meta]\n\n    // The browser sends the keycode 0 for some keys.  We'll just assume it's\n    // going to do the right thing by default for those keys.\n    [0,   '[UNKNOWN]', PASS, PASS, PASS, PASS],\n\n    // First row.\n    [27,  '[ESC]', ESC,                       DEFAULT, DEFAULT,     DEFAULT],\n    [112, '[F1]',  mod(SS3 + 'P', CSI + 'P'), DEFAULT, CSI + \"23~\", DEFAULT],\n    [113, '[F2]',  mod(SS3 + 'Q', CSI + 'Q'), DEFAULT, CSI + \"24~\", DEFAULT],\n    [114, '[F3]',  mod(SS3 + 'R', CSI + 'R'), DEFAULT, CSI + \"25~\", DEFAULT],\n    [115, '[F4]',  mod(SS3 + 'S', CSI + 'S'), DEFAULT, CSI + \"26~\", DEFAULT],\n    [116, '[F5]',  CSI + '15~',               DEFAULT, CSI + \"28~\", DEFAULT],\n    [117, '[F6]',  CSI + '17~',               DEFAULT, CSI + \"29~\", DEFAULT],\n    [118, '[F7]',  CSI + '18~',               DEFAULT, CSI + \"31~\", DEFAULT],\n    [119, '[F8]',  CSI + '19~',               DEFAULT, CSI + \"32~\", DEFAULT],\n    [120, '[F9]',  CSI + '20~',               DEFAULT, CSI + \"33~\", DEFAULT],\n    [121, '[F10]', CSI + '21~',               DEFAULT, CSI + \"34~\", DEFAULT],\n    [122, '[F11]', CSI + '23~',               DEFAULT, CSI + \"42~\", DEFAULT],\n    [123, '[F12]', CSI + '24~',               DEFAULT, CSI + \"43~\", DEFAULT],\n\n    // Second row.\n    [192, '`~', DEFAULT, sh(ctl('@'), ctl('^')),     DEFAULT,           PASS],\n    [49,  '1!', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [50,  '2@', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [51,  '3#', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [52,  '4$', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [53,  '5%', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [54,  '6^', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [55,  '7&', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [56,  '8*', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [57,  '9(', DEFAULT, c('onCtrlNum_'),    c('onAltNum_'), c('onMetaNum_')],\n    [48,  '0)', DEFAULT, c('onPlusMinusZero_'),c('onAltNum_'),c('onPlusMinusZero_')],\n    [189, '-_', DEFAULT, c('onPlusMinusZero_'), DEFAULT, c('onPlusMinusZero_')],\n    [187, '=+', DEFAULT, c('onPlusMinusZero_'), DEFAULT, c('onPlusMinusZero_')],\n    // Firefox -_ and =+\n    [173, '-_', DEFAULT, c('onPlusMinusZero_'), DEFAULT, c('onPlusMinusZero_')],\n    [61, '=+', DEFAULT, c('onPlusMinusZero_'), DEFAULT, c('onPlusMinusZero_')],\n    // Firefox Italian +*\n    [171, '+*', DEFAULT, c('onPlusMinusZero_'), DEFAULT, c('onPlusMinusZero_')],\n\n    [8,   '[BKSP]', bs('\\x7f', '\\b'), bs('\\b', '\\x7f'), DEFAULT,     DEFAULT],\n\n    // Third row.\n    [9,   '[TAB]', sh('\\t', CSI + 'Z'), STRIP,     PASS,    DEFAULT],\n    [81,  'qQ',    DEFAULT,             ctl('Q'),  DEFAULT, DEFAULT],\n    [87,  'wW',    DEFAULT,             ctl('W'),  DEFAULT, DEFAULT],\n    [69,  'eE',    DEFAULT,             ctl('E'),  DEFAULT, DEFAULT],\n    [82,  'rR',    DEFAULT,             ctl('R'),  DEFAULT, DEFAULT],\n    [84,  'tT',    DEFAULT,             ctl('T'),  DEFAULT, DEFAULT],\n    [89,  'yY',    DEFAULT,             ctl('Y'),  DEFAULT, DEFAULT],\n    [85,  'uU',    DEFAULT,             ctl('U'),  DEFAULT, DEFAULT],\n    [73,  'iI',    DEFAULT,             ctl('I'),  DEFAULT, DEFAULT],\n    [79,  'oO',    DEFAULT,             ctl('O'),  DEFAULT, DEFAULT],\n    [80,  'pP',    DEFAULT,             ctl('P'),  DEFAULT, DEFAULT],\n    [219, '[{',    DEFAULT,             ctl('['),  DEFAULT, DEFAULT],\n    [221, ']}',    DEFAULT,             ctl(']'),  DEFAULT, DEFAULT],\n    [220, '\\\\|',   DEFAULT,             ctl('\\\\'), DEFAULT, DEFAULT],\n\n    // Fourth row. (We let Ctrl-Shift-J pass for Chrome DevTools.)\n    [20,  '[CAPS]',  PASS,    PASS,                           PASS,    DEFAULT],\n    [65,  'aA',      DEFAULT, ctl('A'),                       DEFAULT, DEFAULT],\n    [83,  'sS',      DEFAULT, ctl('S'),                       DEFAULT, DEFAULT],\n    [68,  'dD',      DEFAULT, ctl('D'),                       DEFAULT, DEFAULT],\n    [70,  'fF',      DEFAULT, ctl('F'),                       DEFAULT, DEFAULT],\n    [71,  'gG',      DEFAULT, ctl('G'),                       DEFAULT, DEFAULT],\n    [72,  'hH',      DEFAULT, ctl('H'),                       DEFAULT, DEFAULT],\n    [74,  'jJ',      DEFAULT, sh(ctl('J'), PASS),             DEFAULT, DEFAULT],\n    [75,  'kK',      DEFAULT, sh(ctl('K'), c('onClear_')),    DEFAULT, DEFAULT],\n    [76,  'lL',      DEFAULT, sh(ctl('L'), PASS),             DEFAULT, DEFAULT],\n    [186, ';:',      DEFAULT, STRIP,                          DEFAULT, DEFAULT],\n    [222, '\\'\"',     DEFAULT, STRIP,                          DEFAULT, DEFAULT],\n    [13,  '[ENTER]', '\\r',    CANCEL,                         CANCEL,  DEFAULT],\n\n    // Fifth row.  This includes the copy/paste shortcuts.  On some\n    // platforms it's Ctrl-C/V, on others it's Meta-C/V.  We assume either\n    // Ctrl-C/Meta-C should pass to the browser when there is a selection,\n    // and Ctrl-Shift-V/Meta-*-V should always pass to the browser (since\n    // these seem to be recognized as paste too).\n    [16,  '[SHIFT]', PASS, PASS,                   PASS,    DEFAULT],\n    [90,  'zZ',   DEFAULT, ctl('Z'),               DEFAULT, DEFAULT],\n    [88,  'xX',   DEFAULT, ctl('X'),               DEFAULT, DEFAULT],\n    [67,  'cC',   DEFAULT, c('onCtrlC_'),          DEFAULT, c('onMetaC_')],\n    [86,  'vV',   DEFAULT, c('onCtrlV_'),          DEFAULT, c('onMetaV_')],\n    [66,  'bB',   DEFAULT, sh(ctl('B'), PASS),     DEFAULT, sh(DEFAULT, PASS)],\n    [78,  'nN',   DEFAULT, c('onCtrlN_'),          DEFAULT, c('onMetaN_')],\n    [77,  'mM',   DEFAULT, ctl('M'),               DEFAULT, DEFAULT],\n    [188, ',<',   DEFAULT, alt(STRIP, PASS),       DEFAULT, DEFAULT],\n    [190, '.>',   DEFAULT, alt(STRIP, PASS),       DEFAULT, DEFAULT],\n    [191, '/?',   DEFAULT, sh(ctl('_'), ctl('?')), DEFAULT, DEFAULT],\n\n    // Sixth and final row.\n    [17,  '[CTRL]',  PASS,    PASS,     PASS,    PASS],\n    [18,  '[ALT]',   PASS,    PASS,     PASS,    PASS],\n    [91,  '[LAPL]',  PASS,    PASS,     PASS,    PASS],\n    [32,  ' ',       DEFAULT, ctl('@'), DEFAULT, DEFAULT],\n    [92,  '[RAPL]',  PASS,    PASS,     PASS,    PASS],\n    [93,  '[RMENU]', PASS,    PASS,     PASS,    PASS],\n\n    // These things.\n    [42,  '[PRTSCR]', PASS, PASS, PASS, PASS],\n    [145, '[SCRLK]',  PASS, PASS, PASS, PASS],\n    [19,  '[BREAK]',  PASS, PASS, PASS, PASS],\n\n    // The block of six keys above the arrows.\n    [45,  '[INSERT]', c('onKeyInsert_'),   DEFAULT, DEFAULT, DEFAULT],\n    [36,  '[HOME]',   c('onKeyHome_'),     DEFAULT, DEFAULT, DEFAULT],\n    [33,  '[PGUP]',   c('onKeyPageUp_'),   DEFAULT, DEFAULT, DEFAULT],\n    [46,  '[DEL]',    c('onKeyDel_'),      DEFAULT, DEFAULT, DEFAULT],\n    [35,  '[END]',    c('onKeyEnd_'),      DEFAULT, DEFAULT, DEFAULT],\n    [34,  '[PGDOWN]', c('onKeyPageDown_'), DEFAULT, DEFAULT, DEFAULT],\n\n    // Arrow keys.  When unmodified they respect the application cursor state,\n    // otherwise they always send the CSI codes.\n    [38, '[UP]',    ac(CSI + 'A', SS3 + 'A'), DEFAULT, DEFAULT, DEFAULT],\n    [40, '[DOWN]',  ac(CSI + 'B', SS3 + 'B'), DEFAULT, DEFAULT, DEFAULT],\n    [39, '[RIGHT]', ac(CSI + 'C', SS3 + 'C'), DEFAULT, DEFAULT, DEFAULT],\n    [37, '[LEFT]',  ac(CSI + 'D', SS3 + 'D'), DEFAULT, DEFAULT, DEFAULT],\n\n    [144, '[NUMLOCK]', PASS, PASS, PASS, PASS],\n\n    // With numlock off, the keypad generates the same key codes as the arrows\n    // and 'block of six' for some keys, and null key codes for the rest.\n\n    // Keypad with numlock on generates unique key codes...\n    [96,  '[KP0]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [97,  '[KP1]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [98,  '[KP2]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [99,  '[KP3]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [100, '[KP4]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [101, '[KP5]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [102, '[KP6]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [103, '[KP7]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [104, '[KP8]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [105, '[KP9]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [107, '[KP+]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [109, '[KP-]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [106, '[KP*]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [111, '[KP/]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n    [110, '[KP.]', DEFAULT, DEFAULT, DEFAULT, DEFAULT],\n\n    // Chrome OS keyboard top row.\n    [166, '[BACK]',   med(mod(SS3+'P', CSI+'P')), DEFAULT, CSI+\"23~\", DEFAULT],\n    [167, '[FWD]',    med(mod(SS3+'Q', CSI+'Q')), DEFAULT, CSI+\"24~\", DEFAULT],\n    [168, '[RELOAD]', med(mod(SS3+'R', CSI+'R')), DEFAULT, CSI+\"25~\", DEFAULT],\n    [183, '[FSCR]',   med(mod(SS3+'S', CSI+'S')), DEFAULT, CSI+\"26~\", DEFAULT],\n    [182, '[WINS]',   med(CSI + '15~'),           DEFAULT, CSI+\"28~\", DEFAULT],\n    [216, '[BRIT-]',  med(CSI + '17~'),           DEFAULT, CSI+\"29~\", DEFAULT],\n    [217, '[BRIT+]',  med(CSI + '18~'),           DEFAULT, CSI+\"31~\", DEFAULT]\n\n    // 173 [MUTE], 174 [VOL-] and 175 [VOL+] are trapped by the Chrome OS\n    // window manager, so we'll never see them. Note that 173 is also\n    // Firefox's -_ keycode.\n  );\n};\n\n/**\n * Either allow the paste or send a key sequence.\n */\nhterm.Keyboard.KeyMap.prototype.onKeyInsert_ = function(e) {\n  if (this.keyboard.shiftInsertPaste && e.shiftKey)\n    return hterm.Keyboard.KeyActions.PASS;\n\n  return '\\x1b[2~';\n};\n\n/**\n * Either scroll the scrollback buffer or send a key sequence.\n */\nhterm.Keyboard.KeyMap.prototype.onKeyHome_ = function(e) {\n  if (!this.keyboard.homeKeysScroll ^ e.shiftKey) {\n    if ((e.altey || e.ctrlKey || e.shiftKey) ||\n        !this.keyboard.applicationCursor) {\n      return '\\x1b[H';\n    }\n\n    return '\\x1bOH';\n  }\n\n  this.keyboard.terminal.scrollHome();\n  return hterm.Keyboard.KeyActions.CANCEL;\n};\n\n/**\n * Either scroll the scrollback buffer or send a key sequence.\n */\nhterm.Keyboard.KeyMap.prototype.onKeyEnd_ = function(e) {\n  if (!this.keyboard.homeKeysScroll ^ e.shiftKey) {\n    if ((e.altKey || e.ctrlKey || e.shiftKey) ||\n        !this.keyboard.applicationCursor) {\n      return '\\x1b[F';\n    }\n\n    return '\\x1bOF';\n  }\n\n  this.keyboard.terminal.scrollEnd();\n  return hterm.Keyboard.KeyActions.CANCEL;\n};\n\n/**\n * Either scroll the scrollback buffer or send a key sequence.\n */\nhterm.Keyboard.KeyMap.prototype.onKeyPageUp_ = function(e) {\n  if (!this.keyboard.pageKeysScroll ^ e.shiftKey)\n    return '\\x1b[5~';\n\n  this.keyboard.terminal.scrollPageUp();\n  return hterm.Keyboard.KeyActions.CANCEL;\n};\n\n/**\n * Either send a true DEL, or sub in meta-backspace.\n *\n * On Chrome OS, if we know the alt key is down, but we get a DEL event that\n * claims that the alt key is not pressed, we know the DEL was a synthetic\n * one from a user that hit alt-backspace. Based on a user pref, we can sub\n * in meta-backspace in this case.\n */\nhterm.Keyboard.KeyMap.prototype.onKeyDel_ = function(e) {\n  if (this.keyboard.altBackspaceIsMetaBackspace &&\n      this.keyboard.altKeyPressed && !e.altKey)\n    return '\\x1b\\x7f';\n  return '\\x1b[3~';\n};\n\n/**\n * Either scroll the scrollback buffer or send a key sequence.\n */\nhterm.Keyboard.KeyMap.prototype.onKeyPageDown_ = function(e) {\n  if (!this.keyboard.pageKeysScroll ^ e.shiftKey)\n    return '\\x1b[6~';\n\n  this.keyboard.terminal.scrollPageDown();\n  return hterm.Keyboard.KeyActions.CANCEL;\n};\n\n/**\n * Clear the primary/alternate screens and the scrollback buffer.\n */\nhterm.Keyboard.KeyMap.prototype.onClear_ = function(e, keyDef) {\n  this.keyboard.terminal.wipeContents();\n  return hterm.Keyboard.KeyActions.CANCEL;\n};\n\n/**\n * Either pass Ctrl-1..9 to the browser or send them to the host.\n *\n * Note that Ctrl-1 and Ctrl-9 don't actually have special sequences mapped\n * to them in xterm or gnome-terminal.  The range is really Ctrl-2..8, but\n * we handle 1..9 since Chrome treats the whole range special.\n */\nhterm.Keyboard.KeyMap.prototype.onCtrlNum_ = function(e, keyDef) {\n  // Compute a control character for a given character.\n  function ctl(ch) { return String.fromCharCode(ch.charCodeAt(0) - 64) }\n\n  if (this.keyboard.terminal.passCtrlNumber && !e.shiftKey)\n    return hterm.Keyboard.KeyActions.PASS;\n\n  switch (keyDef.keyCap.substr(0, 1)) {\n    case '1': return '1';\n    case '2': return ctl('@');\n    case '3': return ctl('[');\n    case '4': return ctl('\\\\');\n    case '5': return ctl(']');\n    case '6': return ctl('^');\n    case '7': return ctl('_');\n    case '8': return '\\x7f';\n    case '9': return '9';\n  }\n};\n\n/**\n * Either pass Alt-1..9 to the browser or send them to the host.\n */\nhterm.Keyboard.KeyMap.prototype.onAltNum_ = function(e, keyDef) {\n  if (this.keyboard.terminal.passAltNumber && !e.shiftKey)\n    return hterm.Keyboard.KeyActions.PASS;\n\n  return hterm.Keyboard.KeyActions.DEFAULT;\n};\n\n/**\n * Either pass Meta-1..9 to the browser or send them to the host.\n */\nhterm.Keyboard.KeyMap.prototype.onMetaNum_ = function(e, keyDef) {\n  if (this.keyboard.terminal.passMetaNumber && !e.shiftKey)\n    return hterm.Keyboard.KeyActions.PASS;\n\n  return hterm.Keyboard.KeyActions.DEFAULT;\n};\n\n/**\n * Either send a ^C or interpret the keystroke as a copy command.\n */\nhterm.Keyboard.KeyMap.prototype.onCtrlC_ = function(e, keyDef) {\n  var selection = this.keyboard.terminal.getDocument().getSelection();\n\n  if (!selection.isCollapsed) {\n    if (this.keyboard.ctrlCCopy && !e.shiftKey) {\n      // Ctrl-C should copy if there is a selection, send ^C otherwise.\n      // Perform the copy by letting the browser handle Ctrl-C.  On most\n      // browsers, this is the *only* way to place text on the clipboard from\n      // the 'drive-by' web.\n      if (this.keyboard.terminal.clearSelectionAfterCopy) {\n        setTimeout(selection.collapseToEnd.bind(selection), 50);\n      }\n      if (this.keyboard.terminal.prefs_.get('enable-clipboard-notice'))\n        setTimeout(this.keyboard.terminal.showOverlay.bind(this.keyboard.terminal, hterm.notifyCopyMessage, 500), 200);\n      return hterm.Keyboard.KeyActions.PASS;\n    }\n\n    if (!this.keyboard.ctrlCCopy && e.shiftKey) {\n      // Ctrl-Shift-C should copy if there is a selection, send ^C otherwise.\n      // Perform the copy manually.  This only works in situations where\n      // document.execCommand('copy') is allowed.\n      if (this.keyboard.terminal.clearSelectionAfterCopy) {\n        setTimeout(selection.collapseToEnd.bind(selection), 50);\n      }\n      this.keyboard.terminal.copySelectionToClipboard();\n      return hterm.Keyboard.KeyActions.CANCEL;\n    }\n  }\n\n  return '\\x03';\n};\n\n/**\n * Either send a ^N or open a new window to the same location.\n */\nhterm.Keyboard.KeyMap.prototype.onCtrlN_ = function(e, keyDef) {\n  if (e.shiftKey) {\n    window.open(document.location.href, '',\n                'chrome=no,close=yes,resize=yes,scrollbars=yes,' +\n                'minimizable=yes,width=' + window.innerWidth +\n                ',height=' + window.innerHeight);\n    return hterm.Keyboard.KeyActions.CANCEL;\n  }\n\n  return '\\x0e';\n};\n\n/**\n * Either send a ^V or allow the browser to interpret the keystroke as a paste\n * command.\n *\n * The default behavior is to paste if the user presses Ctrl-Shift-V, and send\n * a ^V if the user presses Ctrl-V. This can be flipped with the\n * 'ctrl-v-paste' preference.\n */\nhterm.Keyboard.KeyMap.prototype.onCtrlV_ = function(e, keyDef) {\n  if ((!e.shiftKey && this.keyboard.ctrlVPaste) ||\n      (e.shiftKey && !this.keyboard.ctrlVPaste)) {\n    return hterm.Keyboard.KeyActions.PASS;\n  }\n\n  return '\\x16';\n};\n\n/**\n * Either the default action or open a new window to the same location.\n */\nhterm.Keyboard.KeyMap.prototype.onMetaN_ = function(e, keyDef) {\n  if (e.shiftKey) {\n    window.open(document.location.href, '',\n                'chrome=no,close=yes,resize=yes,scrollbars=yes,' +\n                'minimizable=yes,width=' + window.outerWidth +\n                ',height=' + window.outerHeight);\n    return hterm.Keyboard.KeyActions.CANCEL;\n  }\n\n  return hterm.Keyboard.KeyActions.DEFAULT;\n};\n\n/**\n * Either send a Meta-C or allow the browser to interpret the keystroke as a\n * copy command.\n *\n * If there is no selection, or if the user presses Meta-Shift-C, then we'll\n * transmit an '\\x1b' (if metaSendsEscape is on) followed by 'c' or 'C'.\n *\n * If there is a selection, we defer to the browser.  In this case we clear out\n * the selection so the user knows we heard them, and also to give them a\n * chance to send a Meta-C by just hitting the key again.\n */\nhterm.Keyboard.KeyMap.prototype.onMetaC_ = function(e, keyDef) {\n  var document = this.keyboard.terminal.getDocument();\n  if (e.shiftKey || document.getSelection().isCollapsed) {\n    // If the shift key is being held, or there is no document selection, send\n    // a Meta-C.  The keyboard code will add the ESC if metaSendsEscape is true,\n    // we just have to decide between 'c' and 'C'.\n    return keyDef.keyCap.substr(e.shiftKey ? 1 : 0, 1);\n  }\n\n  // Otherwise let the browser handle it as a copy command.\n  if (this.keyboard.terminal.clearSelectionAfterCopy) {\n    setTimeout(function() { document.getSelection().collapseToEnd() }, 50);\n  }\n  return hterm.Keyboard.KeyActions.PASS;\n};\n\n/**\n * Either PASS or DEFAULT Meta-V, depending on preference.\n *\n * Always PASS Meta-Shift-V to allow browser to interpret the keystroke as\n * a paste command.\n */\nhterm.Keyboard.KeyMap.prototype.onMetaV_ = function(e, keyDef) {\n  if (e.shiftKey)\n    return hterm.Keyboard.KeyActions.PASS;\n\n  return this.keyboard.passMetaV ?\n      hterm.Keyboard.KeyActions.PASS :\n      hterm.Keyboard.KeyActions.DEFAULT;\n};\n\n/**\n * Handle font zooming.\n *\n * The browser's built-in zoom has a bit of an issue at certain zoom levels.\n * At some magnifications, the measured height of a row of text differs from\n * the height that was explicitly set.\n *\n * We override the browser zoom keys to change the ScrollPort's font size to\n * avoid the issue.\n */\nhterm.Keyboard.KeyMap.prototype.onPlusMinusZero_ = function(e, keyDef) {\n  if (!(this.keyboard.ctrlPlusMinusZeroZoom ^ e.shiftKey)) {\n    // If ctrl-PMZ controls zoom and the shift key is pressed, or\n    // ctrl-shift-PMZ controls zoom and this shift key is not pressed,\n    // then we want to send the control code instead of affecting zoom.\n    if (keyDef.keyCap == '-_')\n      return '\\x1f';  // ^_\n\n    // Only ^_ is valid, the other sequences have no meaning.\n    return hterm.Keyboard.KeyActions.CANCEL;\n  }\n\n  if (this.keyboard.terminal.getZoomFactor() != 1) {\n    // If we're not at 1:1 zoom factor, let the Ctrl +/-/0 keys control the\n    // browser zoom, so it's easier to for the user to get back to 100%.\n    return hterm.Keyboard.KeyActions.PASS;\n  }\n\n  var cap = keyDef.keyCap.substr(0, 1);\n  if (cap == '0') {\n      this.keyboard.terminal.setFontSize(0);\n  } else {\n    var size = this.keyboard.terminal.getFontSize();\n\n    if (cap == '-') {\n      size -= 1;\n    } else {\n      size += 1;\n    }\n\n    this.keyboard.terminal.setFontSize(size);\n  }\n\n  return hterm.Keyboard.KeyActions.CANCEL;\n};\n// SOURCE FILE: hterm/js/hterm_options.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * @fileoverview This file implements the hterm.Options class,\n * which stores current operating conditions for the terminal.  This object is\n * used instead of a series of parameters to allow saving/restoring of cursor\n * conditions easily, and to provide an easy place for common configuration\n * options.\n *\n * Original code by Cory Maccarrone.\n */\n\n/**\n * Constructor for the hterm.Options class, optionally acting as a copy\n * constructor.\n *\n * The defaults are as defined in http://www.vt100.net/docs/vt510-rm/DECSTR\n * except that we enable autowrap (wraparound) by defaut since that seems to\n * be what xterm does.\n *\n * @param {hterm.Options=} opt_copy Optional instance to copy.\n * @constructor\n */\nhterm.Options = function(opt_copy) {\n  // All attributes in this class are public to allow easy access by the\n  // terminal.\n\n  this.wraparound = opt_copy ? opt_copy.wraparound : true;\n  this.reverseWraparound = opt_copy ? opt_copy.reverseWraparound : false;\n  this.originMode = opt_copy ? opt_copy.originMode : false;\n  this.autoCarriageReturn = opt_copy ? opt_copy.autoCarriageReturn : false;\n  this.cursorVisible = opt_copy ? opt_copy.cursorVisible : false;\n  this.cursorBlink = opt_copy ? opt_copy.cursorBlink : false;\n  this.insertMode = opt_copy ? opt_copy.insertMode : false;\n  this.reverseVideo = opt_copy ? opt_copy.reverseVideo : false;\n  this.bracketedPaste = opt_copy ? opt_copy.bracketedPaste : false;\n};\n// SOURCE FILE: hterm/js/hterm_preference_manager.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.f', 'lib.Storage');\n\n/**\n * PreferenceManager subclass managing global NaSSH preferences.\n *\n * This is currently just an ordered list of known connection profiles.\n */\nhterm.PreferenceManager = function(profileId) {\n  lib.PreferenceManager.call(this, hterm.defaultStorage,\n                             '/hterm/profiles/' + profileId);\n  var defs = hterm.PreferenceManager.defaultPreferences;\n  Object.keys(defs).forEach(function(key) {\n    this.definePreference(key, defs[key]);\n  }.bind(this));\n};\n\nhterm.PreferenceManager.defaultPreferences = {\n  /**\n   * Select an AltGr detection hack^Wheuristic.\n   *\n   * null: Autodetect based on navigator.language:\n   *       'en-us' => 'none', else => 'right-alt'\n   * 'none': Disable any AltGr related munging.\n   * 'ctrl-alt': Assume Ctrl+Alt means AltGr.\n   * 'left-alt': Assume left Alt means AltGr.\n   * 'right-alt': Assume right Alt means AltGr.\n   */\n  'alt-gr-mode': null,\n\n  /**\n   * If set, undoes the Chrome OS Alt-Backspace->DEL remap, so that\n   * alt-backspace indeed is alt-backspace.\n   */\n  'alt-backspace-is-meta-backspace': false,\n\n  /**\n   * Set whether the alt key acts as a meta key or as a distinct alt key.\n   */\n  'alt-is-meta': false,\n\n  /**\n   * Controls how the alt key is handled.\n   *\n   *  escape....... Send an ESC prefix.\n   *  8-bit........ Add 128 to the unshifted character as in xterm.\n   *  browser-key.. Wait for the keypress event and see what the browser says.\n   *                (This won't work well on platforms where the browser\n   *                 performs a default action for some alt sequences.)\n   */\n  'alt-sends-what': 'escape',\n\n  /**\n   * Terminal bell sound.  Empty string for no audible bell.\n   */\n  'audible-bell-sound': 'lib-resource:hterm/audio/bell',\n\n  /**\n   * If true, terminal bells in the background will create a Web\n   * Notification. http://www.w3.org/TR/notifications/\n   *\n   * Displaying notifications requires permission from the user. When this\n   * option is set to true, hterm will attempt to ask the user for permission\n   * if necessary. Note browsers may not show this permission request if it\n   * did not originate from a user action.\n   *\n   * Chrome extensions with the \"notfications\" permission have permission to\n   * display notifications.\n   */\n  'desktop-notification-bell': false,\n\n  /**\n   * The background color for text with no other color attributes.\n   */\n  'background-color': 'rgb(16, 16, 16)',\n\n  /**\n   * The background image.\n   */\n  'background-image': '',\n\n  /**\n   * The background image size,\n   *\n   * Defaults to none.\n   */\n  'background-size': '',\n\n  /**\n   * The background image position,\n   *\n   * Defaults to none.\n   */\n  'background-position': '',\n\n  /**\n   * If true, the backspace should send BS ('\\x08', aka ^H).  Otherwise\n   * the backspace key should send '\\x7f'.\n   */\n  'backspace-sends-backspace': false,\n\n  /**\n   * Character map overrides.\n   *\n   * This is specified as an object. It is a sparse array, where each property\n   * is the character set code and the value is an object that is a sparse array\n   * itself. In that sparse array, each property is the received character and\n   * the value is the displayed character.\n   *\n   * For example:\n   *   {\"0\":{\"+\":\"\\u2192\",\",\":\"\\u2190\",\"-\":\"\\u2191\",\".\":\"\\u2193\",\"0\":\"\\u2588\"}}\n   */\n  'character-map-overrides': null,\n\n  /**\n   * Whether or not to close the window when the command exits.\n   */\n  'close-on-exit': true,\n\n  /**\n   * Whether or not to blink the cursor by default.\n   */\n  'cursor-blink': false,\n\n  /**\n   * The cursor blink rate in milliseconds.\n   *\n   * A two element array, the first of which is how long the cursor should be\n   * on, second is how long it should be off.\n   */\n  'cursor-blink-cycle': [1000, 500],\n\n  /**\n   * The color of the visible cursor.\n   */\n  'cursor-color': 'rgba(255, 0, 0, 0.5)',\n\n  /**\n   * Override colors in the default palette.\n   *\n   * This can be specified as an array or an object.  If specified as an\n   * object it is assumed to be a sparse array, where each property\n   * is a numeric index into the color palette.\n   *\n   * Values can be specified as css almost any css color value.  This\n   * includes #RGB, #RRGGBB, rgb(...), rgba(...), and any color names\n   * that are also part of the stock X11 rgb.txt file.\n   *\n   * You can use 'null' to specify that the default value should be not\n   * be changed.  This is useful for skipping a small number of indicies\n   * when the value is specified as an array.\n   */\n  'color-palette-overrides': null,\n\n  /**\n   * Automatically copy mouse selection to the clipboard.\n   */\n  'copy-on-select': true,\n\n  /**\n   * Whether to use the default window copy behaviour.\n   */\n  'use-default-window-copy': false,\n\n  /**\n   * Whether to clear the selection after copying.\n   */\n  'clear-selection-after-copy': true,\n\n  /**\n   * If true, Ctrl-Plus/Minus/Zero controls zoom.\n   * If false, Ctrl-Shift-Plus/Minus/Zero controls zoom, Ctrl-Minus sends ^_,\n   * Ctrl-Plus/Zero do nothing.\n   */\n  'ctrl-plus-minus-zero-zoom': true,\n\n  /**\n   * Ctrl+C copies if true, send ^C to host if false.\n   * Ctrl+Shift+C sends ^C to host if true, copies if false.\n   */\n  'ctrl-c-copy': false,\n\n  /**\n   * Ctrl+V pastes if true, send ^V to host if false.\n   * Ctrl+Shift+V sends ^V to host if true, pastes if false.\n   */\n  'ctrl-v-paste': false,\n\n  /**\n   * Set whether East Asian Ambiguous characters have two column width.\n   */\n  'east-asian-ambiguous-as-two-column': false,\n\n  /**\n   * True to enable 8-bit control characters, false to ignore them.\n   *\n   * We'll respect the two-byte versions of these control characters\n   * regardless of this setting.\n   */\n  'enable-8-bit-control': false,\n\n  /**\n   * True if we should use bold weight font for text with the bold/bright\n   * attribute.  False to use the normal weight font.  Null to autodetect.\n   */\n  'enable-bold': null,\n\n  /**\n   * True if we should use bright colors (8-15 on a 16 color palette)\n   * for any text with the bold attribute.  False otherwise.\n   */\n  'enable-bold-as-bright': true,\n\n  /**\n   * Allow the host to write directly to the system clipboard.\n   */\n  'enable-clipboard-notice': true,\n\n  /**\n   * Allow the host to write directly to the system clipboard.\n   */\n  'enable-clipboard-write': true,\n\n  /**\n   * Respect the host's attempt to change the cursor blink status using\n   * DEC Private Mode 12.\n   */\n  'enable-dec12': false,\n\n  /**\n   * The default environment variables.\n   */\n  'environment': {'TERM': 'xterm-256color'},\n\n  /**\n   * Default font family for the terminal text.\n   */\n  'font-family': ('\"DejaVu Sans Mono\", \"Everson Mono\", ' +\n                  'FreeMono, \"Menlo\", \"Terminal\", ' +\n                  'monospace'),\n\n  /**\n   * The default font size in pixels.\n   */\n  'font-size': 15,\n\n  /**\n   * Anti-aliasing.\n   */\n  'font-smoothing': 'antialiased',\n\n  /**\n   * The foreground color for text with no other color attributes.\n   */\n  'foreground-color': 'rgb(240, 240, 240)',\n\n  /**\n   * If true, home/end will control the terminal scrollbar and shift home/end\n   * will send the VT keycodes.  If false then home/end sends VT codes and\n   * shift home/end scrolls.\n   */\n  'home-keys-scroll': false,\n\n  /**\n   * Max length of a DCS, OSC, PM, or APS sequence before we give up and\n   * ignore the code.\n   */\n  'max-string-sequence': 100000,\n\n  /**\n   * If true, convert media keys to their Fkey equivalent. If false, let\n   * Chrome handle the keys.\n   */\n  'media-keys-are-fkeys': false,\n\n  /**\n   * Set whether the meta key sends a leading escape or not.\n   */\n  'meta-sends-escape': true,\n\n  /**\n   * Mouse paste button, or null to autodetect.\n   *\n   * For autodetect, we'll try to enable middle button paste for non-X11\n   * platforms.\n   *\n   * On X11 we move it to button 3, but that'll probably be a context menu\n   * in the future.\n   */\n  'mouse-paste-button': null,\n\n  /**\n   * If true, page up/down will control the terminal scrollbar and shift\n   * page up/down will send the VT keycodes.  If false then page up/down\n   * sends VT codes and shift page up/down scrolls.\n   */\n  'page-keys-scroll': false,\n\n  /**\n   * Set whether we should pass Alt-1..9 to the browser.\n   *\n   * This is handy when running hterm in a browser tab, so that you don't lose\n   * Chrome's \"switch to tab\" keyboard accelerators.  When not running in a\n   * tab it's better to send these keys to the host so they can be used in\n   * vim or emacs.\n   *\n   * If true, Alt-1..9 will be handled by the browser.  If false, Alt-1..9\n   * will be sent to the host.  If null, autodetect based on browser platform\n   * and window type.\n   */\n  'pass-alt-number': null,\n\n  /**\n   * Set whether we should pass Ctrl-1..9 to the browser.\n   *\n   * This is handy when running hterm in a browser tab, so that you don't lose\n   * Chrome's \"switch to tab\" keyboard accelerators.  When not running in a\n   * tab it's better to send these keys to the host so they can be used in\n   * vim or emacs.\n   *\n   * If true, Ctrl-1..9 will be handled by the browser.  If false, Ctrl-1..9\n   * will be sent to the host.  If null, autodetect based on browser platform\n   * and window type.\n   */\n  'pass-ctrl-number': null,\n\n  /**\n   * Set whether we should pass Meta-1..9 to the browser.\n   *\n   * This is handy when running hterm in a browser tab, so that you don't lose\n   * Chrome's \"switch to tab\" keyboard accelerators.  When not running in a\n   * tab it's better to send these keys to the host so they can be used in\n   * vim or emacs.\n   *\n   * If true, Meta-1..9 will be handled by the browser.  If false, Meta-1..9\n   * will be sent to the host.  If null, autodetect based on browser platform\n   * and window type.\n   */\n  'pass-meta-number': null,\n\n  /**\n   * Set whether meta-V gets passed to host.\n   */\n  'pass-meta-v': true,\n\n  /**\n   * Set the expected encoding for data received from the host.\n   *\n   * Valid values are 'utf-8' and 'raw'.\n   */\n  'receive-encoding': 'utf-8',\n\n  /**\n   * If true, scroll to the bottom on any keystroke.\n   */\n  'scroll-on-keystroke': true,\n\n  /**\n   * If true, scroll to the bottom on terminal output.\n   */\n  'scroll-on-output': false,\n\n  /**\n   * The vertical scrollbar mode.\n   */\n  'scrollbar-visible': true,\n\n  /**\n   * The multiplier for the pixel delta in mousewheel event caused by the scroll\n   * wheel. Alters how fast the page scrolls.\n   */\n  'scroll-wheel-move-multiplier': 1,\n\n  /**\n   * Set the encoding for data sent to host.\n   *\n   * Valid values are 'utf-8' and 'raw'.\n   */\n  'send-encoding': 'utf-8',\n\n  /**\n   * Shift + Insert pastes if true, sent to host if false.\n   */\n  'shift-insert-paste': true,\n\n  /**\n   * User stylesheet to include in the terminal document.\n   */\n  'user-css': ''\n};\n\nhterm.PreferenceManager.prototype = {\n  __proto__: lib.PreferenceManager.prototype\n};\n// SOURCE FILE: hterm/js/hterm_pubsub.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\n/**\n * Utility class used to add publish/subscribe/unsubscribe functionality to\n * an existing object.\n */\nhterm.PubSub = function() {\n  this.observers_ = {};\n};\n\n/**\n * Add publish, subscribe, and unsubscribe methods to an existing object.\n *\n * No other properties of the object are touched, so there is no need to\n * worry about clashing private properties.\n *\n * @param {Object} obj The object to add this behavior to.\n */\nhterm.PubSub.addBehavior = function(obj) {\n  var pubsub = new hterm.PubSub();\n  for (var m in hterm.PubSub.prototype) {\n    obj[m] = hterm.PubSub.prototype[m].bind(pubsub);\n  }\n};\n\n/**\n * Subscribe to be notified of messages about a subject.\n *\n * @param {string} subject The subject to subscribe to.\n * @param {function(Object)} callback The function to invoke for notifications.\n */\nhterm.PubSub.prototype.subscribe = function(subject, callback) {\n  if (!(subject in this.observers_))\n    this.observers_[subject] = [];\n\n  this.observers_[subject].push(callback);\n};\n\n/**\n * Unsubscribe from a subject.\n *\n * @param {string} subject The subject to unsubscribe from.\n * @param {function(Object)} callback A callback previously registered via\n *     subscribe().\n */\nhterm.PubSub.prototype.unsubscribe = function(subject, callback) {\n  var list = this.observers_[subject];\n  if (!list)\n    throw 'Invalid subject: ' + subject;\n\n  var i = list.indexOf(callback);\n  if (i < 0)\n    throw 'Not subscribed: ' + subject;\n\n  list.splice(i, 1);\n};\n\n/**\n * Publish a message about a subject.\n *\n * Subscribers (and the optional final callback) are invoked asynchronously.\n * This method will return before anyone is actually notified.\n *\n * @param {string} subject The subject to publish about.\n * @param {Object} e An arbitrary object associated with this notification.\n * @param {function(Object)} opt_lastCallback An optional function to call after\n *     all subscribers have been notified.\n */\nhterm.PubSub.prototype.publish = function(subject, e, opt_lastCallback) {\n  function notifyList(i) {\n    // Set this timeout before invoking the callback, so we don't have to\n    // concern ourselves with exceptions.\n    if (i < list.length - 1)\n      setTimeout(notifyList, 0, i + 1);\n\n    list[i](e);\n  }\n\n  var list = this.observers_[subject];\n  if (list) {\n    // Copy the list, in case it changes while we're notifying.\n    list = [].concat(list);\n  }\n\n  if (opt_lastCallback) {\n    if (list) {\n      list.push(opt_lastCallback);\n    } else {\n      list = [opt_lastCallback];\n    }\n  }\n\n  if (list)\n    setTimeout(notifyList, 0, 0);\n};\n// SOURCE FILE: hterm/js/hterm_screen.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.f', 'lib.wc',\n          'hterm.RowCol', 'hterm.Size', 'hterm.TextAttributes');\n\n/**\n * @fileoverview This class represents a single terminal screen full of text.\n *\n * It maintains the current cursor position and has basic methods for text\n * insert and overwrite, and adding or removing rows from the screen.\n *\n * This class has no knowledge of the scrollback buffer.\n *\n * The number of rows on the screen is determined only by the number of rows\n * that the caller inserts into the screen.  If a caller wants to ensure a\n * constant number of rows on the screen, it's their responsibility to remove a\n * row for each row inserted.\n *\n * The screen width, in contrast, is enforced locally.\n *\n *\n * In practice...\n * - The hterm.Terminal class holds two hterm.Screen instances.  One for the\n * primary screen and one for the alternate screen.\n *\n * - The html.Screen class only cares that rows are HTMLElements.  In the\n * larger context of hterm, however, the rows happen to be displayed by an\n * hterm.ScrollPort and have to follow a few rules as a result.  Each\n * row must be rooted by the custom HTML tag 'x-row', and each must have a\n * rowIndex property that corresponds to the index of the row in the context\n * of the scrollback buffer.  These invariants are enforced by hterm.Terminal\n * because that is the class using the hterm.Screen in the context of an\n * hterm.ScrollPort.\n */\n\n/**\n * Create a new screen instance.\n *\n * The screen initially has no rows and a maximum column count of 0.\n *\n * @param {integer} opt_columnCount The maximum number of columns for this\n *    screen.  See insertString() and overwriteString() for information about\n *    what happens when too many characters are added too a row.  Defaults to\n *    0 if not provided.\n */\nhterm.Screen = function(opt_columnCount) {\n  /**\n   * Public, read-only access to the rows in this screen.\n   */\n  this.rowsArray = [];\n\n  // The max column width for this screen.\n  this.columnCount_ = opt_columnCount || 80;\n\n  // The current color, bold, underline and blink attributes.\n  this.textAttributes = new hterm.TextAttributes(window.document);\n\n  // Current zero-based cursor coordinates.\n  this.cursorPosition = new hterm.RowCol(0, 0);\n\n  // The node containing the row that the cursor is positioned on.\n  this.cursorRowNode_ = null;\n\n  // The node containing the span of text that the cursor is positioned on.\n  this.cursorNode_ = null;\n\n  // The offset in column width into cursorNode_ where the cursor is positioned.\n  this.cursorOffset_ = null;\n};\n\n/**\n * Return the screen size as an hterm.Size object.\n *\n * @return {hterm.Size} hterm.Size object representing the current number\n *     of rows and columns in this screen.\n */\nhterm.Screen.prototype.getSize = function() {\n  return new hterm.Size(this.columnCount_, this.rowsArray.length);\n};\n\n/**\n * Return the current number of rows in this screen.\n *\n * @return {integer} The number of rows in this screen.\n */\nhterm.Screen.prototype.getHeight = function() {\n  return this.rowsArray.length;\n};\n\n/**\n * Return the current number of columns in this screen.\n *\n * @return {integer} The number of columns in this screen.\n */\nhterm.Screen.prototype.getWidth = function() {\n  return this.columnCount_;\n};\n\n/**\n * Set the maximum number of columns per row.\n *\n * @param {integer} count The maximum number of columns per row.\n */\nhterm.Screen.prototype.setColumnCount = function(count) {\n  this.columnCount_ = count;\n\n  if (this.cursorPosition.column >= count)\n    this.setCursorPosition(this.cursorPosition.row, count - 1);\n};\n\n/**\n * Remove the first row from the screen and return it.\n *\n * @return {HTMLElement} The first row in this screen.\n */\nhterm.Screen.prototype.shiftRow = function() {\n  return this.shiftRows(1)[0];\n};\n\n/**\n * Remove rows from the top of the screen and return them as an array.\n *\n * @param {integer} count The number of rows to remove.\n * @return {Array.<HTMLElement>} The selected rows.\n */\nhterm.Screen.prototype.shiftRows = function(count) {\n  return this.rowsArray.splice(0, count);\n};\n\n/**\n * Insert a row at the top of the screen.\n *\n * @param {HTMLElement} The row to insert.\n */\nhterm.Screen.prototype.unshiftRow = function(row) {\n  this.rowsArray.splice(0, 0, row);\n};\n\n/**\n * Insert rows at the top of the screen.\n *\n * @param {Array.<HTMLElement>} The rows to insert.\n */\nhterm.Screen.prototype.unshiftRows = function(rows) {\n  this.rowsArray.unshift.apply(this.rowsArray, rows);\n};\n\n/**\n * Remove the last row from the screen and return it.\n *\n * @return {HTMLElement} The last row in this screen.\n */\nhterm.Screen.prototype.popRow = function() {\n  return this.popRows(1)[0];\n};\n\n/**\n * Remove rows from the bottom of the screen and return them as an array.\n *\n * @param {integer} count The number of rows to remove.\n * @return {Array.<HTMLElement>} The selected rows.\n */\nhterm.Screen.prototype.popRows = function(count) {\n  return this.rowsArray.splice(this.rowsArray.length - count, count);\n};\n\n/**\n * Insert a row at the bottom of the screen.\n *\n * @param {HTMLElement} The row to insert.\n */\nhterm.Screen.prototype.pushRow = function(row) {\n  this.rowsArray.push(row);\n};\n\n/**\n * Insert rows at the bottom of the screen.\n *\n * @param {Array.<HTMLElement>} The rows to insert.\n */\nhterm.Screen.prototype.pushRows = function(rows) {\n  rows.push.apply(this.rowsArray, rows);\n};\n\n/**\n * Insert a row at the specified column of the screen.\n *\n * @param {HTMLElement} The row to insert.\n */\nhterm.Screen.prototype.insertRow = function(index, row) {\n  this.rowsArray.splice(index, 0, row);\n};\n\n/**\n * Insert rows at the specified column of the screen.\n *\n * @param {Array.<HTMLElement>} The rows to insert.\n */\nhterm.Screen.prototype.insertRows = function(index, rows) {\n  for (var i = 0; i < rows.length; i++) {\n    this.rowsArray.splice(index + i, 0, rows[i]);\n  }\n};\n\n/**\n * Remove a last row from the specified column of the screen and return it.\n *\n * @return {HTMLElement} The selected row.\n */\nhterm.Screen.prototype.removeRow = function(index) {\n  return this.rowsArray.splice(index, 1)[0];\n};\n\n/**\n * Remove rows from the bottom of the screen and return them as an array.\n *\n * @param {integer} count The number of rows to remove.\n * @return {Array.<HTMLElement>} The selected rows.\n */\nhterm.Screen.prototype.removeRows = function(index, count) {\n  return this.rowsArray.splice(index, count);\n};\n\n/**\n * Invalidate the current cursor position.\n *\n * This sets this.cursorPosition to (0, 0) and clears out some internal\n * data.\n *\n * Attempting to insert or overwrite text while the cursor position is invalid\n * will raise an obscure exception.\n */\nhterm.Screen.prototype.invalidateCursorPosition = function() {\n  this.cursorPosition.move(0, 0);\n  this.cursorRowNode_ = null;\n  this.cursorNode_ = null;\n  this.cursorOffset_ = null;\n};\n\n/**\n * Clear the contents of the cursor row.\n */\nhterm.Screen.prototype.clearCursorRow = function() {\n  this.cursorRowNode_.innerHTML = '';\n  this.cursorRowNode_.removeAttribute('line-overflow');\n  this.cursorOffset_ = 0;\n  this.cursorPosition.column = 0;\n  this.cursorPosition.overflow = false;\n\n  var text;\n  if (this.textAttributes.isDefault()) {\n    text = '';\n  } else {\n    text = lib.f.getWhitespace(this.columnCount_);\n  }\n\n  // We shouldn't honour inverse colors when clearing an area, to match\n  // xterm's back color erase behaviour.\n  var inverse = this.textAttributes.inverse;\n  this.textAttributes.inverse = false;\n  this.textAttributes.syncColors();\n\n  var node = this.textAttributes.createContainer(text);\n  this.cursorRowNode_.appendChild(node);\n  this.cursorNode_ = node;\n\n  this.textAttributes.inverse = inverse;\n  this.textAttributes.syncColors();\n};\n\n/**\n * Mark the current row as having overflowed to the next line.\n *\n * The line overflow state is used when converting a range of rows into text.\n * It makes it possible to recombine two or more overflow terminal rows into\n * a single line.\n *\n * This is distinct from the cursor being in the overflow state.  Cursor\n * overflow indicates that printing at the cursor position will commit a\n * line overflow, unless it is preceded by a repositioning of the cursor\n * to a non-overflow state.\n */\nhterm.Screen.prototype.commitLineOverflow = function() {\n  this.cursorRowNode_.setAttribute('line-overflow', true);\n};\n\n/**\n * Relocate the cursor to a give row and column.\n *\n * @param {integer} row The zero based row.\n * @param {integer} column The zero based column.\n */\nhterm.Screen.prototype.setCursorPosition = function(row, column) {\n  if (!this.rowsArray.length) {\n    console.warn('Attempt to set cursor position on empty screen.');\n    return;\n  }\n\n  if (row >= this.rowsArray.length) {\n    console.error('Row out of bounds: ' + row);\n    row = this.rowsArray.length - 1;\n  } else if (row < 0) {\n    console.error('Row out of bounds: ' + row);\n    row = 0;\n  }\n\n  if (column >= this.columnCount_) {\n    console.error('Column out of bounds: ' + column);\n    column = this.columnCount_ - 1;\n  } else if (column < 0) {\n    console.error('Column out of bounds: ' + column);\n    column = 0;\n  }\n\n  this.cursorPosition.overflow = false;\n\n  var rowNode = this.rowsArray[row];\n  var node = rowNode.firstChild;\n\n  if (!node) {\n    node = rowNode.ownerDocument.createTextNode('');\n    rowNode.appendChild(node);\n  }\n\n  var currentColumn = -3;\n\n  if (rowNode == this.cursorRowNode_) {\n    if (column >= this.cursorPosition.column - this.cursorOffset_) {\n      node = this.cursorNode_;\n      currentColumn = this.cursorPosition.column - this.cursorOffset_;\n    }\n  } else {\n    this.cursorRowNode_ = rowNode;\n  }\n\n  this.cursorPosition.move(row, column);\n\n  while (node) {\n    var offset = column - currentColumn;\n    var width = hterm.TextAttributes.nodeWidth(node);\n    if (!node.nextSibling || width > offset) {\n      this.cursorNode_ = node;\n      this.cursorOffset_ = offset;\n      return;\n    }\n\n    currentColumn += width;\n    node = node.nextSibling;\n  }\n};\n\n/**\n * Set the provided selection object to be a caret selection at the current\n * cursor position.\n */\nhterm.Screen.prototype.syncSelectionCaret = function(selection) {\n  try {\n    selection.collapse(this.cursorNode_, this.cursorOffset_);\n  } catch (firefoxIgnoredException) {\n    // FF can throw an exception if the range is off, rather than just not\n    // performing the collapse.\n  }\n};\n\n/**\n * Split a single node into two nodes at the given offset.\n *\n * For example:\n * Given the DOM fragment '<div><span>Hello World</span></div>', call splitNode_\n * passing the span and an offset of 6.  This would modifiy the fragment to\n * become: '<div><span>Hello </span><span>World</span></div>'.  If the span\n * had any attributes they would have been copied to the new span as well.\n *\n * The to-be-split node must have a container, so that the new node can be\n * placed next to it.\n *\n * @param {HTMLNode} node The node to split.\n * @param {integer} offset The offset into the node where the split should\n *     occur.\n */\nhterm.Screen.prototype.splitNode_ = function(node, offset) {\n  var afterNode = node.cloneNode(false);\n\n  var textContent = node.textContent;\n  node.textContent = hterm.TextAttributes.nodeSubstr(node, 0, offset);\n  afterNode.textContent = lib.wc.substr(textContent, offset);\n\n  if (afterNode.textContent)\n    node.parentNode.insertBefore(afterNode, node.nextSibling);\n  if (!node.textContent)\n    node.parentNode.removeChild(node);\n};\n\n/**\n * Ensure that text is clipped and the cursor is clamped to the column count.\n */\nhterm.Screen.prototype.maybeClipCurrentRow = function() {\n  var width = hterm.TextAttributes.nodeWidth(this.cursorRowNode_);\n\n  if (width <= this.columnCount_) {\n    // Current row does not need clipping, but may need clamping.\n    if (this.cursorPosition.column >= this.columnCount_) {\n      this.setCursorPosition(this.cursorPosition.row, this.columnCount_ - 1);\n      this.cursorPosition.overflow = true;\n    }\n\n    return;\n  }\n\n  // Save off the current column so we can maybe restore it later.\n  var currentColumn = this.cursorPosition.column;\n\n  // Move the cursor to the final column.\n  this.setCursorPosition(this.cursorPosition.row, this.columnCount_ - 1);\n\n  // Remove any text that partially overflows.\n  width = hterm.TextAttributes.nodeWidth(this.cursorNode_);\n\n  if (this.cursorOffset_ < width - 1) {\n    this.cursorNode_.textContent = hterm.TextAttributes.nodeSubstr(\n        this.cursorNode_, 0, this.cursorOffset_ + 1);\n  }\n\n  // Remove all nodes after the cursor.\n  var rowNode = this.cursorRowNode_;\n  var node = this.cursorNode_.nextSibling;\n\n  while (node) {\n    rowNode.removeChild(node);\n    node = this.cursorNode_.nextSibling;\n  }\n\n  if (currentColumn < this.columnCount_) {\n    // If the cursor was within the screen before we started then restore its\n    // position.\n    this.setCursorPosition(this.cursorPosition.row, currentColumn);\n  } else {\n    // Otherwise leave it at the the last column in the overflow state.\n    this.cursorPosition.overflow = true;\n  }\n};\n\n/**\n * Insert a string at the current character position using the current\n * text attributes.\n *\n * You must call maybeClipCurrentRow() after in order to clip overflowed\n * text and clamp the cursor.\n *\n * It is also up to the caller to properly maintain the line overflow state\n * using hterm.Screen..commitLineOverflow().\n */\nhterm.Screen.prototype.insertString = function(str) {\n  var cursorNode = this.cursorNode_;\n  var cursorNodeText = cursorNode.textContent;\n\n  this.cursorRowNode_.removeAttribute('line-overflow');\n\n  // We may alter the width of the string by prepending some missing\n  // whitespaces, so we need to record the string width ahead of time.\n  var strWidth = lib.wc.strWidth(str);\n\n  // No matter what, before this function exits the cursor column will have\n  // moved this much.\n  this.cursorPosition.column += strWidth;\n\n  // Local cache of the cursor offset.\n  var offset = this.cursorOffset_;\n\n  // Reverse offset is the offset measured from the end of the string.\n  // Zero implies that the cursor is at the end of the cursor node.\n  var reverseOffset = hterm.TextAttributes.nodeWidth(cursorNode) - offset;\n\n  if (reverseOffset < 0) {\n    // A negative reverse offset means the cursor is positioned past the end\n    // of the characters on this line.  We'll need to insert the missing\n    // whitespace.\n    var ws = lib.f.getWhitespace(-reverseOffset);\n\n    // This whitespace should be completely unstyled.  Underline, background\n    // color, and strikethrough would be visible on whitespace, so we can't use\n    // one of those spans to hold the text.\n    if (!(this.textAttributes.underline ||\n          this.textAttributes.strikethrough ||\n          this.textAttributes.background ||\n          this.textAttributes.wcNode ||\n          this.textAttributes.tileData != null)) {\n      // Best case scenario, we can just pretend the spaces were part of the\n      // original string.\n      str = ws + str;\n    } else if (cursorNode.nodeType == 3 ||\n               !(cursorNode.wcNode ||\n                 cursorNode.tileNode ||\n                 cursorNode.style.textDecoration ||\n                 cursorNode.style.backgroundColor)) {\n      // Second best case, the current node is able to hold the whitespace.\n      cursorNode.textContent = (cursorNodeText += ws);\n    } else {\n      // Worst case, we have to create a new node to hold the whitespace.\n      var wsNode = cursorNode.ownerDocument.createTextNode(ws);\n      this.cursorRowNode_.insertBefore(wsNode, cursorNode.nextSibling);\n      this.cursorNode_ = cursorNode = wsNode;\n      this.cursorOffset_ = offset = -reverseOffset;\n      cursorNodeText = ws;\n    }\n\n    // We now know for sure that we're at the last character of the cursor node.\n    reverseOffset = 0;\n  }\n\n  if (this.textAttributes.matchesContainer(cursorNode)) {\n    // The new text can be placed directly in the cursor node.\n    if (reverseOffset == 0) {\n      cursorNode.textContent = cursorNodeText + str;\n    } else if (offset == 0) {\n      cursorNode.textContent = str + cursorNodeText;\n    } else {\n      cursorNode.textContent =\n          hterm.TextAttributes.nodeSubstr(cursorNode, 0, offset) +\n          str + hterm.TextAttributes.nodeSubstr(cursorNode, offset);\n    }\n\n    this.cursorOffset_ += strWidth;\n    return;\n  }\n\n  // The cursor node is the wrong style for the new text.  If we're at the\n  // beginning or end of the cursor node, then the adjacent node is also a\n  // potential candidate.\n\n  if (offset == 0) {\n    // At the beginning of the cursor node, the check the previous sibling.\n    var previousSibling = cursorNode.previousSibling;\n    if (previousSibling &&\n        this.textAttributes.matchesContainer(previousSibling)) {\n      previousSibling.textContent += str;\n      this.cursorNode_ = previousSibling;\n      this.cursorOffset_ = lib.wc.strWidth(previousSibling.textContent);\n      return;\n    }\n\n    var newNode = this.textAttributes.createContainer(str);\n    this.cursorRowNode_.insertBefore(newNode, cursorNode);\n    this.cursorNode_ = newNode;\n    this.cursorOffset_ = strWidth;\n    return;\n  }\n\n  if (reverseOffset == 0) {\n    // At the end of the cursor node, the check the next sibling.\n    var nextSibling = cursorNode.nextSibling;\n    if (nextSibling &&\n        this.textAttributes.matchesContainer(nextSibling)) {\n      nextSibling.textContent = str + nextSibling.textContent;\n      this.cursorNode_ = nextSibling;\n      this.cursorOffset_ = lib.wc.strWidth(str);\n      return;\n    }\n\n    var newNode = this.textAttributes.createContainer(str);\n    this.cursorRowNode_.insertBefore(newNode, nextSibling);\n    this.cursorNode_ = newNode;\n    // We specifically need to include any missing whitespace here, since it's\n    // going in a new node.\n    this.cursorOffset_ = hterm.TextAttributes.nodeWidth(newNode);\n    return;\n  }\n\n  // Worst case, we're somewhere in the middle of the cursor node.  We'll\n  // have to split it into two nodes and insert our new container in between.\n  this.splitNode_(cursorNode, offset);\n  var newNode = this.textAttributes.createContainer(str);\n  this.cursorRowNode_.insertBefore(newNode, cursorNode.nextSibling);\n  this.cursorNode_ = newNode;\n  this.cursorOffset_ = strWidth;\n};\n\n/**\n * Overwrite the text at the current cursor position.\n *\n * You must call maybeClipCurrentRow() after in order to clip overflowed\n * text and clamp the cursor.\n *\n * It is also up to the caller to properly maintain the line overflow state\n * using hterm.Screen..commitLineOverflow().\n */\nhterm.Screen.prototype.overwriteString = function(str) {\n  var maxLength = this.columnCount_ - this.cursorPosition.column;\n  if (!maxLength)\n    return [str];\n\n  var width = lib.wc.strWidth(str);\n  if (this.textAttributes.matchesContainer(this.cursorNode_) &&\n      this.cursorNode_.textContent.substr(this.cursorOffset_) == str) {\n    // This overwrite would be a no-op, just move the cursor and return.\n    this.cursorOffset_ += width;\n    this.cursorPosition.column += width;\n    return;\n  }\n\n  this.deleteChars(Math.min(width, maxLength));\n  this.insertString(str);\n};\n\n/**\n * Forward-delete one or more characters at the current cursor position.\n *\n * Text to the right of the deleted characters is shifted left.  Only affects\n * characters on the same row as the cursor.\n *\n * @param {integer} count The column width of characters to delete.  This is\n *     clamped to the column width minus the cursor column.\n * @return {integer} The column width of the characters actually deleted.\n */\nhterm.Screen.prototype.deleteChars = function(count) {\n  var node = this.cursorNode_;\n  var offset = this.cursorOffset_;\n\n  var currentCursorColumn = this.cursorPosition.column;\n  count = Math.min(count, this.columnCount_ - currentCursorColumn);\n  if (!count)\n    return 0;\n\n  var rv = count;\n  var startLength, endLength;\n\n  while (node && count) {\n    startLength = hterm.TextAttributes.nodeWidth(node);\n    node.textContent = hterm.TextAttributes.nodeSubstr(node, 0, offset) +\n        hterm.TextAttributes.nodeSubstr(node, offset + count);\n    endLength = hterm.TextAttributes.nodeWidth(node);\n    count -= startLength - endLength;\n    if (offset < startLength && endLength && startLength == endLength) {\n      // No characters were deleted when there should be.  We're probably trying\n      // to delete one column width from a wide character node.  We remove the\n      // wide character node here and replace it with a single space.\n      var spaceNode = this.textAttributes.createContainer(' ');\n      node.parentNode.insertBefore(spaceNode, node.nextSibling);\n      node.textContent = '';\n      endLength = 0;\n      count -= 1;\n    }\n\n    var nextNode = node.nextSibling;\n    if (endLength == 0 && node != this.cursorNode_) {\n      node.parentNode.removeChild(node);\n    }\n    node = nextNode;\n    offset = 0;\n  }\n\n  // Remove this.cursorNode_ if it is an empty non-text node.\n  if (this.cursorNode_.nodeType != 3 && !this.cursorNode_.textContent) {\n    var cursorNode = this.cursorNode_;\n    if (cursorNode.previousSibling) {\n      this.cursorNode_ = cursorNode.previousSibling;\n      this.cursorOffset_ = hterm.TextAttributes.nodeWidth(\n          cursorNode.previousSibling);\n    } else if (cursorNode.nextSibling) {\n      this.cursorNode_ = cursorNode.nextSibling;\n      this.cursorOffset_ = 0;\n    } else {\n      var emptyNode = this.cursorRowNode_.ownerDocument.createTextNode('');\n      this.cursorRowNode_.appendChild(emptyNode);\n      this.cursorNode_ = emptyNode;\n      this.cursorOffset_ = 0;\n    }\n    this.cursorRowNode_.removeChild(cursorNode);\n  }\n\n  return rv;\n};\n\n/**\n * Finds first X-ROW of a line containing specified X-ROW.\n * Used to support line overflow.\n *\n * @param {Node} row X-ROW to begin search for first row of line.\n * @return {Node} The X-ROW that is at the beginning of the line.\n **/\nhterm.Screen.prototype.getLineStartRow_ = function(row) {\n  while (row.previousSibling &&\n         row.previousSibling.hasAttribute('line-overflow')) {\n    row = row.previousSibling;\n  }\n  return row;\n};\n\n/**\n * Gets text of a line beginning with row.\n * Supports line overflow.\n *\n * @param {Node} row First X-ROW of line.\n * @return {string} Text content of line.\n **/\nhterm.Screen.prototype.getLineText_ = function(row) {\n  var rowText = \"\";\n  while (row) {\n    rowText += row.textContent;\n    if (row.hasAttribute('line-overflow')) {\n      row = row.nextSibling;\n    } else {\n      break;\n    }\n  }\n  return rowText;\n};\n\n/**\n * Returns X-ROW that is ancestor of the node.\n *\n * @param {Node} node Node to get X-ROW ancestor for.\n * @return {Node} X-ROW ancestor of node, or null if not found.\n **/\nhterm.Screen.prototype.getXRowAncestor_ = function(node) {\n  while (node) {\n    if (node.nodeName === 'X-ROW')\n      break;\n    node = node.parentNode;\n  }\n  return node;\n};\n\n/**\n * Returns position within line of character at offset within node.\n * Supports line overflow.\n *\n * @param {Node} row X-ROW at beginning of line.\n * @param {Node} node Node to get position of.\n * @param {integer} offset Offset into node.\n *\n * @return {integer} Position within line of character at offset within node.\n **/\nhterm.Screen.prototype.getPositionWithOverflow_ = function(row, node, offset) {\n  if (!node)\n    return -1;\n  var ancestorRow = this.getXRowAncestor_(node);\n  if (!ancestorRow)\n    return -1;\n  var position = 0;\n  while (ancestorRow != row) {\n    position += hterm.TextAttributes.nodeWidth(row);\n    if (row.hasAttribute('line-overflow') && row.nextSibling) {\n      row = row.nextSibling;\n    } else {\n      return -1;\n    }\n  }\n  return position + this.getPositionWithinRow_(row, node, offset);\n};\n\n/**\n * Returns position within row of character at offset within node.\n * Does not support line overflow.\n *\n * @param {Node} row X-ROW to get position within.\n * @param {Node} node Node to get position for.\n * @param {integer} offset Offset within node to get position for.\n * @return {integer} Position within row of character at offset within node.\n **/\nhterm.Screen.prototype.getPositionWithinRow_ = function(row, node, offset) {\n  if (node.parentNode != row) {\n    return this.getPositionWithinRow_(node.parentNode, node, offset) +\n           this.getPositionWithinRow_(row, node.parentNode, 0);\n  }\n  var position = 0;\n  for (var i = 0; i < row.childNodes.length; i++) {\n    var currentNode = row.childNodes[i];\n    if (currentNode == node)\n      return position + offset;\n    position += hterm.TextAttributes.nodeWidth(currentNode);\n  }\n  return -1;\n};\n\n/**\n * Returns the node and offset corresponding to position within line.\n * Supports line overflow.\n *\n * @param {Node} row X-ROW at beginning of line.\n * @param {integer} position Position within line to retrieve node and offset.\n * @return {Array} Two element array containing node and offset respectively.\n **/\nhterm.Screen.prototype.getNodeAndOffsetWithOverflow_ = function(row, position) {\n  while (row && position > hterm.TextAttributes.nodeWidth(row)) {\n    if (row.hasAttribute('line-overflow') && row.nextSibling) {\n      position -= hterm.TextAttributes.nodeWidth(row);\n      row = row.nextSibling;\n    } else {\n      return -1;\n    }\n  }\n  return this.getNodeAndOffsetWithinRow_(row, position);\n};\n\n/**\n * Returns the node and offset corresponding to position within row.\n * Does not support line overflow.\n *\n * @param {Node} row X-ROW to get position within.\n * @param {integer} position Position within row to retrieve node and offset.\n * @return {Array} Two element array containing node and offset respectively.\n **/\nhterm.Screen.prototype.getNodeAndOffsetWithinRow_ = function(row, position) {\n  for (var i = 0; i < row.childNodes.length; i++) {\n    var node = row.childNodes[i];\n    var nodeTextWidth = hterm.TextAttributes.nodeWidth(node);\n    if (position <= nodeTextWidth) {\n      if (node.nodeName === 'SPAN') {\n        /** Drill down to node contained by SPAN. **/\n        return this.getNodeAndOffsetWithinRow_(node, position);\n      } else {\n        return [node, position];\n      }\n    }\n    position -= nodeTextWidth;\n  }\n  return null;\n};\n\n/**\n * Returns the node and offset corresponding to position within line.\n * Supports line overflow.\n *\n * @param {Node} row X-ROW at beginning of line.\n * @param {integer} start Start position of range within line.\n * @param {integer} end End position of range within line.\n * @param {Range} range Range to modify.\n **/\nhterm.Screen.prototype.setRange_ = function(row, start, end, range) {\n  var startNodeAndOffset = this.getNodeAndOffsetWithOverflow_(row, start);\n  if (startNodeAndOffset == null)\n    return;\n  var endNodeAndOffset = this.getNodeAndOffsetWithOverflow_(row, end);\n  if (endNodeAndOffset == null)\n    return;\n  range.setStart(startNodeAndOffset[0], startNodeAndOffset[1]);\n  range.setEnd(endNodeAndOffset[0], endNodeAndOffset[1]);\n};\n\n/**\n * Expands selection to surround URLs.\n *\n * @param {Selection} selection Selection to expand.\n **/\nhterm.Screen.prototype.expandSelection = function(selection) {\n  if (!selection)\n    return;\n\n  var range = selection.getRangeAt(0);\n  if (!range || range.toString().match(/\\s/))\n    return;\n\n  var row = this.getLineStartRow_(this.getXRowAncestor_(range.startContainer));\n  if (!row)\n    return;\n\n  var startPosition = this.getPositionWithOverflow_(row,\n                                                    range.startContainer,\n                                                    range.startOffset);\n  if (startPosition == -1)\n    return;\n  var endPosition = this.getPositionWithOverflow_(row,\n                                                  range.endContainer,\n                                                  range.endOffset);\n  if (endPosition == -1)\n    return;\n\n  // Matches can start with '~' or '.', since paths frequently do.\n  var leftMatch   = '[^\\\\s\\\\[\\\\](){}<>\"\\'\\\\^!@#$%&*,;:`]';\n  var rightMatch  = '[^\\\\s\\\\[\\\\](){}<>\"\\'\\\\^!@#$%&*,;:~.`]';\n  var insideMatch = '[^\\\\s\\\\[\\\\](){}<>\"\\'\\\\^]*';\n\n  //Move start to the left.\n  var rowText = this.getLineText_(row);\n  var lineUpToRange = lib.wc.substring(rowText, 0, endPosition);\n  var leftRegularExpression = new RegExp(leftMatch + insideMatch + \"$\");\n  var expandedStart = lineUpToRange.search(leftRegularExpression);\n  if (expandedStart == -1 || expandedStart > startPosition)\n    return;\n\n  //Move end to the right.\n  var lineFromRange = lib.wc.substring(rowText, startPosition,\n                                       lib.wc.strWidth(rowText));\n  var rightRegularExpression = new RegExp(\"^\" + insideMatch + rightMatch);\n  var found = lineFromRange.match(rightRegularExpression);\n  if (!found)\n    return;\n  var expandedEnd = startPosition + lib.wc.strWidth(found[0]);\n  if (expandedEnd == -1 || expandedEnd < endPosition)\n    return;\n\n  this.setRange_(row, expandedStart, expandedEnd, range);\n  selection.addRange(range);\n};\n// SOURCE FILE: hterm/js/hterm_scrollport.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.f', 'hterm.PubSub', 'hterm.Size');\n\n/**\n * A 'viewport' view of fixed-height rows with support for selection and\n * copy-to-clipboard.\n *\n * 'Viewport' in this case means that only the visible rows are in the DOM.\n * If the rowProvider has 100,000 rows, but the ScrollPort is only 25 rows\n * tall, then only 25 dom nodes are created.  The ScrollPort will ask the\n * RowProvider to create new visible rows on demand as they are scrolled in\n * to the visible area.\n *\n * This viewport is designed so that select and copy-to-clipboard still works,\n * even when all or part of the selection is scrolled off screen.\n *\n * Note that the X11 mouse clipboard does not work properly when all or part\n * of the selection is off screen.  It would be difficult to fix this without\n * adding significant overhead to pathologically large selection cases.\n *\n * The RowProvider should return rows rooted by the custom tag name 'x-row'.\n * This ensures that we can quickly assign the correct display height\n * to the rows with css.\n *\n * @param {RowProvider} rowProvider An object capable of providing rows as\n *     raw text or row nodes.\n */\nhterm.ScrollPort = function(rowProvider) {\n  hterm.PubSub.addBehavior(this);\n\n  this.rowProvider_ = rowProvider;\n\n  // SWAG the character size until we can measure it.\n  this.characterSize = new hterm.Size(10, 10);\n\n  // DOM node used for character measurement.\n  this.ruler_ = null;\n\n  this.selection = new hterm.ScrollPort.Selection(this);\n\n  // A map of rowIndex => rowNode for each row that is drawn as part of a\n  // pending redraw_() call.  Null if there is no pending redraw_ call.\n  this.currentRowNodeCache_ = null;\n\n  // A map of rowIndex => rowNode for each row that was drawn as part of the\n  // previous redraw_() call.\n  this.previousRowNodeCache_ = {};\n\n  // Used during scroll events to detect when the underlying cause is a resize.\n  this.lastScreenWidth_ = null;\n  this.lastScreenHeight_ = null;\n\n  // True if the user should be allowed to select text in the terminal.\n  // This is disabled when the host requests mouse drag events so that we don't\n  // end up with two notions of selection.\n  this.selectionEnabled_ = true;\n\n  // The last row count returned by the row provider, re-populated during\n  // syncScrollHeight().\n  this.lastRowCount_ = 0;\n\n  // The scroll wheel pixel delta multiplier to increase/descrease\n  // the scroll speed of mouse wheel events. See: http://goo.gl/sXelnq\n  this.scrollWheelMultiplier_ = 1;\n\n  /**\n   * True if the last scroll caused the scrollport to show the final row.\n   */\n  this.isScrolledEnd = true;\n\n  // The css rule that we use to control the height of a row.\n  this.xrowCssRule_ = null;\n\n  /**\n   * A guess at the current scrollbar width, fixed in resize().\n   */\n  this.currentScrollbarWidthPx = 16;\n\n  /**\n   * Whether the ctrl-v key on the screen should paste.\n   */\n  this.ctrlVPaste = false;\n\n  this.div_ = null;\n  this.document_ = null;\n\n  // Collection of active timeout handles.\n  this.timeouts_ = {};\n\n  this.observers_ = {};\n\n  this.DEBUG_ = false;\n}\n\n/**\n * Proxy for the native selection object which understands how to walk up the\n * DOM to find the containing row node and sort out which comes first.\n *\n * @param {hterm.ScrollPort} scrollPort The parent hterm.ScrollPort instance.\n */\nhterm.ScrollPort.Selection = function(scrollPort) {\n  this.scrollPort_ = scrollPort;\n\n  /**\n   * The row containing the start of the selection.\n   *\n   * This may be partially or fully selected.  It may be the selection anchor\n   * or the focus, but its rowIndex is guaranteed to be less-than-or-equal-to\n   * that of the endRow.\n   *\n   * If only one row is selected then startRow == endRow.  If there is no\n   * selection or the selection is collapsed then startRow == null.\n   */\n  this.startRow = null;\n\n  /**\n   * The row containing the end of the selection.\n   *\n   * This may be partially or fully selected.  It may be the selection anchor\n   * or the focus, but its rowIndex is guaranteed to be greater-than-or-equal-to\n   * that of the startRow.\n   *\n   * If only one row is selected then startRow == endRow.  If there is no\n   * selection or the selection is collapsed then startRow == null.\n   */\n  this.endRow = null;\n\n  /**\n   * True if startRow != endRow.\n   */\n  this.isMultiline = null;\n\n  /**\n   * True if the selection is just a point rather than a range.\n   */\n  this.isCollapsed = null;\n};\n\n/**\n * Given a list of DOM nodes and a container, return the DOM node that\n * is first according to a depth-first search.\n *\n * Returns null if none of the children are found.\n */\nhterm.ScrollPort.Selection.prototype.findFirstChild = function(\n    parent, childAry) {\n  var node = parent.firstChild;\n\n  while (node) {\n    if (childAry.indexOf(node) != -1)\n      return node;\n\n    if (node.childNodes.length) {\n      var rv = this.findFirstChild(node, childAry);\n      if (rv)\n        return rv;\n    }\n\n    node = node.nextSibling;\n  }\n\n  return null;\n};\n\n/**\n * Synchronize this object with the current DOM selection.\n *\n * This is a one-way synchronization, the DOM selection is copied to this\n * object, not the other way around.\n */\nhterm.ScrollPort.Selection.prototype.sync = function() {\n  var self = this;\n\n  // The dom selection object has no way to tell which nodes come first in\n  // the document, so we have to figure that out.\n  //\n  // This function is used when we detect that the \"anchor\" node is first.\n  function anchorFirst() {\n    self.startRow = anchorRow;\n    self.startNode = selection.anchorNode;\n    self.startOffset = selection.anchorOffset;\n    self.endRow = focusRow;\n    self.endNode = selection.focusNode;\n    self.endOffset = selection.focusOffset;\n  }\n\n  // This function is used when we detect that the \"focus\" node is first.\n  function focusFirst() {\n    self.startRow = focusRow;\n    self.startNode = selection.focusNode;\n    self.startOffset = selection.focusOffset;\n    self.endRow = anchorRow;\n    self.endNode = selection.anchorNode;\n    self.endOffset = selection.anchorOffset;\n  }\n\n  var selection = this.scrollPort_.getDocument().getSelection();\n\n  this.startRow = null;\n  this.endRow = null;\n  this.isMultiline = null;\n  this.isCollapsed = !selection || selection.isCollapsed;\n\n  if (this.isCollapsed)\n    return;\n\n  var anchorRow = selection.anchorNode;\n  while (anchorRow && !('rowIndex' in anchorRow)) {\n    anchorRow = anchorRow.parentNode;\n  }\n\n  if (!anchorRow) {\n    console.error('Selection anchor is not rooted in a row node: ' +\n                  selection.anchorNode.nodeName);\n    return;\n  }\n\n  var focusRow = selection.focusNode;\n  while (focusRow && !('rowIndex' in focusRow)) {\n    focusRow = focusRow.parentNode;\n  }\n\n  if (!focusRow) {\n    console.error('Selection focus is not rooted in a row node: ' +\n                  selection.focusNode.nodeName);\n    return;\n  }\n\n  if (anchorRow.rowIndex < focusRow.rowIndex) {\n    anchorFirst();\n\n  } else if (anchorRow.rowIndex > focusRow.rowIndex) {\n    focusFirst();\n\n  } else if (selection.focusNode == selection.anchorNode) {\n    if (selection.anchorOffset < selection.focusOffset) {\n      anchorFirst();\n    } else {\n      focusFirst();\n    }\n\n  } else {\n    // The selection starts and ends in the same row, but isn't contained all\n    // in a single node.\n    var firstNode = this.findFirstChild(\n        anchorRow, [selection.anchorNode, selection.focusNode]);\n\n    if (!firstNode)\n      throw new Error('Unexpected error syncing selection.');\n\n    if (firstNode == selection.anchorNode) {\n      anchorFirst();\n    } else {\n      focusFirst();\n    }\n  }\n\n  this.isMultiline = anchorRow.rowIndex != focusRow.rowIndex;\n};\n\n\n/**\n * Turn a div into this hterm.ScrollPort.\n */\nhterm.ScrollPort.prototype.decorate = function(div) {\n  this.div_ = div;\n\n  this.iframe_ = div.ownerDocument.createElement('iframe');\n  this.iframe_.style.cssText = (\n      'border: 0;' +\n      'height: 100%;' +\n      'position: absolute;' +\n      'width: 100%');\n\n  // Set the iframe src to # in FF.  Otherwise when the frame's\n  // load event fires in FF it clears out the content of the iframe.\n  if ('mozInnerScreenX' in window)  // detect a FF only property\n    this.iframe_.src = '#';\n\n  div.appendChild(this.iframe_);\n\n  this.iframe_.contentWindow.addEventListener('resize',\n                                              this.onResize_.bind(this));\n\n  var doc = this.document_ = this.iframe_.contentDocument;\n  doc.body.style.cssText = (\n      'margin: 0px;' +\n      'padding: 0px;' +\n      'height: 100%;' +\n      'width: 100%;' +\n      'overflow: hidden;' +\n      '-webkit-user-select: none;' +\n      '-moz-user-select: none;');\n\n  var style = doc.createElement('style');\n  style.textContent = 'x-row {}';\n  doc.head.appendChild(style);\n\n  this.xrowCssRule_ = doc.styleSheets[0].cssRules[0];\n  this.xrowCssRule_.style.display = 'block';\n\n  this.userCssLink_ = doc.createElement('link');\n  this.userCssLink_.setAttribute('rel', 'stylesheet');\n\n  // TODO(rginda): Sorry, this 'screen_' isn't the same thing as hterm.Screen\n  // from screen.js.  I need to pick a better name for one of them to avoid\n  // the collision.\n  this.screen_ = doc.createElement('x-screen');\n  this.screen_.setAttribute('role', 'textbox');\n  this.screen_.setAttribute('tabindex', '-1');\n  this.screen_.style.cssText = (\n      'display: block;' +\n      'font-family: monospace;' +\n      'font-size: 15px;' +\n      'height: 100%;' +\n      'overflow-y: scroll; overflow-x: hidden;' +\n      'white-space: pre;' +\n      'width: 100%;' +\n      'outline: none !important');\n\n  doc.body.appendChild(this.screen_);\n\n  this.screen_.addEventListener('scroll', this.onScroll_.bind(this));\n  this.screen_.addEventListener('mousewheel', this.onScrollWheel_.bind(this));\n  this.screen_.addEventListener(\n      'DOMMouseScroll', this.onScrollWheel_.bind(this));\n  this.screen_.addEventListener('copy', this.onCopy_.bind(this));\n  this.screen_.addEventListener('paste', this.onPaste_.bind(this));\n\n  doc.body.addEventListener('keydown', this.onBodyKeyDown_.bind(this));\n\n  // This is the main container for the fixed rows.\n  this.rowNodes_ = doc.createElement('div');\n  this.rowNodes_.style.cssText = (\n      'display: block;' +\n      'position: fixed;' +\n      'overflow: hidden;' +\n      '-webkit-user-select: text;' +\n      '-moz-user-select: text;');\n  this.screen_.appendChild(this.rowNodes_);\n\n  // Two nodes to hold offscreen text during the copy event.\n  this.topSelectBag_ = doc.createElement('x-select-bag');\n  this.topSelectBag_.style.cssText = (\n      'display: block;' +\n      'overflow: hidden;' +\n      'white-space: pre;');\n\n  this.bottomSelectBag_ = this.topSelectBag_.cloneNode();\n\n  // Nodes above the top fold and below the bottom fold are hidden.  They are\n  // only used to hold rows that are part of the selection but are currently\n  // scrolled off the top or bottom of the visible range.\n  this.topFold_ = doc.createElement('x-fold');\n  this.topFold_.style.cssText = 'display: block;';\n  this.rowNodes_.appendChild(this.topFold_);\n\n  this.bottomFold_ = this.topFold_.cloneNode();\n  this.rowNodes_.appendChild(this.bottomFold_);\n\n  // This hidden div accounts for the vertical space that would be consumed by\n  // all the rows in the buffer if they were visible.  It's what causes the\n  // scrollbar to appear on the 'x-screen', and it moves within the screen when\n  // the scrollbar is moved.\n  //\n  // It is set 'visibility: hidden' to keep the browser from trying to include\n  // it in the selection when a user 'drag selects' upwards (drag the mouse to\n  // select and scroll at the same time).  Without this, the selection gets\n  // out of whack.\n  this.scrollArea_ = doc.createElement('div');\n  this.scrollArea_.style.cssText = 'visibility: hidden';\n  this.screen_.appendChild(this.scrollArea_);\n\n  // This svg element is used to detect when the browser is zoomed.  It must be\n  // placed in the outermost document for currentScale to be correct.\n  // TODO(rginda): This means that hterm nested in an iframe will not correctly\n  // detect browser zoom level.  We should come up with a better solution.\n  this.svg_ = this.div_.ownerDocument.createElementNS(\n      'http://www.w3.org/2000/svg', 'svg');\n  this.svg_.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n  this.svg_.setAttribute('version', '1.1');\n  this.svg_.style.cssText = (\n      'position: absolute;' +\n      'top: 0;' +\n      'left: 0;' +\n      'visibility: hidden');\n\n\n  // We send focus to this element just before a paste happens, so we can\n  // capture the pasted text and forward it on to someone who cares.\n  this.pasteTarget_ = doc.createElement('textarea');\n  this.pasteTarget_.setAttribute('tabindex', '-1');\n  this.pasteTarget_.style.cssText = (\n    'position: absolute;' +\n    'height: 1px;' +\n    'width: 1px;' +\n    'left: 0px; ' +\n    'bottom: 0px;' +\n    'opacity: 0');\n  this.pasteTarget_.contentEditable = true;\n\n  this.screen_.appendChild(this.pasteTarget_);\n  this.pasteTarget_.addEventListener(\n      'textInput', this.handlePasteTargetTextInput_.bind(this));\n\n  this.resize();\n};\n\n/**\n * Select the font-family and font-smoothing for this scrollport.\n *\n * @param {string} fontFamily Value of the CSS 'font-family' to use for this\n *     scrollport.  Should be a monospace font.\n * @param {string} opt_smoothing Optional value for '-webkit-font-smoothing'.\n *     Defaults to an empty string if not specified.\n */\nhterm.ScrollPort.prototype.setFontFamily = function(fontFamily, opt_smoothing) {\n  this.screen_.style.fontFamily = fontFamily;\n  if (opt_smoothing) {\n    this.screen_.style.webkitFontSmoothing = opt_smoothing;\n  } else {\n    this.screen_.style.webkitFontSmoothing = '';\n  }\n\n  this.syncCharacterSize();\n};\n\nhterm.ScrollPort.prototype.getFontFamily = function() {\n  return this.screen_.style.fontFamily;\n};\n\n/**\n * Set a custom stylesheet to include in the scrollport.\n *\n * Defaults to null, meaning no custom css is loaded.  Set it back to null or\n * the empty string to remove a previously applied custom css.\n */\nhterm.ScrollPort.prototype.setUserCss = function(url) {\n  if (url) {\n    this.userCssLink_.setAttribute('href', url);\n\n    if (!this.userCssLink_.parentNode)\n      this.document_.head.appendChild(this.userCssLink_);\n  } else if (this.userCssLink_.parentNode) {\n    this.document_.head.removeChild(this.userCssLink_);\n  }\n};\n\nhterm.ScrollPort.prototype.focus = function() {\n  this.iframe_.focus();\n  this.screen_.focus();\n};\n\nhterm.ScrollPort.prototype.getForegroundColor = function() {\n  return this.screen_.style.color;\n};\n\nhterm.ScrollPort.prototype.setForegroundColor = function(color) {\n  this.screen_.style.color = color;\n};\n\nhterm.ScrollPort.prototype.getBackgroundColor = function() {\n  return this.screen_.style.backgroundColor;\n};\n\nhterm.ScrollPort.prototype.setBackgroundColor = function(color) {\n  this.screen_.style.backgroundColor = color;\n};\n\nhterm.ScrollPort.prototype.setBackgroundImage = function(image) {\n  this.screen_.style.backgroundImage = image;\n};\n\nhterm.ScrollPort.prototype.setBackgroundSize = function(size) {\n  this.screen_.style.backgroundSize = size;\n};\n\nhterm.ScrollPort.prototype.setBackgroundPosition = function(position) {\n  this.screen_.style.backgroundPosition = position;\n};\n\nhterm.ScrollPort.prototype.setCtrlVPaste = function(ctrlVPaste) {\n  this.ctrlVPaste = ctrlVPaste;\n};\n\n/**\n * Get the usable size of the scrollport screen.\n *\n * The width will not include the scrollbar width.\n */\nhterm.ScrollPort.prototype.getScreenSize = function() {\n  var size = hterm.getClientSize(this.screen_);\n  return {\n    height: size.height,\n    width: size.width - this.currentScrollbarWidthPx\n  };\n};\n\n/**\n * Get the usable width of the scrollport screen.\n *\n * This the widget width minus scrollbar width.\n */\nhterm.ScrollPort.prototype.getScreenWidth = function() {\n  return this.getScreenSize().width ;\n};\n\n/**\n * Get the usable height of the scrollport screen.\n */\nhterm.ScrollPort.prototype.getScreenHeight = function() {\n  return this.getScreenSize().height;\n};\n\n/**\n * Return the document that holds the visible rows of this hterm.ScrollPort.\n */\nhterm.ScrollPort.prototype.getDocument = function() {\n  return this.document_;\n};\n\n/**\n * Returns the x-screen element that holds the rows of this hterm.ScrollPort.\n */\nhterm.ScrollPort.prototype.getScreenNode = function() {\n  return this.screen_;\n};\n\n/**\n * Clear out any cached rowNodes.\n */\nhterm.ScrollPort.prototype.resetCache = function() {\n  this.currentRowNodeCache_ = null;\n  this.previousRowNodeCache_ = {};\n};\n\n/**\n * Change the current rowProvider.\n *\n * This will clear the row cache and cause a redraw.\n *\n * @param {Object} rowProvider An object capable of providing the rows\n *     in this hterm.ScrollPort.\n */\nhterm.ScrollPort.prototype.setRowProvider = function(rowProvider) {\n  this.resetCache();\n  this.rowProvider_ = rowProvider;\n  this.scheduleRedraw();\n};\n\n/**\n * Inform the ScrollPort that the root DOM nodes for some or all of the visible\n * rows are no longer valid.\n *\n * Specifically, this should be called if this.rowProvider_.getRowNode() now\n * returns an entirely different node than it did before.  It does not\n * need to be called if the content of a row node is the only thing that\n * changed.\n *\n * This skips some of the overhead of a full redraw, but should not be used\n * in cases where the scrollport has been scrolled, or when the row count has\n * changed.\n */\nhterm.ScrollPort.prototype.invalidate = function() {\n  var node = this.topFold_.nextSibling;\n  while (node != this.bottomFold_) {\n    var nextSibling = node.nextSibling;\n    node.parentElement.removeChild(node);\n    node = nextSibling;\n  }\n\n  this.previousRowNodeCache_ = null;\n  var topRowIndex = this.getTopRowIndex();\n  var bottomRowIndex = this.getBottomRowIndex(topRowIndex);\n\n  this.drawVisibleRows_(topRowIndex, bottomRowIndex);\n};\n\nhterm.ScrollPort.prototype.scheduleInvalidate = function() {\n  if (this.timeouts_.invalidate)\n    return;\n\n  var self = this;\n  this.timeouts_.invalidate = setTimeout(function () {\n      delete self.timeouts_.invalidate;\n      self.invalidate();\n    }, 0);\n};\n\n/**\n * Set the font size of the ScrollPort.\n */\nhterm.ScrollPort.prototype.setFontSize = function(px) {\n  this.screen_.style.fontSize = px + 'px';\n  this.syncCharacterSize();\n};\n\n/**\n * Return the current font size of the ScrollPort.\n */\nhterm.ScrollPort.prototype.getFontSize = function() {\n  return parseInt(this.screen_.style.fontSize);\n};\n\n/**\n * Measure the size of a single character in pixels.\n *\n * @param {string} opt_weight The font weight to measure, or 'normal' if\n *     omitted.\n * @return {hterm.Size} A new hterm.Size object.\n */\nhterm.ScrollPort.prototype.measureCharacterSize = function(opt_weight) {\n  if (!this.ruler_) {\n    this.ruler_ = this.document_.createElement('div');\n    this.ruler_.style.cssText = (\n        'position: absolute;' +\n        'top: 0;' +\n        'left: 0;' +\n        'visibility: hidden;' +\n        'height: auto !important;' +\n        'width: auto !important;');\n\n    // We need to put the text in a span to make the size calculation\n    // work properly in Firefox\n    this.rulerSpan_ = this.document_.createElement('span');\n    this.rulerSpan_.textContent = ('XXXXXXXXXXXXXXXXXXXX' +\n                                   'XXXXXXXXXXXXXXXXXXXX' +\n                                   'XXXXXXXXXXXXXXXXXXXX' +\n                                   'XXXXXXXXXXXXXXXXXXXX' +\n                                   'XXXXXXXXXXXXXXXXXXXX');\n    this.ruler_.appendChild(this.rulerSpan_);\n\n    this.rulerBaseline_ = this.document_.createElement('span');\n    // We want to collapse it on the baseline\n    this.rulerBaseline_.style.fontSize = '0px';\n    this.rulerBaseline_.textContent = 'X';\n  }\n\n  this.rulerSpan_.style.fontWeight = opt_weight || '';\n\n  this.rowNodes_.appendChild(this.ruler_);\n  var rulerSize = hterm.getClientSize(this.rulerSpan_);\n\n  var size = new hterm.Size(rulerSize.width / this.ruler_.textContent.length,\n                            rulerSize.height);\n\n  this.ruler_.appendChild(this.rulerBaseline_);\n  size.baseline = this.rulerBaseline_.offsetTop;\n  this.ruler_.removeChild(this.rulerBaseline_);\n\n  this.rowNodes_.removeChild(this.ruler_);\n\n  this.div_.ownerDocument.body.appendChild(this.svg_);\n  size.zoomFactor = this.svg_.currentScale;\n  this.div_.ownerDocument.body.removeChild(this.svg_);\n\n  return size;\n};\n\n/**\n * Synchronize the character size.\n *\n * This will re-measure the current character size and adjust the height\n * of an x-row to match.\n */\nhterm.ScrollPort.prototype.syncCharacterSize = function() {\n  this.characterSize = this.measureCharacterSize();\n\n  var lineHeight = this.characterSize.height + 'px';\n  this.xrowCssRule_.style.height = lineHeight;\n  this.topSelectBag_.style.height = lineHeight;\n  this.bottomSelectBag_.style.height = lineHeight;\n\n  this.resize();\n\n  if (this.DEBUG_) {\n    // When we're debugging we add padding to the body so that the offscreen\n    // elements are visible.\n    this.document_.body.style.paddingTop =\n        this.document_.body.style.paddingBottom =\n        3 * this.characterSize.height + 'px';\n  }\n};\n\n/**\n * Reset dimensions and visible row count to account for a change in the\n * dimensions of the 'x-screen'.\n */\nhterm.ScrollPort.prototype.resize = function() {\n  this.currentScrollbarWidthPx = hterm.getClientWidth(this.screen_) -\n    this.screen_.clientWidth;\n\n  this.syncScrollHeight();\n  this.syncRowNodesDimensions_();\n\n  var self = this;\n  this.publish(\n      'resize', { scrollPort: this },\n      function() {\n        self.scrollRowToBottom(self.rowProvider_.getRowCount());\n        self.scheduleRedraw();\n      });\n};\n\n/**\n * Set the position and size of the row nodes element.\n */\nhterm.ScrollPort.prototype.syncRowNodesDimensions_ = function() {\n  var screenSize = this.getScreenSize();\n\n  this.lastScreenWidth_ = screenSize.width;\n  this.lastScreenHeight_ = screenSize.height;\n\n  // We don't want to show a partial row because it would be distracting\n  // in a terminal, so we floor any fractional row count.\n  this.visibleRowCount = lib.f.smartFloorDivide(\n      screenSize.height, this.characterSize.height);\n\n  // Then compute the height of our integral number of rows.\n  var visibleRowsHeight = this.visibleRowCount * this.characterSize.height;\n\n  // Then the difference between the screen height and total row height needs to\n  // be made up for as top margin.  We need to record this value so it\n  // can be used later to determine the topRowIndex.\n  this.visibleRowTopMargin = 0;\n  this.visibleRowBottomMargin = screenSize.height - visibleRowsHeight;\n\n  this.topFold_.style.marginBottom = this.visibleRowTopMargin + 'px';\n\n\n  var topFoldOffset = 0;\n  var node = this.topFold_.previousSibling;\n  while (node) {\n    topFoldOffset += hterm.getClientHeight(node);\n    node = node.previousSibling;\n  }\n\n  // Set the dimensions of the visible rows container.\n  this.rowNodes_.style.width = screenSize.width + 'px';\n  this.rowNodes_.style.height = visibleRowsHeight + topFoldOffset + 'px';\n  this.rowNodes_.style.left = this.screen_.offsetLeft + 'px';\n  this.rowNodes_.style.top = this.screen_.offsetTop - topFoldOffset + 'px';\n};\n\nhterm.ScrollPort.prototype.syncScrollHeight = function() {\n  // Resize the scroll area to appear as though it contains every row.\n  this.lastRowCount_ = this.rowProvider_.getRowCount();\n  this.scrollArea_.style.height = (this.characterSize.height *\n                                   this.lastRowCount_ +\n                                   this.visibleRowTopMargin +\n                                   this.visibleRowBottomMargin +\n                                   'px');\n};\n\n/**\n * Schedule a redraw to happen asynchronously.\n *\n * If this method is called multiple times before the redraw has a chance to\n * run only one redraw occurs.\n */\nhterm.ScrollPort.prototype.scheduleRedraw = function() {\n  if (this.timeouts_.redraw)\n    return;\n\n  var self = this;\n  this.timeouts_.redraw = setTimeout(function () {\n      delete self.timeouts_.redraw;\n      self.redraw_();\n    }, 0);\n};\n\n/**\n * Redraw the current hterm.ScrollPort based on the current scrollbar position.\n *\n * When redrawing, we are careful to make sure that the rows that start or end\n * the current selection are not touched in any way.  Doing so would disturb\n * the selection, and cleaning up after that would cause flashes at best and\n * incorrect selection at worst.  Instead, we modify the DOM around these nodes.\n * We even stash the selection start/end outside of the visible area if\n * they are not supposed to be visible in the hterm.ScrollPort.\n */\nhterm.ScrollPort.prototype.redraw_ = function() {\n  this.resetSelectBags_();\n  this.selection.sync();\n\n  this.syncScrollHeight();\n\n  this.currentRowNodeCache_ = {};\n\n  var topRowIndex = this.getTopRowIndex();\n  var bottomRowIndex = this.getBottomRowIndex(topRowIndex);\n\n  this.drawTopFold_(topRowIndex);\n  this.drawBottomFold_(bottomRowIndex);\n  this.drawVisibleRows_(topRowIndex, bottomRowIndex);\n\n  this.syncRowNodesDimensions_();\n\n  this.previousRowNodeCache_ = this.currentRowNodeCache_;\n  this.currentRowNodeCache_ = null;\n\n  this.isScrolledEnd = (\n    this.getTopRowIndex() + this.visibleRowCount >= this.lastRowCount_);\n};\n\n/**\n * Ensure that the nodes above the top fold are as they should be.\n *\n * If the selection start and/or end nodes are above the visible range\n * of this hterm.ScrollPort then the dom will be adjusted so that they appear\n * before the top fold (the first x-fold element, aka this.topFold).\n *\n * If not, the top fold will be the first element.\n *\n * It is critical that this method does not move the selection nodes.  Doing\n * so would clear the current selection.  Instead, the rest of the DOM is\n * adjusted around them.\n */\nhterm.ScrollPort.prototype.drawTopFold_ = function(topRowIndex) {\n  if (!this.selection.startRow ||\n      this.selection.startRow.rowIndex >= topRowIndex) {\n    // Selection is entirely below the top fold, just make sure the fold is\n    // the first child.\n    if (this.rowNodes_.firstChild != this.topFold_)\n      this.rowNodes_.insertBefore(this.topFold_, this.rowNodes_.firstChild);\n\n    return;\n  }\n\n  if (!this.selection.isMultiline ||\n      this.selection.endRow.rowIndex >= topRowIndex) {\n    // Only the startRow is above the fold.\n    if (this.selection.startRow.nextSibling != this.topFold_)\n      this.rowNodes_.insertBefore(this.topFold_,\n                                  this.selection.startRow.nextSibling);\n  } else {\n    // Both rows are above the fold.\n    if (this.selection.endRow.nextSibling != this.topFold_) {\n      this.rowNodes_.insertBefore(this.topFold_,\n                                  this.selection.endRow.nextSibling);\n    }\n\n    // Trim any intermediate lines.\n    while (this.selection.startRow.nextSibling !=\n           this.selection.endRow) {\n      this.rowNodes_.removeChild(this.selection.startRow.nextSibling);\n    }\n  }\n\n  while(this.rowNodes_.firstChild != this.selection.startRow) {\n    this.rowNodes_.removeChild(this.rowNodes_.firstChild);\n  }\n};\n\n/**\n * Ensure that the nodes below the bottom fold are as they should be.\n *\n * If the selection start and/or end nodes are below the visible range\n * of this hterm.ScrollPort then the dom will be adjusted so that they appear\n * after the bottom fold (the second x-fold element, aka this.bottomFold).\n *\n * If not, the bottom fold will be the last element.\n *\n * It is critical that this method does not move the selection nodes.  Doing\n * so would clear the current selection.  Instead, the rest of the DOM is\n * adjusted around them.\n */\nhterm.ScrollPort.prototype.drawBottomFold_ = function(bottomRowIndex) {\n  if (!this.selection.endRow ||\n      this.selection.endRow.rowIndex <= bottomRowIndex) {\n    // Selection is entirely above the bottom fold, just make sure the fold is\n    // the last child.\n    if (this.rowNodes_.lastChild != this.bottomFold_)\n      this.rowNodes_.appendChild(this.bottomFold_);\n\n    return;\n  }\n\n  if (!this.selection.isMultiline ||\n      this.selection.startRow.rowIndex <= bottomRowIndex) {\n    // Only the endRow is below the fold.\n    if (this.bottomFold_.nextSibling != this.selection.endRow)\n      this.rowNodes_.insertBefore(this.bottomFold_,\n                                  this.selection.endRow);\n  } else {\n    // Both rows are below the fold.\n    if (this.bottomFold_.nextSibling != this.selection.startRow) {\n      this.rowNodes_.insertBefore(this.bottomFold_,\n                                  this.selection.startRow);\n    }\n\n    // Trim any intermediate lines.\n    while (this.selection.startRow.nextSibling !=\n           this.selection.endRow) {\n      this.rowNodes_.removeChild(this.selection.startRow.nextSibling);\n    }\n  }\n\n  while(this.rowNodes_.lastChild != this.selection.endRow) {\n    this.rowNodes_.removeChild(this.rowNodes_.lastChild);\n  }\n};\n\n/**\n * Ensure that the rows between the top and bottom folds are as they should be.\n *\n * This method assumes that drawTopFold_() and drawBottomFold_() have already\n * run, and that they have left any visible selection row (selection start\n * or selection end) between the folds.\n *\n * It recycles DOM nodes from the previous redraw where possible, but will ask\n * the rowSource to make new nodes if necessary.\n *\n * It is critical that this method does not move the selection nodes.  Doing\n * so would clear the current selection.  Instead, the rest of the DOM is\n * adjusted around them.\n */\nhterm.ScrollPort.prototype.drawVisibleRows_ = function(\n    topRowIndex, bottomRowIndex) {\n  var self = this;\n\n  // Keep removing nodes, starting with currentNode, until we encounter\n  // targetNode.  Throws on failure.\n  function removeUntilNode(currentNode, targetNode) {\n    while (currentNode != targetNode) {\n      if (!currentNode)\n        throw 'Did not encounter target node';\n\n      if (currentNode == self.bottomFold_)\n        throw 'Encountered bottom fold before target node';\n\n      var deadNode = currentNode;\n      currentNode = currentNode.nextSibling;\n      deadNode.parentNode.removeChild(deadNode);\n    }\n  }\n\n  // Shorthand for things we're going to use a lot.\n  var selectionStartRow = this.selection.startRow;\n  var selectionEndRow = this.selection.endRow;\n  var bottomFold = this.bottomFold_;\n\n  // The node we're examining during the current iteration.\n  var node = this.topFold_.nextSibling;\n\n  var targetDrawCount = Math.min(this.visibleRowCount,\n                                 this.rowProvider_.getRowCount());\n\n  for (var drawCount = 0; drawCount < targetDrawCount; drawCount++) {\n    var rowIndex = topRowIndex + drawCount;\n\n    if (node == bottomFold) {\n      // We've hit the bottom fold, we need to insert a new row.\n      var newNode = this.fetchRowNode_(rowIndex);\n      if (!newNode) {\n        console.log(\"Couldn't fetch row index: \" + rowIndex);\n        break;\n      }\n\n      this.rowNodes_.insertBefore(newNode, node);\n      continue;\n    }\n\n    if (node.rowIndex == rowIndex) {\n      // This node is in the right place, move along.\n      node = node.nextSibling;\n      continue;\n    }\n\n    if (selectionStartRow && selectionStartRow.rowIndex == rowIndex) {\n      // The selection start row is supposed to be here, remove nodes until\n      // we find it.\n      removeUntilNode(node, selectionStartRow);\n      node = selectionStartRow.nextSibling;\n      continue;\n    }\n\n    if (selectionEndRow && selectionEndRow.rowIndex == rowIndex) {\n      // The selection end row is supposed to be here, remove nodes until\n      // we find it.\n      removeUntilNode(node, selectionEndRow);\n      node = selectionEndRow.nextSibling;\n      continue;\n    }\n\n    if (node == selectionStartRow || node == selectionEndRow) {\n      // We encountered the start/end of the selection, but we don't want it\n      // yet.  Insert a new row instead.\n      var newNode = this.fetchRowNode_(rowIndex);\n      if (!newNode) {\n        console.log(\"Couldn't fetch row index: \" + rowIndex);\n        break;\n      }\n\n      this.rowNodes_.insertBefore(newNode, node);\n      continue;\n    }\n\n    // There is nothing special about this node, but it's in our way.  Replace\n    // it with the node that should be here.\n    var newNode = this.fetchRowNode_(rowIndex);\n    if (!newNode) {\n      console.log(\"Couldn't fetch row index: \" + rowIndex);\n      break;\n    }\n\n    if (node == newNode) {\n      node = node.nextSibling;\n      continue;\n    }\n\n    this.rowNodes_.insertBefore(newNode, node);\n    if (!newNode.nextSibling)\n      debugger;\n    this.rowNodes_.removeChild(node);\n    node = newNode.nextSibling;\n  }\n\n  if (node != this.bottomFold_)\n    removeUntilNode(node, bottomFold);\n};\n\n/**\n * Empty out both select bags and remove them from the document.\n *\n * These nodes hold the text between the start and end of the selection\n * when that text is otherwise off screen.  They are filled out in the\n * onCopy_ event.\n */\nhterm.ScrollPort.prototype.resetSelectBags_ = function() {\n  if (this.topSelectBag_.parentNode) {\n    this.topSelectBag_.textContent = '';\n    this.topSelectBag_.parentNode.removeChild(this.topSelectBag_);\n  }\n\n  if (this.bottomSelectBag_.parentNode) {\n    this.bottomSelectBag_.textContent = '';\n    this.bottomSelectBag_.parentNode.removeChild(this.bottomSelectBag_);\n  }\n};\n\n/**\n * Place a row node in the cache of visible nodes.\n *\n * This method may only be used during a redraw_.\n */\nhterm.ScrollPort.prototype.cacheRowNode_ = function(rowNode) {\n  this.currentRowNodeCache_[rowNode.rowIndex] = rowNode;\n};\n\n/**\n * Fetch the row node for the given index.\n *\n * This will return a node from the cache if possible, or will request one\n * from the RowProvider if not.\n *\n * If a redraw_ is in progress the row will be added to the current cache.\n */\nhterm.ScrollPort.prototype.fetchRowNode_ = function(rowIndex) {\n  var node;\n\n  if (this.previousRowNodeCache_ && rowIndex in this.previousRowNodeCache_) {\n    node = this.previousRowNodeCache_[rowIndex];\n  } else {\n    node = this.rowProvider_.getRowNode(rowIndex);\n  }\n\n  if (this.currentRowNodeCache_)\n    this.cacheRowNode_(node);\n\n  return node;\n};\n\n/**\n * Select all rows in the viewport.\n */\nhterm.ScrollPort.prototype.selectAll = function() {\n  var firstRow;\n\n  if (this.topFold_.nextSibling.rowIndex != 0) {\n    while (this.topFold_.previousSibling) {\n      this.rowNodes_.removeChild(this.topFold_.previousSibling);\n    }\n\n    firstRow = this.fetchRowNode_(0);\n    this.rowNodes_.insertBefore(firstRow, this.topFold_);\n    this.syncRowNodesDimensions_();\n  } else {\n    firstRow = this.topFold_.nextSibling;\n  }\n\n  var lastRowIndex = this.rowProvider_.getRowCount() - 1;\n  var lastRow;\n\n  if (this.bottomFold_.previousSibling.rowIndex != lastRowIndex) {\n    while (this.bottomFold_.nextSibling) {\n      this.rowNodes_.removeChild(this.bottomFold_.nextSibling);\n    }\n\n    lastRow = this.fetchRowNode_(lastRowIndex);\n    this.rowNodes_.appendChild(lastRow);\n  } else {\n    lastRow = this.bottomFold_.previousSibling.rowIndex;\n  }\n\n  var selection = this.document_.getSelection();\n  selection.collapse(firstRow, 0);\n  selection.extend(lastRow, lastRow.childNodes.length);\n\n  this.selection.sync();\n};\n\n/**\n * Return the maximum scroll position in pixels.\n */\nhterm.ScrollPort.prototype.getScrollMax_ = function(e) {\n  return (hterm.getClientHeight(this.scrollArea_) +\n          this.visibleRowTopMargin + this.visibleRowBottomMargin -\n          hterm.getClientHeight(this.screen_));\n};\n\n/**\n * Scroll the given rowIndex to the top of the hterm.ScrollPort.\n *\n * @param {integer} rowIndex Index of the target row.\n */\nhterm.ScrollPort.prototype.scrollRowToTop = function(rowIndex) {\n  this.syncScrollHeight();\n\n  this.isScrolledEnd = (\n    rowIndex + this.visibleRowCount >= this.lastRowCount_);\n\n  var scrollTop = rowIndex * this.characterSize.height +\n      this.visibleRowTopMargin;\n\n  var scrollMax = this.getScrollMax_();\n  if (scrollTop > scrollMax)\n    scrollTop = scrollMax;\n\n  if (this.screen_.scrollTop == scrollTop)\n    return;\n\n  this.screen_.scrollTop = scrollTop;\n  this.scheduleRedraw();\n};\n\n/**\n * Scroll the given rowIndex to the bottom of the hterm.ScrollPort.\n *\n * @param {integer} rowIndex Index of the target row.\n */\nhterm.ScrollPort.prototype.scrollRowToBottom = function(rowIndex) {\n  this.syncScrollHeight();\n\n  this.isScrolledEnd = (\n    rowIndex + this.visibleRowCount >= this.lastRowCount_);\n\n  var scrollTop = rowIndex * this.characterSize.height +\n      this.visibleRowTopMargin + this.visibleRowBottomMargin;\n  scrollTop -= this.visibleRowCount * this.characterSize.height;\n\n  if (scrollTop < 0)\n    scrollTop = 0;\n\n  if (this.screen_.scrollTop == scrollTop)\n    return;\n\n  this.screen_.scrollTop = scrollTop;\n};\n\n/**\n * Return the row index of the first visible row.\n *\n * This is based on the scroll position.  If a redraw_ is in progress this\n * returns the row that *should* be at the top.\n */\nhterm.ScrollPort.prototype.getTopRowIndex = function() {\n  return lib.f.smartFloorDivide(\n      this.screen_.scrollTop, this.characterSize.height);\n};\n\n/**\n * Return the row index of the last visible row.\n *\n * This is based on the scroll position.  If a redraw_ is in progress this\n * returns the row that *should* be at the bottom.\n */\nhterm.ScrollPort.prototype.getBottomRowIndex = function(topRowIndex) {\n  return topRowIndex + this.visibleRowCount - 1;\n};\n\n/**\n * Handler for scroll events.\n *\n * The onScroll event fires when scrollArea's scrollTop property changes.  This\n * may be due to the user manually move the scrollbar, or a programmatic change.\n */\nhterm.ScrollPort.prototype.onScroll_ = function(e) {\n  var screenSize = this.getScreenSize();\n  if (screenSize.width != this.lastScreenWidth_ ||\n      screenSize.height != this.lastScreenHeight_) {\n    // This event may also fire during a resize (but before the resize event!).\n    // This happens when the browser moves the scrollbar as part of the resize.\n    // In these cases, we want to ignore the scroll event and let onResize\n    // handle things.  If we don't, then we end up scrolling to the wrong\n    // position after a resize.\n    this.resize();\n    return;\n  }\n\n  this.redraw_();\n  this.publish('scroll', { scrollPort: this });\n};\n\n/**\n * Clients can override this if they want to hear scrollwheel events.\n *\n * Clients may call event.preventDefault() if they want to keep the scrollport\n * from also handling the events.\n */\nhterm.ScrollPort.prototype.onScrollWheel = function(e) {};\n\n/**\n * Handler for scroll-wheel events.\n *\n * The onScrollWheel event fires when the user moves their scrollwheel over this\n * hterm.ScrollPort.  Because the frontmost element in the hterm.ScrollPort is\n * a fixed position DIV, the scroll wheel does nothing by default.  Instead, we\n * have to handle it manually.\n */\nhterm.ScrollPort.prototype.onScrollWheel_ = function(e) {\n  this.onScrollWheel(e);\n\n  if (e.defaultPrevented)\n    return;\n\n  // In FF, the event is DOMMouseScroll and puts the scroll pixel delta in the\n  // 'detail' field of the event.  It also flips the mapping of which direction\n  // a negative number means in the scroll.\n  var delta = e.type == 'DOMMouseScroll' ? (-1 * e.detail) : e.wheelDeltaY;\n  delta *= this.scrollWheelMultiplier_;\n\n  var top = this.screen_.scrollTop - delta;\n  if (top < 0)\n    top = 0;\n\n  var scrollMax = this.getScrollMax_();\n  if (top > scrollMax)\n    top = scrollMax;\n\n  if (top != this.screen_.scrollTop) {\n    // Moving scrollTop causes a scroll event, which triggers the redraw.\n    this.screen_.scrollTop = top;\n\n    // Only preventDefault when we've actually scrolled.  If there's nothing\n    // to scroll we want to pass the event through so Chrome can detect the\n    // overscroll.\n    e.preventDefault();\n  }\n};\n\n/**\n * Handler for resize events.\n *\n * The browser will resize us such that the top row stays at the top, but we\n * prefer to the bottom row to stay at the bottom.\n */\nhterm.ScrollPort.prototype.onResize_ = function(e) {\n  // Re-measure, since onResize also happens for browser zoom changes.\n  this.syncCharacterSize();\n  this.resize();\n};\n\n/**\n * Clients can override this if they want to hear copy events.\n *\n * Clients may call event.preventDefault() if they want to keep the scrollport\n * from also handling the events.\n */\nhterm.ScrollPort.prototype.onCopy = function(e) { };\n\n/**\n * Handler for copy-to-clipboard events.\n *\n * If some or all of the selected rows are off screen we may need to fill in\n * the rows between selection start and selection end.  This handler determines\n * if we're missing some of the selected text, and if so populates one or both\n * of the \"select bags\" with the missing text.\n */\nhterm.ScrollPort.prototype.onCopy_ = function(e) {\n  this.onCopy(e);\n\n  if (e.defaultPrevented)\n    return;\n\n  this.resetSelectBags_();\n  this.selection.sync();\n\n  if (!this.selection.startRow ||\n      this.selection.endRow.rowIndex - this.selection.startRow.rowIndex < 2) {\n    return;\n  }\n\n  var topRowIndex = this.getTopRowIndex();\n  var bottomRowIndex = this.getBottomRowIndex(topRowIndex);\n\n  if (this.selection.startRow.rowIndex < topRowIndex) {\n    // Start of selection is above the top fold.\n    var endBackfillIndex;\n\n    if (this.selection.endRow.rowIndex < topRowIndex) {\n      // Entire selection is above the top fold.\n      endBackfillIndex = this.selection.endRow.rowIndex;\n    } else {\n      // Selection extends below the top fold.\n      endBackfillIndex = this.topFold_.nextSibling.rowIndex;\n    }\n\n    this.topSelectBag_.textContent = this.rowProvider_.getRowsText(\n        this.selection.startRow.rowIndex + 1, endBackfillIndex);\n    this.rowNodes_.insertBefore(this.topSelectBag_,\n                                this.selection.startRow.nextSibling);\n    this.syncRowNodesDimensions_();\n  }\n\n  if (this.selection.endRow.rowIndex > bottomRowIndex) {\n    // Selection ends below the bottom fold.\n    var startBackfillIndex;\n\n    if (this.selection.startRow.rowIndex > bottomRowIndex) {\n      // Entire selection is below the bottom fold.\n      startBackfillIndex = this.selection.startRow.rowIndex + 1;\n    } else {\n      // Selection starts above the bottom fold.\n      startBackfillIndex = this.bottomFold_.previousSibling.rowIndex + 1;\n    }\n\n    this.bottomSelectBag_.textContent = this.rowProvider_.getRowsText(\n        startBackfillIndex, this.selection.endRow.rowIndex);\n    this.rowNodes_.insertBefore(this.bottomSelectBag_, this.selection.endRow);\n  }\n};\n\n/**\n * Focuses on the paste target on a ctrl-v keydown event, as in\n * FF a content editable element must be focused before the paste event.\n */\nhterm.ScrollPort.prototype.onBodyKeyDown_ = function(e) {\n  if (!this.ctrlVPaste)\n    return;\n\n  var key = String.fromCharCode(e.which);\n  var lowerKey = key.toLowerCase();\n  if ((e.ctrlKey || e.metaKey) && lowerKey == \"v\")\n    this.pasteTarget_.focus();\n};\n\n/**\n * Handle a paste event on the the ScrollPort's screen element.\n */\nhterm.ScrollPort.prototype.onPaste_ = function(e) {\n  this.pasteTarget_.focus();\n\n  var self = this;\n  setTimeout(function() {\n      self.publish('paste', { text: self.pasteTarget_.value });\n      self.pasteTarget_.value = '';\n      self.screen_.focus();\n    }, 0);\n};\n\n/**\n * Handles a textInput event on the paste target. Stops this from\n * propagating as we want this to be handled in the onPaste_ method.\n */\nhterm.ScrollPort.prototype.handlePasteTargetTextInput_ = function(e) {\n  e.stopPropagation();\n};\n\n/**\n * Set the vertical scrollbar mode of the ScrollPort.\n */\nhterm.ScrollPort.prototype.setScrollbarVisible = function(state) {\n  this.screen_.style.overflowY = state ? 'scroll' : 'hidden';\n};\n\n/**\n * Set scroll wheel multiplier. This alters how much the screen scrolls on\n * mouse wheel events.\n */\nhterm.ScrollPort.prototype.setScrollWheelMoveMultipler = function(multiplier) {\n  this.scrollWheelMultiplier_ = multiplier;\n};\n// SOURCE FILE: hterm/js/hterm_terminal.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.colors', 'lib.PreferenceManager', 'lib.resource', 'lib.wc',\n          'lib.f', 'hterm.Keyboard', 'hterm.Options', 'hterm.PreferenceManager',\n          'hterm.Screen', 'hterm.ScrollPort', 'hterm.Size',\n          'hterm.TextAttributes', 'hterm.VT');\n\n/**\n * Constructor for the Terminal class.\n *\n * A Terminal pulls together the hterm.ScrollPort, hterm.Screen and hterm.VT100\n * classes to provide the complete terminal functionality.\n *\n * There are a number of lower-level Terminal methods that can be called\n * directly to manipulate the cursor, text, scroll region, and other terminal\n * attributes.  However, the primary method is interpret(), which parses VT\n * escape sequences and invokes the appropriate Terminal methods.\n *\n * This class was heavily influenced by Cory Maccarrone's Framebuffer class.\n *\n * TODO(rginda): Eventually we're going to need to support characters which are\n * displayed twice as wide as standard latin characters.  This is to support\n * CJK (and possibly other character sets).\n *\n * @param {string} opt_profileId Optional preference profile name.  If not\n *     provided, defaults to 'default'.\n */\nhterm.Terminal = function(opt_profileId) {\n  this.profileId_ = null;\n\n  // Two screen instances.\n  this.primaryScreen_ = new hterm.Screen();\n  this.alternateScreen_ = new hterm.Screen();\n\n  // The \"current\" screen.\n  this.screen_ = this.primaryScreen_;\n\n  // The local notion of the screen size.  ScreenBuffers also have a size which\n  // indicates their present size.  During size changes, the two may disagree.\n  // Also, the inactive screen's size is not altered until it is made the active\n  // screen.\n  this.screenSize = new hterm.Size(0, 0);\n\n  // The scroll port we'll be using to display the visible rows.\n  this.scrollPort_ = new hterm.ScrollPort(this);\n  this.scrollPort_.subscribe('resize', this.onResize_.bind(this));\n  this.scrollPort_.subscribe('scroll', this.onScroll_.bind(this));\n  this.scrollPort_.subscribe('paste', this.onPaste_.bind(this));\n  this.scrollPort_.onCopy = this.onCopy_.bind(this);\n\n  // The div that contains this terminal.\n  this.div_ = null;\n\n  // The document that contains the scrollPort.  Defaulted to the global\n  // document here so that the terminal is functional even if it hasn't been\n  // inserted into a document yet, but re-set in decorate().\n  this.document_ = window.document;\n\n  // The rows that have scrolled off screen and are no longer addressable.\n  this.scrollbackRows_ = [];\n\n  // Saved tab stops.\n  this.tabStops_ = [];\n\n  // Keep track of whether default tab stops have been erased; after a TBC\n  // clears all tab stops, defaults aren't restored on resize until a reset.\n  this.defaultTabStops = true;\n\n  // The VT's notion of the top and bottom rows.  Used during some VT\n  // cursor positioning and scrolling commands.\n  this.vtScrollTop_ = null;\n  this.vtScrollBottom_ = null;\n\n  // The DIV element for the visible cursor.\n  this.cursorNode_ = null;\n\n  // The current cursor shape of the terminal.\n  this.cursorShape_ = hterm.Terminal.cursorShape.BLOCK;\n\n  // The current color of the cursor.\n  this.cursorColor_ = null;\n\n  // Cursor blink on/off cycle in ms, overwritten by prefs once they're loaded.\n  this.cursorBlinkCycle_ = [100, 100];\n\n  // Pre-bound onCursorBlink_ handler, so we don't have to do this for each\n  // cursor on/off servicing.\n  this.myOnCursorBlink_ = this.onCursorBlink_.bind(this);\n\n  // These prefs are cached so we don't have to read from local storage with\n  // each output and keystroke.  They are initialized by the preference manager.\n  this.backgroundColor_ = null;\n  this.foregroundColor_ = null;\n  this.scrollOnOutput_ = null;\n  this.scrollOnKeystroke_ = null;\n\n  // True if we should send mouse events to the vt, false if we want them\n  // to manage the local text selection.\n  this.reportMouseEvents_ = false;\n\n  // Terminal bell sound.\n  this.bellAudio_ = this.document_.createElement('audio');\n  this.bellAudio_.setAttribute('preload', 'auto');\n\n  // All terminal bell notifications that have been generated (not necessarily\n  // shown).\n  this.bellNotificationList_ = [];\n\n  // Whether we have permission to display notifications.\n  this.desktopNotificationBell_ = false;\n\n  // Cursor position and attributes saved with DECSC.\n  this.savedOptions_ = {};\n\n  // The current mode bits for the terminal.\n  this.options_ = new hterm.Options();\n\n  // Timeouts we might need to clear.\n  this.timeouts_ = {};\n\n  // The VT escape sequence interpreter.\n  this.vt = new hterm.VT(this);\n\n  // The keyboard hander.\n  this.keyboard = new hterm.Keyboard(this);\n\n  // General IO interface that can be given to third parties without exposing\n  // the entire terminal object.\n  this.io = new hterm.Terminal.IO(this);\n\n  // True if mouse-click-drag should scroll the terminal.\n  this.enableMouseDragScroll = true;\n\n  this.copyOnSelect = null;\n  this.mousePasteButton = null;\n\n  // Whether to use the default window copy behaviour.\n  this.useDefaultWindowCopy = false;\n\n  this.clearSelectionAfterCopy = true;\n\n  this.realizeSize_(80, 24);\n  this.setDefaultTabStops();\n\n  this.setProfile(opt_profileId || 'default',\n                  function() { this.onTerminalReady() }.bind(this));\n};\n\n/**\n * Possible cursor shapes.\n */\nhterm.Terminal.cursorShape = {\n  BLOCK: 'BLOCK',\n  BEAM: 'BEAM',\n  UNDERLINE: 'UNDERLINE'\n};\n\n/**\n * Clients should override this to be notified when the terminal is ready\n * for use.\n *\n * The terminal initialization is asynchronous, and shouldn't be used before\n * this method is called.\n */\nhterm.Terminal.prototype.onTerminalReady = function() { };\n\n/**\n * Default tab with of 8 to match xterm.\n */\nhterm.Terminal.prototype.tabWidth = 8;\n\n/**\n * Select a preference profile.\n *\n * This will load the terminal preferences for the given profile name and\n * associate subsequent preference changes with the new preference profile.\n *\n * @param {string} newName The name of the preference profile.  Forward slash\n *     characters will be removed from the name.\n * @param {function} opt_callback Optional callback to invoke when the profile\n *     transition is complete.\n */\nhterm.Terminal.prototype.setProfile = function(profileId, opt_callback) {\n  this.profileId_ = profileId.replace(/\\//g, '');\n\n  var terminal = this;\n\n  if (this.prefs_)\n    this.prefs_.deactivate();\n\n  this.prefs_ = new hterm.PreferenceManager(this.profileId_);\n  this.prefs_.addObservers(null, {\n    'alt-gr-mode': function(v) {\n      if (v == null) {\n        if (navigator.language.toLowerCase() == 'en-us') {\n          v = 'none';\n        } else {\n          v = 'right-alt';\n        }\n      } else if (typeof v == 'string') {\n        v = v.toLowerCase();\n      } else {\n        v = 'none';\n      }\n\n      if (!/^(none|ctrl-alt|left-alt|right-alt)$/.test(v))\n        v = 'none';\n\n      terminal.keyboard.altGrMode = v;\n    },\n\n    'alt-backspace-is-meta-backspace': function(v) {\n      terminal.keyboard.altBackspaceIsMetaBackspace = v;\n    },\n\n    'alt-is-meta': function(v) {\n      terminal.keyboard.altIsMeta = v;\n    },\n\n    'alt-sends-what': function(v) {\n      if (!/^(escape|8-bit|browser-key)$/.test(v))\n        v = 'escape';\n\n      terminal.keyboard.altSendsWhat = v;\n    },\n\n    'audible-bell-sound': function(v) {\n      var ary = v.match(/^lib-resource:(\\S+)/);\n      if (ary) {\n        terminal.bellAudio_.setAttribute('src',\n                                         lib.resource.getDataUrl(ary[1]));\n      } else {\n        terminal.bellAudio_.setAttribute('src', v);\n      }\n    },\n\n    'desktop-notification-bell': function(v) {\n      if (v && Notification) {\n        terminal.desktopNotificationBell_ =\n            Notification.permission === 'granted';\n        if (!terminal.desktopNotificationBell_) {\n          // Note: We don't call Notification.requestPermission here because\n          // Chrome requires the call be the result of a user action (such as an\n          // onclick handler), and pref listeners are run asynchronously.\n          //\n          // A way of working around this would be to display a dialog in the\n          // terminal with a \"click-to-request-permission\" button.\n          console.warn('desktop-notification-bell is true but we do not have ' +\n                       'permission to display notifications.');\n        }\n      } else {\n        terminal.desktopNotificationBell_ = false;\n      }\n    },\n\n    'background-color': function(v) {\n      terminal.setBackgroundColor(v);\n    },\n\n    'background-image': function(v) {\n      terminal.scrollPort_.setBackgroundImage(v);\n    },\n\n    'background-size': function(v) {\n      terminal.scrollPort_.setBackgroundSize(v);\n    },\n\n    'background-position': function(v) {\n      terminal.scrollPort_.setBackgroundPosition(v);\n    },\n\n    'backspace-sends-backspace': function(v) {\n      terminal.keyboard.backspaceSendsBackspace = v;\n    },\n\n    'character-map-overrides': function(v) {\n      if (!(v == null || v instanceof Object)) {\n        console.warn('Preference character-map-modifications is not an ' +\n                     'object: ' + v);\n        return;\n      }\n\n      for (var code in v) {\n        var glmap = hterm.VT.CharacterMap.maps[code].glmap;\n        for (var received in v[code]) {\n          glmap[received] = v[code][received];\n        }\n        hterm.VT.CharacterMap.maps[code].reset(glmap);\n      }\n    },\n\n    'cursor-blink': function(v) {\n      terminal.setCursorBlink(!!v);\n    },\n\n    'cursor-blink-cycle': function(v) {\n        if (v instanceof Array &&\n            typeof v[0] == 'number' &&\n            typeof v[1] == 'number') {\n          terminal.cursorBlinkCycle_ = v;\n        } else if (typeof v == 'number') {\n          terminal.cursorBlinkCycle_ = [v, v];\n        } else {\n          // Fast blink indicates an error.\n          terminal.cursorBlinkCycle_ = [100, 100];\n        }\n    },\n\n    'cursor-color': function(v) {\n      terminal.setCursorColor(v);\n    },\n\n    'color-palette-overrides': function(v) {\n      if (!(v == null || v instanceof Object || v instanceof Array)) {\n        console.warn('Preference color-palette-overrides is not an array or ' +\n                     'object: ' + v);\n        return;\n      }\n\n      lib.colors.colorPalette = lib.colors.stockColorPalette.concat();\n\n      if (v) {\n        for (var key in v) {\n          var i = parseInt(key);\n          if (isNaN(i) || i < 0 || i > 255) {\n            console.log('Invalid value in palette: ' + key + ': ' + v[key]);\n            continue;\n          }\n\n          if (v[i]) {\n            var rgb = lib.colors.normalizeCSS(v[i]);\n            if (rgb)\n              lib.colors.colorPalette[i] = rgb;\n          }\n        }\n      }\n\n      terminal.primaryScreen_.textAttributes.resetColorPalette()\n      terminal.alternateScreen_.textAttributes.resetColorPalette();\n    },\n\n    'copy-on-select': function(v) {\n      terminal.copyOnSelect = !!v;\n    },\n\n    'use-default-window-copy': function(v) {\n      terminal.useDefaultWindowCopy = !!v;\n    },\n\n    'clear-selection-after-copy': function(v) {\n      terminal.clearSelectionAfterCopy = !!v;\n    },\n\n    'ctrl-plus-minus-zero-zoom': function(v) {\n      terminal.keyboard.ctrlPlusMinusZeroZoom = v;\n    },\n\n    'ctrl-c-copy': function(v) {\n      terminal.keyboard.ctrlCCopy = v;\n    },\n\n    'ctrl-v-paste': function(v) {\n      terminal.keyboard.ctrlVPaste = v;\n      terminal.scrollPort_.setCtrlVPaste(v);\n    },\n\n    'east-asian-ambiguous-as-two-column': function(v) {\n      lib.wc.regardCjkAmbiguous = v;\n    },\n\n    'enable-8-bit-control': function(v) {\n      terminal.vt.enable8BitControl = !!v;\n    },\n\n    'enable-bold': function(v) {\n      terminal.syncBoldSafeState();\n    },\n\n    'enable-bold-as-bright': function(v) {\n      terminal.primaryScreen_.textAttributes.enableBoldAsBright = !!v;\n      terminal.alternateScreen_.textAttributes.enableBoldAsBright = !!v;\n    },\n\n    'enable-clipboard-write': function(v) {\n      terminal.vt.enableClipboardWrite = !!v;\n    },\n\n    'enable-dec12': function(v) {\n      terminal.vt.enableDec12 = !!v;\n    },\n\n    'font-family': function(v) {\n      terminal.syncFontFamily();\n    },\n\n    'font-size': function(v) {\n      terminal.setFontSize(v);\n    },\n\n    'font-smoothing': function(v) {\n      terminal.syncFontFamily();\n    },\n\n    'foreground-color': function(v) {\n      terminal.setForegroundColor(v);\n    },\n\n    'home-keys-scroll': function(v) {\n      terminal.keyboard.homeKeysScroll = v;\n    },\n\n    'max-string-sequence': function(v) {\n      terminal.vt.maxStringSequence = v;\n    },\n\n    'media-keys-are-fkeys': function(v) {\n      terminal.keyboard.mediaKeysAreFKeys = v;\n    },\n\n    'meta-sends-escape': function(v) {\n      terminal.keyboard.metaSendsEscape = v;\n    },\n\n    'mouse-paste-button': function(v) {\n      terminal.syncMousePasteButton();\n    },\n\n    'page-keys-scroll': function(v) {\n      terminal.keyboard.pageKeysScroll = v;\n    },\n\n    'pass-alt-number': function(v) {\n      if (v == null) {\n        var osx = window.navigator.userAgent.match(/Mac OS X/);\n\n        // Let Alt-1..9 pass to the browser (to control tab switching) on\n        // non-OS X systems, or if hterm is not opened in an app window.\n        v = (!osx && hterm.windowType != 'popup');\n      }\n\n      terminal.passAltNumber = v;\n    },\n\n    'pass-ctrl-number': function(v) {\n      if (v == null) {\n        var osx = window.navigator.userAgent.match(/Mac OS X/);\n\n        // Let Ctrl-1..9 pass to the browser (to control tab switching) on\n        // non-OS X systems, or if hterm is not opened in an app window.\n        v = (!osx && hterm.windowType != 'popup');\n      }\n\n      terminal.passCtrlNumber = v;\n    },\n\n    'pass-meta-number': function(v) {\n      if (v == null) {\n        var osx = window.navigator.userAgent.match(/Mac OS X/);\n\n        // Let Meta-1..9 pass to the browser (to control tab switching) on\n        // OS X systems, or if hterm is not opened in an app window.\n        v = (osx && hterm.windowType != 'popup');\n      }\n\n      terminal.passMetaNumber = v;\n    },\n\n    'pass-meta-v': function(v) {\n      terminal.keyboard.passMetaV = v;\n    },\n\n    'receive-encoding': function(v) {\n       if (!(/^(utf-8|raw)$/).test(v)) {\n         console.warn('Invalid value for \"receive-encoding\": ' + v);\n         v = 'utf-8';\n       }\n\n       terminal.vt.characterEncoding = v;\n    },\n\n    'scroll-on-keystroke': function(v) {\n      terminal.scrollOnKeystroke_ = v;\n    },\n\n    'scroll-on-output': function(v) {\n      terminal.scrollOnOutput_ = v;\n    },\n\n    'scrollbar-visible': function(v) {\n      terminal.setScrollbarVisible(v);\n    },\n\n    'scroll-wheel-move-multiplier': function(v) {\n      terminal.setScrollWheelMoveMultipler(v);\n    },\n\n    'send-encoding': function(v) {\n       if (!(/^(utf-8|raw)$/).test(v)) {\n         console.warn('Invalid value for \"send-encoding\": ' + v);\n         v = 'utf-8';\n       }\n\n       terminal.keyboard.characterEncoding = v;\n    },\n\n    'shift-insert-paste': function(v) {\n      terminal.keyboard.shiftInsertPaste = v;\n    },\n\n    'user-css': function(v) {\n      terminal.scrollPort_.setUserCss(v);\n    }\n  });\n\n  this.prefs_.readStorage(function() {\n    this.prefs_.notifyAll();\n\n    if (opt_callback)\n      opt_callback();\n  }.bind(this));\n};\n\n\n/**\n * Returns the preferences manager used for configuring this terminal.\n */\nhterm.Terminal.prototype.getPrefs = function() {\n  return this.prefs_;\n};\n\n/**\n * Enable or disable bracketed paste mode.\n */\nhterm.Terminal.prototype.setBracketedPaste = function(state) {\n  this.options_.bracketedPaste = state;\n};\n\n/**\n * Set the color for the cursor.\n *\n * If you want this setting to persist, set it through prefs_, rather than\n * with this method.\n */\nhterm.Terminal.prototype.setCursorColor = function(color) {\n  this.cursorColor_ = color;\n  this.cursorNode_.style.backgroundColor = color;\n  this.cursorNode_.style.borderColor = color;\n};\n\n/**\n * Return the current cursor color as a string.\n */\nhterm.Terminal.prototype.getCursorColor = function() {\n  return this.cursorColor_;\n};\n\n/**\n * Enable or disable mouse based text selection in the terminal.\n */\nhterm.Terminal.prototype.setSelectionEnabled = function(state) {\n  this.enableMouseDragScroll = state;\n};\n\n/**\n * Set the background color.\n *\n * If you want this setting to persist, set it through prefs_, rather than\n * with this method.\n */\nhterm.Terminal.prototype.setBackgroundColor = function(color) {\n  this.backgroundColor_ = lib.colors.normalizeCSS(color);\n  this.primaryScreen_.textAttributes.setDefaults(\n      this.foregroundColor_, this.backgroundColor_);\n  this.alternateScreen_.textAttributes.setDefaults(\n      this.foregroundColor_, this.backgroundColor_);\n  this.scrollPort_.setBackgroundColor(color);\n};\n\n/**\n * Return the current terminal background color.\n *\n * Intended for use by other classes, so we don't have to expose the entire\n * prefs_ object.\n */\nhterm.Terminal.prototype.getBackgroundColor = function() {\n  return this.backgroundColor_;\n};\n\n/**\n * Set the foreground color.\n *\n * If you want this setting to persist, set it through prefs_, rather than\n * with this method.\n */\nhterm.Terminal.prototype.setForegroundColor = function(color) {\n  this.foregroundColor_ = lib.colors.normalizeCSS(color);\n  this.primaryScreen_.textAttributes.setDefaults(\n      this.foregroundColor_, this.backgroundColor_);\n  this.alternateScreen_.textAttributes.setDefaults(\n      this.foregroundColor_, this.backgroundColor_);\n  this.scrollPort_.setForegroundColor(color);\n};\n\n/**\n * Return the current terminal foreground color.\n *\n * Intended for use by other classes, so we don't have to expose the entire\n * prefs_ object.\n */\nhterm.Terminal.prototype.getForegroundColor = function() {\n  return this.foregroundColor_;\n};\n\n/**\n * Create a new instance of a terminal command and run it with a given\n * argument string.\n *\n * @param {function} commandClass The constructor for a terminal command.\n * @param {string} argString The argument string to pass to the command.\n */\nhterm.Terminal.prototype.runCommandClass = function(commandClass, argString) {\n  var environment = this.prefs_.get('environment');\n  if (typeof environment != 'object' || environment == null)\n    environment = {};\n\n  var self = this;\n  this.command = new commandClass(\n      { argString: argString || '',\n        io: this.io.push(),\n        environment: environment,\n        onExit: function(code) {\n          self.io.pop();\n          self.uninstallKeyboard();\n          if (self.prefs_.get('close-on-exit'))\n              window.close();\n        }\n      });\n\n  this.installKeyboard();\n  this.command.run();\n};\n\n/**\n * Returns true if the current screen is the primary screen, false otherwise.\n */\nhterm.Terminal.prototype.isPrimaryScreen = function() {\n  return this.screen_ == this.primaryScreen_;\n};\n\n/**\n * Install the keyboard handler for this terminal.\n *\n * This will prevent the browser from seeing any keystrokes sent to the\n * terminal.\n */\nhterm.Terminal.prototype.installKeyboard = function() {\n  this.keyboard.installKeyboard(this.scrollPort_.getDocument().body);\n}\n\n/**\n * Uninstall the keyboard handler for this terminal.\n */\nhterm.Terminal.prototype.uninstallKeyboard = function() {\n  this.keyboard.installKeyboard(null);\n}\n\n/**\n * Set the font size for this terminal.\n *\n * Call setFontSize(0) to reset to the default font size.\n *\n * This function does not modify the font-size preference.\n *\n * @param {number} px The desired font size, in pixels.\n */\nhterm.Terminal.prototype.setFontSize = function(px) {\n  if (px === 0)\n    px = this.prefs_.get('font-size');\n\n  this.scrollPort_.setFontSize(px);\n  if (this.wcCssRule_) {\n    this.wcCssRule_.style.width = this.scrollPort_.characterSize.width * 2 +\n        'px';\n  }\n};\n\n/**\n * Get the current font size.\n */\nhterm.Terminal.prototype.getFontSize = function() {\n  return this.scrollPort_.getFontSize();\n};\n\n/**\n * Get the current font family.\n */\nhterm.Terminal.prototype.getFontFamily = function() {\n  return this.scrollPort_.getFontFamily();\n};\n\n/**\n * Set the CSS \"font-family\" for this terminal.\n */\nhterm.Terminal.prototype.syncFontFamily = function() {\n  this.scrollPort_.setFontFamily(this.prefs_.get('font-family'),\n                                 this.prefs_.get('font-smoothing'));\n  this.syncBoldSafeState();\n};\n\n/**\n * Set this.mousePasteButton based on the mouse-paste-button pref,\n * autodetecting if necessary.\n */\nhterm.Terminal.prototype.syncMousePasteButton = function() {\n  var button = this.prefs_.get('mouse-paste-button');\n  if (typeof button == 'number') {\n    this.mousePasteButton = button;\n    return;\n  }\n\n  var ary = navigator.userAgent.match(/\\(X11;\\s+(\\S+)/);\n  if (!ary || ary[2] == 'CrOS') {\n    this.mousePasteButton = 2;\n  } else {\n    this.mousePasteButton = 3;\n  }\n};\n\n/**\n * Enable or disable bold based on the enable-bold pref, autodetecting if\n * necessary.\n */\nhterm.Terminal.prototype.syncBoldSafeState = function() {\n  var enableBold = this.prefs_.get('enable-bold');\n  if (enableBold !== null) {\n    this.primaryScreen_.textAttributes.enableBold = enableBold;\n    this.alternateScreen_.textAttributes.enableBold = enableBold;\n    return;\n  }\n\n  var normalSize = this.scrollPort_.measureCharacterSize();\n  var boldSize = this.scrollPort_.measureCharacterSize('bold');\n\n  var isBoldSafe = normalSize.equals(boldSize);\n  if (!isBoldSafe) {\n    console.warn('Bold characters disabled: Size of bold weight differs ' +\n                 'from normal.  Font family is: ' +\n                 this.scrollPort_.getFontFamily());\n  }\n\n  this.primaryScreen_.textAttributes.enableBold = isBoldSafe;\n  this.alternateScreen_.textAttributes.enableBold = isBoldSafe;\n};\n\n/**\n * Return a copy of the current cursor position.\n *\n * @return {hterm.RowCol} The RowCol object representing the current position.\n */\nhterm.Terminal.prototype.saveCursor = function() {\n  return this.screen_.cursorPosition.clone();\n};\n\nhterm.Terminal.prototype.getTextAttributes = function() {\n  return this.screen_.textAttributes;\n};\n\nhterm.Terminal.prototype.setTextAttributes = function(textAttributes) {\n  this.screen_.textAttributes = textAttributes;\n};\n\n/**\n * Return the current browser zoom factor applied to the terminal.\n *\n * @return {number} The current browser zoom factor.\n */\nhterm.Terminal.prototype.getZoomFactor = function() {\n  return this.scrollPort_.characterSize.zoomFactor;\n};\n\n/**\n * Change the title of this terminal's window.\n */\nhterm.Terminal.prototype.setWindowTitle = function(title) {\n  window.document.title = title;\n};\n\n/**\n * Restore a previously saved cursor position.\n *\n * @param {hterm.RowCol} cursor The position to restore.\n */\nhterm.Terminal.prototype.restoreCursor = function(cursor) {\n  var row = lib.f.clamp(cursor.row, 0, this.screenSize.height - 1);\n  var column = lib.f.clamp(cursor.column, 0, this.screenSize.width - 1);\n  this.screen_.setCursorPosition(row, column);\n  if (cursor.column > column ||\n      cursor.column == column && cursor.overflow) {\n    this.screen_.cursorPosition.overflow = true;\n  }\n};\n\n/**\n * Clear the cursor's overflow flag.\n */\nhterm.Terminal.prototype.clearCursorOverflow = function() {\n  this.screen_.cursorPosition.overflow = false;\n};\n\n/**\n * Sets the cursor shape\n */\nhterm.Terminal.prototype.setCursorShape = function(shape) {\n  this.cursorShape_ = shape;\n  this.restyleCursor_();\n}\n\n/**\n * Get the cursor shape\n */\nhterm.Terminal.prototype.getCursorShape = function() {\n  return this.cursorShape_;\n}\n\n/**\n * Set the width of the terminal, resizing the UI to match.\n */\nhterm.Terminal.prototype.setWidth = function(columnCount) {\n  if (columnCount == null) {\n    this.div_.style.width = '100%';\n    return;\n  }\n\n  this.div_.style.width = Math.ceil(\n      this.scrollPort_.characterSize.width *\n      columnCount + this.scrollPort_.currentScrollbarWidthPx) + 'px';\n  this.realizeSize_(columnCount, this.screenSize.height);\n  this.scheduleSyncCursorPosition_();\n};\n\n/**\n * Set the height of the terminal, resizing the UI to match.\n */\nhterm.Terminal.prototype.setHeight = function(rowCount) {\n  if (rowCount == null) {\n    this.div_.style.height = '100%';\n    return;\n  }\n\n  this.div_.style.height =\n      this.scrollPort_.characterSize.height * rowCount + 'px';\n  this.realizeSize_(this.screenSize.width, rowCount);\n  this.scheduleSyncCursorPosition_();\n};\n\n/**\n * Deal with terminal size changes.\n *\n */\nhterm.Terminal.prototype.realizeSize_ = function(columnCount, rowCount) {\n  if (columnCount != this.screenSize.width)\n    this.realizeWidth_(columnCount);\n\n  if (rowCount != this.screenSize.height)\n    this.realizeHeight_(rowCount);\n\n  // Send new terminal size to plugin.\n  this.io.onTerminalResize_(columnCount, rowCount);\n};\n\n/**\n * Deal with terminal width changes.\n *\n * This function does what needs to be done when the terminal width changes\n * out from under us.  It happens here rather than in onResize_() because this\n * code may need to run synchronously to handle programmatic changes of\n * terminal width.\n *\n * Relying on the browser to send us an async resize event means we may not be\n * in the correct state yet when the next escape sequence hits.\n */\nhterm.Terminal.prototype.realizeWidth_ = function(columnCount) {\n  if (columnCount <= 0)\n    throw new Error('Attempt to realize bad width: ' + columnCount);\n\n  var deltaColumns = columnCount - this.screen_.getWidth();\n\n  this.screenSize.width = columnCount;\n  this.screen_.setColumnCount(columnCount);\n\n  if (deltaColumns > 0) {\n    if (this.defaultTabStops)\n      this.setDefaultTabStops(this.screenSize.width - deltaColumns);\n  } else {\n    for (var i = this.tabStops_.length - 1; i >= 0; i--) {\n      if (this.tabStops_[i] < columnCount)\n        break;\n\n      this.tabStops_.pop();\n    }\n  }\n\n  this.screen_.setColumnCount(this.screenSize.width);\n};\n\n/**\n * Deal with terminal height changes.\n *\n * This function does what needs to be done when the terminal height changes\n * out from under us.  It happens here rather than in onResize_() because this\n * code may need to run synchronously to handle programmatic changes of\n * terminal height.\n *\n * Relying on the browser to send us an async resize event means we may not be\n * in the correct state yet when the next escape sequence hits.\n */\nhterm.Terminal.prototype.realizeHeight_ = function(rowCount) {\n  if (rowCount <= 0)\n    throw new Error('Attempt to realize bad height: ' + rowCount);\n\n  var deltaRows = rowCount - this.screen_.getHeight();\n\n  this.screenSize.height = rowCount;\n\n  var cursor = this.saveCursor();\n\n  if (deltaRows < 0) {\n    // Screen got smaller.\n    deltaRows *= -1;\n    while (deltaRows) {\n      var lastRow = this.getRowCount() - 1;\n      if (lastRow - this.scrollbackRows_.length == cursor.row)\n        break;\n\n      if (this.getRowText(lastRow))\n        break;\n\n      this.screen_.popRow();\n      deltaRows--;\n    }\n\n    var ary = this.screen_.shiftRows(deltaRows);\n    this.scrollbackRows_.push.apply(this.scrollbackRows_, ary);\n\n    // We just removed rows from the top of the screen, we need to update\n    // the cursor to match.\n    cursor.row = Math.max(cursor.row - deltaRows, 0);\n  } else if (deltaRows > 0) {\n    // Screen got larger.\n\n    if (deltaRows <= this.scrollbackRows_.length) {\n      var scrollbackCount = Math.min(deltaRows, this.scrollbackRows_.length);\n      var rows = this.scrollbackRows_.splice(\n          this.scrollbackRows_.length - scrollbackCount, scrollbackCount);\n      this.screen_.unshiftRows(rows);\n      deltaRows -= scrollbackCount;\n      cursor.row += scrollbackCount;\n    }\n\n    if (deltaRows)\n      this.appendRows_(deltaRows);\n  }\n\n  this.setVTScrollRegion(null, null);\n  this.restoreCursor(cursor);\n};\n\n/**\n * Scroll the terminal to the top of the scrollback buffer.\n */\nhterm.Terminal.prototype.scrollHome = function() {\n  this.scrollPort_.scrollRowToTop(0);\n};\n\n/**\n * Scroll the terminal to the end.\n */\nhterm.Terminal.prototype.scrollEnd = function() {\n  this.scrollPort_.scrollRowToBottom(this.getRowCount());\n};\n\n/**\n * Scroll the terminal one page up (minus one line) relative to the current\n * position.\n */\nhterm.Terminal.prototype.scrollPageUp = function() {\n  var i = this.scrollPort_.getTopRowIndex();\n  this.scrollPort_.scrollRowToTop(i - this.screenSize.height + 1);\n};\n\n/**\n * Scroll the terminal one page down (minus one line) relative to the current\n * position.\n */\nhterm.Terminal.prototype.scrollPageDown = function() {\n  var i = this.scrollPort_.getTopRowIndex();\n  this.scrollPort_.scrollRowToTop(i + this.screenSize.height - 1);\n};\n\n/**\n * Clear primary screen, secondary screen, and the scrollback buffer.\n */\nhterm.Terminal.prototype.wipeContents = function() {\n  this.scrollbackRows_.length = 0;\n  this.scrollPort_.resetCache();\n\n  [this.primaryScreen_, this.alternateScreen_].forEach(function(screen) {\n    var bottom = screen.getHeight();\n    if (bottom > 0) {\n      this.renumberRows_(0, bottom);\n      this.clearHome(screen);\n    }\n  }.bind(this));\n\n  this.syncCursorPosition_();\n  this.scrollPort_.invalidate();\n};\n\n/**\n * Full terminal reset.\n */\nhterm.Terminal.prototype.reset = function() {\n  this.clearAllTabStops();\n  this.setDefaultTabStops();\n\n  this.clearHome(this.primaryScreen_);\n  this.primaryScreen_.textAttributes.reset();\n\n  this.clearHome(this.alternateScreen_);\n  this.alternateScreen_.textAttributes.reset();\n\n  this.setCursorBlink(!!this.prefs_.get('cursor-blink'));\n\n  this.vt.reset();\n\n  this.softReset();\n};\n\n/**\n * Soft terminal reset.\n *\n * Perform a soft reset to the default values listed in\n * http://www.vt100.net/docs/vt510-rm/DECSTR#T5-9\n */\nhterm.Terminal.prototype.softReset = function() {\n  // Reset terminal options to their default values.\n  this.options_ = new hterm.Options();\n\n  // We show the cursor on soft reset but do not alter the blink state.\n  this.options_.cursorBlink = !!this.timeouts_.cursorBlink;\n\n  // Xterm also resets the color palette on soft reset, even though it doesn't\n  // seem to be documented anywhere.\n  this.primaryScreen_.textAttributes.resetColorPalette();\n  this.alternateScreen_.textAttributes.resetColorPalette();\n\n  // The xterm man page explicitly says this will happen on soft reset.\n  this.setVTScrollRegion(null, null);\n\n  // Xterm also shows the cursor on soft reset, but does not alter the blink\n  // state.\n  this.setCursorVisible(true);\n};\n\n/**\n * Move the cursor forward to the next tab stop, or to the last column\n * if no more tab stops are set.\n */\nhterm.Terminal.prototype.forwardTabStop = function() {\n  var column = this.screen_.cursorPosition.column;\n\n  for (var i = 0; i < this.tabStops_.length; i++) {\n    if (this.tabStops_[i] > column) {\n      this.setCursorColumn(this.tabStops_[i]);\n      return;\n    }\n  }\n\n  // xterm does not clear the overflow flag on HT or CHT.\n  var overflow = this.screen_.cursorPosition.overflow;\n  this.setCursorColumn(this.screenSize.width - 1);\n  this.screen_.cursorPosition.overflow = overflow;\n};\n\n/**\n * Move the cursor backward to the previous tab stop, or to the first column\n * if no previous tab stops are set.\n */\nhterm.Terminal.prototype.backwardTabStop = function() {\n  var column = this.screen_.cursorPosition.column;\n\n  for (var i = this.tabStops_.length - 1; i >= 0; i--) {\n    if (this.tabStops_[i] < column) {\n      this.setCursorColumn(this.tabStops_[i]);\n      return;\n    }\n  }\n\n  this.setCursorColumn(1);\n};\n\n/**\n * Set a tab stop at the given column.\n *\n * @param {int} column Zero based column.\n */\nhterm.Terminal.prototype.setTabStop = function(column) {\n  for (var i = this.tabStops_.length - 1; i >= 0; i--) {\n    if (this.tabStops_[i] == column)\n      return;\n\n    if (this.tabStops_[i] < column) {\n      this.tabStops_.splice(i + 1, 0, column);\n      return;\n    }\n  }\n\n  this.tabStops_.splice(0, 0, column);\n};\n\n/**\n * Clear the tab stop at the current cursor position.\n *\n * No effect if there is no tab stop at the current cursor position.\n */\nhterm.Terminal.prototype.clearTabStopAtCursor = function() {\n  var column = this.screen_.cursorPosition.column;\n\n  var i = this.tabStops_.indexOf(column);\n  if (i == -1)\n    return;\n\n  this.tabStops_.splice(i, 1);\n};\n\n/**\n * Clear all tab stops.\n */\nhterm.Terminal.prototype.clearAllTabStops = function() {\n  this.tabStops_.length = 0;\n  this.defaultTabStops = false;\n};\n\n/**\n * Set up the default tab stops, starting from a given column.\n *\n * This sets a tabstop every (column % this.tabWidth) column, starting\n * from the specified column, or 0 if no column is provided.  It also flags\n * future resizes to set them up.\n *\n * This does not clear the existing tab stops first, use clearAllTabStops\n * for that.\n *\n * @param {int} opt_start Optional starting zero based starting column, useful\n *     for filling out missing tab stops when the terminal is resized.\n */\nhterm.Terminal.prototype.setDefaultTabStops = function(opt_start) {\n  var start = opt_start || 0;\n  var w = this.tabWidth;\n  // Round start up to a default tab stop.\n  start = start - 1 - ((start - 1) % w) + w;\n  for (var i = start; i < this.screenSize.width; i += w) {\n    this.setTabStop(i);\n  }\n\n  this.defaultTabStops = true;\n};\n\n/**\n * Interpret a sequence of characters.\n *\n * Incomplete escape sequences are buffered until the next call.\n *\n * @param {string} str Sequence of characters to interpret or pass through.\n */\nhterm.Terminal.prototype.interpret = function(str) {\n  this.vt.interpret(str);\n  this.scheduleSyncCursorPosition_();\n};\n\n/**\n * Take over the given DIV for use as the terminal display.\n *\n * @param {HTMLDivElement} div The div to use as the terminal display.\n */\nhterm.Terminal.prototype.decorate = function(div) {\n  this.div_ = div;\n\n  this.scrollPort_.decorate(div);\n  this.scrollPort_.setBackgroundImage(this.prefs_.get('background-image'));\n  this.scrollPort_.setBackgroundSize(this.prefs_.get('background-size'));\n  this.scrollPort_.setBackgroundPosition(\n      this.prefs_.get('background-position'));\n  this.scrollPort_.setUserCss(this.prefs_.get('user-css'));\n\n  this.div_.focus = this.focus.bind(this);\n\n  this.setFontSize(this.prefs_.get('font-size'));\n  this.syncFontFamily();\n\n  this.setScrollbarVisible(this.prefs_.get('scrollbar-visible'));\n  this.setScrollWheelMoveMultipler(\n      this.prefs_.get('scroll-wheel-move-multiplier'));\n\n  this.document_ = this.scrollPort_.getDocument();\n\n  this.document_.body.oncontextmenu = function() { return false };\n\n  var onMouse = this.onMouse_.bind(this);\n  var screenNode = this.scrollPort_.getScreenNode();\n  screenNode.addEventListener('mousedown', onMouse);\n  screenNode.addEventListener('mouseup', onMouse);\n  screenNode.addEventListener('mousemove', onMouse);\n  this.scrollPort_.onScrollWheel = onMouse;\n\n  screenNode.addEventListener(\n      'focus', this.onFocusChange_.bind(this, true));\n  // Listen for mousedown events on the screenNode as in FF the focus\n  // events don't bubble.\n  screenNode.addEventListener('mousedown', function() {\n    setTimeout(this.onFocusChange_.bind(this, true));\n  }.bind(this));\n\n  screenNode.addEventListener(\n      'blur', this.onFocusChange_.bind(this, false));\n\n  var style = this.document_.createElement('style');\n  style.textContent =\n      ('.cursor-node[focus=\"false\"] {' +\n       '  box-sizing: border-box;' +\n       '  background-color: transparent !important;' +\n       '  border-width: 2px;' +\n       '  border-style: solid;' +\n       '}' +\n       '.wc-node {' +\n       '  display: inline-block;' +\n       '  text-align: center;' +\n       '  width: ' + this.scrollPort_.characterSize.width * 2 + 'px;' +\n       '}');\n  this.document_.head.appendChild(style);\n\n  var styleSheets = this.document_.styleSheets;\n  var cssRules = styleSheets[styleSheets.length - 1].cssRules;\n  this.wcCssRule_ = cssRules[cssRules.length - 1];\n\n  this.cursorNode_ = this.document_.createElement('div');\n  this.cursorNode_.className = 'cursor-node';\n  this.cursorNode_.style.cssText =\n      ('position: absolute;' +\n       'top: -99px;' +\n       'display: block;' +\n       'width: ' + this.scrollPort_.characterSize.width + 'px;' +\n       'height: ' + this.scrollPort_.characterSize.height + 'px;' +\n       '-webkit-transition: opacity, background-color 100ms linear;' +\n       '-moz-transition: opacity, background-color 100ms linear;');\n\n  this.setCursorColor(this.prefs_.get('cursor-color'));\n  this.setCursorBlink(!!this.prefs_.get('cursor-blink'));\n  this.restyleCursor_();\n\n  this.document_.body.appendChild(this.cursorNode_);\n\n  // When 'enableMouseDragScroll' is off we reposition this element directly\n  // under the mouse cursor after a click.  This makes Chrome associate\n  // subsequent mousemove events with the scroll-blocker.  Since the\n  // scroll-blocker is a peer (not a child) of the scrollport, the mousemove\n  // events do not cause the scrollport to scroll.\n  //\n  // It's a hack, but it's the cleanest way I could find.\n  this.scrollBlockerNode_ = this.document_.createElement('div');\n  this.scrollBlockerNode_.style.cssText =\n      ('position: absolute;' +\n       'top: -99px;' +\n       'display: block;' +\n       'width: 10px;' +\n       'height: 10px;');\n  this.document_.body.appendChild(this.scrollBlockerNode_);\n\n  var onMouse = this.onMouse_.bind(this);\n  this.scrollPort_.onScrollWheel = onMouse;\n  ['mousedown', 'mouseup', 'mousemove', 'click', 'dblclick',\n   ].forEach(function(event) {\n       this.scrollBlockerNode_.addEventListener(event, onMouse);\n       this.cursorNode_.addEventListener(event, onMouse);\n       this.document_.addEventListener(event, onMouse);\n     }.bind(this));\n\n  this.cursorNode_.addEventListener('mousedown', function() {\n      setTimeout(this.focus.bind(this));\n    }.bind(this));\n\n  this.setReverseVideo(false);\n\n  this.scrollPort_.focus();\n  this.scrollPort_.scheduleRedraw();\n};\n\n/**\n * Return the HTML document that contains the terminal DOM nodes.\n */\nhterm.Terminal.prototype.getDocument = function() {\n  return this.document_;\n};\n\n/**\n * Focus the terminal.\n */\nhterm.Terminal.prototype.focus = function() {\n  this.scrollPort_.focus();\n};\n\n/**\n * Return the HTML Element for a given row index.\n *\n * This is a method from the RowProvider interface.  The ScrollPort uses\n * it to fetch rows on demand as they are scrolled into view.\n *\n * TODO(rginda): Consider saving scrollback rows as (HTML source, text content)\n * pairs to conserve memory.\n *\n * @param {integer} index The zero-based row index, measured relative to the\n *     start of the scrollback buffer.  On-screen rows will always have the\n *     largest indicies.\n * @return {HTMLElement} The 'x-row' element containing for the requested row.\n */\nhterm.Terminal.prototype.getRowNode = function(index) {\n  if (index < this.scrollbackRows_.length)\n    return this.scrollbackRows_[index];\n\n  var screenIndex = index - this.scrollbackRows_.length;\n  return this.screen_.rowsArray[screenIndex];\n};\n\n/**\n * Return the text content for a given range of rows.\n *\n * This is a method from the RowProvider interface.  The ScrollPort uses\n * it to fetch text content on demand when the user attempts to copy their\n * selection to the clipboard.\n *\n * @param {integer} start The zero-based row index to start from, measured\n *     relative to the start of the scrollback buffer.  On-screen rows will\n *     always have the largest indicies.\n * @param {integer} end The zero-based row index to end on, measured\n *     relative to the start of the scrollback buffer.\n * @return {string} A single string containing the text value of the range of\n *     rows.  Lines will be newline delimited, with no trailing newline.\n */\nhterm.Terminal.prototype.getRowsText = function(start, end) {\n  var ary = [];\n  for (var i = start; i < end; i++) {\n    var node = this.getRowNode(i);\n    ary.push(node.textContent);\n    if (i < end - 1 && !node.getAttribute('line-overflow'))\n      ary.push('\\n');\n  }\n\n  return ary.join('');\n};\n\n/**\n * Return the text content for a given row.\n *\n * This is a method from the RowProvider interface.  The ScrollPort uses\n * it to fetch text content on demand when the user attempts to copy their\n * selection to the clipboard.\n *\n * @param {integer} index The zero-based row index to return, measured\n *     relative to the start of the scrollback buffer.  On-screen rows will\n *     always have the largest indicies.\n * @return {string} A string containing the text value of the selected row.\n */\nhterm.Terminal.prototype.getRowText = function(index) {\n  var node = this.getRowNode(index);\n  return node.textContent;\n};\n\n/**\n * Return the total number of rows in the addressable screen and in the\n * scrollback buffer of this terminal.\n *\n * This is a method from the RowProvider interface.  The ScrollPort uses\n * it to compute the size of the scrollbar.\n *\n * @return {integer} The number of rows in this terminal.\n */\nhterm.Terminal.prototype.getRowCount = function() {\n  return this.scrollbackRows_.length + this.screen_.rowsArray.length;\n};\n\n/**\n * Create DOM nodes for new rows and append them to the end of the terminal.\n *\n * This is the only correct way to add a new DOM node for a row.  Notice that\n * the new row is appended to the bottom of the list of rows, and does not\n * require renumbering (of the rowIndex property) of previous rows.\n *\n * If you think you want a new blank row somewhere in the middle of the\n * terminal, look into moveRows_().\n *\n * This method does not pay attention to vtScrollTop/Bottom, since you should\n * be using moveRows() in cases where they would matter.\n *\n * The cursor will be positioned at column 0 of the first inserted line.\n */\nhterm.Terminal.prototype.appendRows_ = function(count) {\n  var cursorRow = this.screen_.rowsArray.length;\n  var offset = this.scrollbackRows_.length + cursorRow;\n  for (var i = 0; i < count; i++) {\n    var row = this.document_.createElement('x-row');\n    row.appendChild(this.document_.createTextNode(''));\n    row.rowIndex = offset + i;\n    this.screen_.pushRow(row);\n  }\n\n  var extraRows = this.screen_.rowsArray.length - this.screenSize.height;\n  if (extraRows > 0) {\n    var ary = this.screen_.shiftRows(extraRows);\n    Array.prototype.push.apply(this.scrollbackRows_, ary);\n    if (this.scrollPort_.isScrolledEnd)\n      this.scheduleScrollDown_();\n  }\n\n  if (cursorRow >= this.screen_.rowsArray.length)\n    cursorRow = this.screen_.rowsArray.length - 1;\n\n  this.setAbsoluteCursorPosition(cursorRow, 0);\n};\n\n/**\n * Relocate rows from one part of the addressable screen to another.\n *\n * This is used to recycle rows during VT scrolls (those which are driven\n * by VT commands, rather than by the user manipulating the scrollbar.)\n *\n * In this case, the blank lines scrolled into the scroll region are made of\n * the nodes we scrolled off.  These have their rowIndex properties carefully\n * renumbered so as not to confuse the ScrollPort.\n */\nhterm.Terminal.prototype.moveRows_ = function(fromIndex, count, toIndex) {\n  var ary = this.screen_.removeRows(fromIndex, count);\n  this.screen_.insertRows(toIndex, ary);\n\n  var start, end;\n  if (fromIndex < toIndex) {\n    start = fromIndex;\n    end = toIndex + count;\n  } else {\n    start = toIndex;\n    end = fromIndex + count;\n  }\n\n  this.renumberRows_(start, end);\n  this.scrollPort_.scheduleInvalidate();\n};\n\n/**\n * Renumber the rowIndex property of the given range of rows.\n *\n * The start and end indicies are relative to the screen, not the scrollback.\n * Rows in the scrollback buffer cannot be renumbered.  Since they are not\n * addressable (you can't delete them, scroll them, etc), you should have\n * no need to renumber scrollback rows.\n */\nhterm.Terminal.prototype.renumberRows_ = function(start, end, opt_screen) {\n  var screen = opt_screen || this.screen_;\n\n  var offset = this.scrollbackRows_.length;\n  for (var i = start; i < end; i++) {\n    screen.rowsArray[i].rowIndex = offset + i;\n  }\n};\n\n/**\n * Print a string to the terminal.\n *\n * This respects the current insert and wraparound modes.  It will add new lines\n * to the end of the terminal, scrolling off the top into the scrollback buffer\n * if necessary.\n *\n * The string is *not* parsed for escape codes.  Use the interpret() method if\n * that's what you're after.\n *\n * @param{string} str The string to print.\n */\nhterm.Terminal.prototype.print = function(str) {\n  var startOffset = 0;\n\n  var strWidth = lib.wc.strWidth(str);\n\n  while (startOffset < strWidth) {\n    if (this.options_.wraparound && this.screen_.cursorPosition.overflow) {\n      this.screen_.commitLineOverflow();\n      this.newLine();\n    }\n\n    var count = strWidth - startOffset;\n    var didOverflow = false;\n    var substr;\n\n    if (this.screen_.cursorPosition.column + count >= this.screenSize.width) {\n      didOverflow = true;\n      count = this.screenSize.width - this.screen_.cursorPosition.column;\n    }\n\n    if (didOverflow && !this.options_.wraparound) {\n      // If the string overflowed the line but wraparound is off, then the\n      // last printed character should be the last of the string.\n      // TODO: This will add to our problems with multibyte UTF-16 characters.\n      substr = lib.wc.substr(str, startOffset, count - 1) +\n          lib.wc.substr(str, strWidth - 1);\n      count = strWidth;\n    } else {\n      substr = lib.wc.substr(str, startOffset, count);\n    }\n\n    var tokens = hterm.TextAttributes.splitWidecharString(substr);\n    for (var i = 0; i < tokens.length; i++) {\n      if (tokens[i].wcNode)\n        this.screen_.textAttributes.wcNode = true;\n\n      if (this.options_.insertMode) {\n          this.screen_.insertString(tokens[i].str);\n      } else {\n        this.screen_.overwriteString(tokens[i].str);\n      }\n      this.screen_.textAttributes.wcNode = false;\n    }\n\n    this.screen_.maybeClipCurrentRow();\n    startOffset += count;\n  }\n\n  this.scheduleSyncCursorPosition_();\n\n  if (this.scrollOnOutput_)\n    this.scrollPort_.scrollRowToBottom(this.getRowCount());\n};\n\n/**\n * Set the VT scroll region.\n *\n * This also resets the cursor position to the absolute (0, 0) position, since\n * that's what xterm appears to do.\n *\n * Setting the scroll region to the full height of the terminal will clear\n * the scroll region.  This is *NOT* what most terminals do.  We're explicitly\n * going \"off-spec\" here because it makes `screen` and `tmux` overflow into the\n * local scrollback buffer, which means the scrollbars and shift-pgup/pgdn\n * continue to work as most users would expect.\n *\n * @param {integer} scrollTop The zero-based top of the scroll region.\n * @param {integer} scrollBottom The zero-based bottom of the scroll region,\n *     inclusive.\n */\nhterm.Terminal.prototype.setVTScrollRegion = function(scrollTop, scrollBottom) {\n  if (scrollTop == 0 && scrollBottom == this.screenSize.height - 1) {\n    this.vtScrollTop_ = null;\n    this.vtScrollBottom_ = null;\n  } else {\n    this.vtScrollTop_ = scrollTop;\n    this.vtScrollBottom_ = scrollBottom;\n  }\n};\n\n/**\n * Return the top row index according to the VT.\n *\n * This will return 0 unless the terminal has been told to restrict scrolling\n * to some lower row.  It is used for some VT cursor positioning and scrolling\n * commands.\n *\n * @return {integer} The topmost row in the terminal's scroll region.\n */\nhterm.Terminal.prototype.getVTScrollTop = function() {\n  if (this.vtScrollTop_ != null)\n    return this.vtScrollTop_;\n\n  return 0;\n};\n\n/**\n * Return the bottom row index according to the VT.\n *\n * This will return the height of the terminal unless the it has been told to\n * restrict scrolling to some higher row.  It is used for some VT cursor\n * positioning and scrolling commands.\n *\n * @return {integer} The bottommost row in the terminal's scroll region.\n */\nhterm.Terminal.prototype.getVTScrollBottom = function() {\n  if (this.vtScrollBottom_ != null)\n    return this.vtScrollBottom_;\n\n  return this.screenSize.height - 1;\n}\n\n/**\n * Process a '\\n' character.\n *\n * If the cursor is on the final row of the terminal this will append a new\n * blank row to the screen and scroll the topmost row into the scrollback\n * buffer.\n *\n * Otherwise, this moves the cursor to column zero of the next row.\n */\nhterm.Terminal.prototype.newLine = function() {\n  var cursorAtEndOfScreen = (this.screen_.cursorPosition.row ==\n                             this.screen_.rowsArray.length - 1);\n\n  if (this.vtScrollBottom_ != null) {\n    // A VT Scroll region is active, we never append new rows.\n    if (this.screen_.cursorPosition.row == this.vtScrollBottom_) {\n      // We're at the end of the VT Scroll Region, perform a VT scroll.\n      this.vtScrollUp(1);\n      this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row, 0);\n    } else if (cursorAtEndOfScreen) {\n      // We're at the end of the screen, the only thing to do is put the\n      // cursor to column 0.\n      this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row, 0);\n    } else {\n      // Anywhere else, advance the cursor row, and reset the column.\n      this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row + 1, 0);\n    }\n  } else if (cursorAtEndOfScreen) {\n    // We're at the end of the screen.  Append a new row to the terminal,\n    // shifting the top row into the scrollback.\n    this.appendRows_(1);\n  } else {\n    // Anywhere else in the screen just moves the cursor.\n    this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row + 1, 0);\n  }\n};\n\n/**\n * Like newLine(), except maintain the cursor column.\n */\nhterm.Terminal.prototype.lineFeed = function() {\n  var column = this.screen_.cursorPosition.column;\n  this.newLine();\n  this.setCursorColumn(column);\n};\n\n/**\n * If autoCarriageReturn is set then newLine(), else lineFeed().\n */\nhterm.Terminal.prototype.formFeed = function() {\n  if (this.options_.autoCarriageReturn) {\n    this.newLine();\n  } else {\n    this.lineFeed();\n  }\n};\n\n/**\n * Move the cursor up one row, possibly inserting a blank line.\n *\n * The cursor column is not changed.\n */\nhterm.Terminal.prototype.reverseLineFeed = function() {\n  var scrollTop = this.getVTScrollTop();\n  var currentRow = this.screen_.cursorPosition.row;\n\n  if (currentRow == scrollTop) {\n    this.insertLines(1);\n  } else {\n    this.setAbsoluteCursorRow(currentRow - 1);\n  }\n};\n\n/**\n * Replace all characters to the left of the current cursor with the space\n * character.\n *\n * TODO(rginda): This should probably *remove* the characters (not just replace\n * with a space) if there are no characters at or beyond the current cursor\n * position.\n */\nhterm.Terminal.prototype.eraseToLeft = function() {\n  var cursor = this.saveCursor();\n  this.setCursorColumn(0);\n  this.screen_.overwriteString(lib.f.getWhitespace(cursor.column + 1));\n  this.restoreCursor(cursor);\n};\n\n/**\n * Erase a given number of characters to the right of the cursor.\n *\n * The cursor position is unchanged.\n *\n * If the current background color is not the default background color this\n * will insert spaces rather than delete.  This is unfortunate because the\n * trailing space will affect text selection, but it's difficult to come up\n * with a way to style empty space that wouldn't trip up the hterm.Screen\n * code.\n *\n * eraseToRight is ignored in the presence of a cursor overflow.  This deviates\n * from xterm, but agrees with gnome-terminal and konsole, xfce4-terminal.  See\n * crbug.com/232390 for details.\n */\nhterm.Terminal.prototype.eraseToRight = function(opt_count) {\n  if (this.screen_.cursorPosition.overflow)\n    return;\n\n  var maxCount = this.screenSize.width - this.screen_.cursorPosition.column;\n  var count = opt_count ? Math.min(opt_count, maxCount) : maxCount;\n\n  if (this.screen_.textAttributes.background ===\n      this.screen_.textAttributes.DEFAULT_COLOR) {\n    var cursorRow = this.screen_.rowsArray[this.screen_.cursorPosition.row];\n    if (hterm.TextAttributes.nodeWidth(cursorRow) <=\n        this.screen_.cursorPosition.column + count) {\n      this.screen_.deleteChars(count);\n      this.clearCursorOverflow();\n      return;\n    }\n  }\n\n  var cursor = this.saveCursor();\n  this.screen_.overwriteString(lib.f.getWhitespace(count));\n  this.restoreCursor(cursor);\n  this.clearCursorOverflow();\n};\n\n/**\n * Erase the current line.\n *\n * The cursor position is unchanged.\n */\nhterm.Terminal.prototype.eraseLine = function() {\n  var cursor = this.saveCursor();\n  this.screen_.clearCursorRow();\n  this.restoreCursor(cursor);\n  this.clearCursorOverflow();\n};\n\n/**\n * Erase all characters from the start of the screen to the current cursor\n * position, regardless of scroll region.\n *\n * The cursor position is unchanged.\n */\nhterm.Terminal.prototype.eraseAbove = function() {\n  var cursor = this.saveCursor();\n\n  this.eraseToLeft();\n\n  for (var i = 0; i < cursor.row; i++) {\n    this.setAbsoluteCursorPosition(i, 0);\n    this.screen_.clearCursorRow();\n  }\n\n  this.restoreCursor(cursor);\n  this.clearCursorOverflow();\n};\n\n/**\n * Erase all characters from the current cursor position to the end of the\n * screen, regardless of scroll region.\n *\n * The cursor position is unchanged.\n */\nhterm.Terminal.prototype.eraseBelow = function() {\n  var cursor = this.saveCursor();\n\n  this.eraseToRight();\n\n  var bottom = this.screenSize.height - 1;\n  for (var i = cursor.row + 1; i <= bottom; i++) {\n    this.setAbsoluteCursorPosition(i, 0);\n    this.screen_.clearCursorRow();\n  }\n\n  this.restoreCursor(cursor);\n  this.clearCursorOverflow();\n};\n\n/**\n * Fill the terminal with a given character.\n *\n * This methods does not respect the VT scroll region.\n *\n * @param {string} ch The character to use for the fill.\n */\nhterm.Terminal.prototype.fill = function(ch) {\n  var cursor = this.saveCursor();\n\n  this.setAbsoluteCursorPosition(0, 0);\n  for (var row = 0; row < this.screenSize.height; row++) {\n    for (var col = 0; col < this.screenSize.width; col++) {\n      this.setAbsoluteCursorPosition(row, col);\n      this.screen_.overwriteString(ch);\n    }\n  }\n\n  this.restoreCursor(cursor);\n};\n\n/**\n * Erase the entire display and leave the cursor at (0, 0).\n *\n * This does not respect the scroll region.\n *\n * @param {hterm.Screen} opt_screen Optional screen to operate on.  Defaults\n *     to the current screen.\n */\nhterm.Terminal.prototype.clearHome = function(opt_screen) {\n  var screen = opt_screen || this.screen_;\n  var bottom = screen.getHeight();\n\n  if (bottom == 0) {\n    // Empty screen, nothing to do.\n    return;\n  }\n\n  for (var i = 0; i < bottom; i++) {\n    screen.setCursorPosition(i, 0);\n    screen.clearCursorRow();\n  }\n\n  screen.setCursorPosition(0, 0);\n};\n\n/**\n * Erase the entire display without changing the cursor position.\n *\n * The cursor position is unchanged.  This does not respect the scroll\n * region.\n *\n * @param {hterm.Screen} opt_screen Optional screen to operate on.  Defaults\n *     to the current screen.\n */\nhterm.Terminal.prototype.clear = function(opt_screen) {\n  var screen = opt_screen || this.screen_;\n  var cursor = screen.cursorPosition.clone();\n  this.clearHome(screen);\n  screen.setCursorPosition(cursor.row, cursor.column);\n};\n\n/**\n * VT command to insert lines at the current cursor row.\n *\n * This respects the current scroll region.  Rows pushed off the bottom are\n * lost (they won't show up in the scrollback buffer).\n *\n * @param {integer} count The number of lines to insert.\n */\nhterm.Terminal.prototype.insertLines = function(count) {\n  var cursorRow = this.screen_.cursorPosition.row;\n\n  var bottom = this.getVTScrollBottom();\n  count = Math.min(count, bottom - cursorRow);\n\n  // The moveCount is the number of rows we need to relocate to make room for\n  // the new row(s).  The count is the distance to move them.\n  var moveCount = bottom - cursorRow - count + 1;\n  if (moveCount)\n    this.moveRows_(cursorRow, moveCount, cursorRow + count);\n\n  for (var i = count - 1; i >= 0; i--) {\n    this.setAbsoluteCursorPosition(cursorRow + i, 0);\n    this.screen_.clearCursorRow();\n  }\n};\n\n/**\n * VT command to delete lines at the current cursor row.\n *\n * New rows are added to the bottom of scroll region to take their place.  New\n * rows are strictly there to take up space and have no content or style.\n */\nhterm.Terminal.prototype.deleteLines = function(count) {\n  var cursor = this.saveCursor();\n\n  var top = cursor.row;\n  var bottom = this.getVTScrollBottom();\n\n  var maxCount = bottom - top + 1;\n  count = Math.min(count, maxCount);\n\n  var moveStart = bottom - count + 1;\n  if (count != maxCount)\n    this.moveRows_(top, count, moveStart);\n\n  for (var i = 0; i < count; i++) {\n    this.setAbsoluteCursorPosition(moveStart + i, 0);\n    this.screen_.clearCursorRow();\n  }\n\n  this.restoreCursor(cursor);\n  this.clearCursorOverflow();\n};\n\n/**\n * Inserts the given number of spaces at the current cursor position.\n *\n * The cursor position is not changed.\n */\nhterm.Terminal.prototype.insertSpace = function(count) {\n  var cursor = this.saveCursor();\n\n  var ws = lib.f.getWhitespace(count || 1);\n  this.screen_.insertString(ws);\n  this.screen_.maybeClipCurrentRow();\n\n  this.restoreCursor(cursor);\n  this.clearCursorOverflow();\n};\n\n/**\n * Forward-delete the specified number of characters starting at the cursor\n * position.\n *\n * @param {integer} count The number of characters to delete.\n */\nhterm.Terminal.prototype.deleteChars = function(count) {\n  var deleted = this.screen_.deleteChars(count);\n  if (deleted && !this.screen_.textAttributes.isDefault()) {\n    var cursor = this.saveCursor();\n    this.setCursorColumn(this.screenSize.width - deleted);\n    this.screen_.insertString(lib.f.getWhitespace(deleted));\n    this.restoreCursor(cursor);\n  }\n\n  this.clearCursorOverflow();\n};\n\n/**\n * Shift rows in the scroll region upwards by a given number of lines.\n *\n * New rows are inserted at the bottom of the scroll region to fill the\n * vacated rows.  The new rows not filled out with the current text attributes.\n *\n * This function does not affect the scrollback rows at all.  Rows shifted\n * off the top are lost.\n *\n * The cursor position is not altered.\n *\n * @param {integer} count The number of rows to scroll.\n */\nhterm.Terminal.prototype.vtScrollUp = function(count) {\n  var cursor = this.saveCursor();\n\n  this.setAbsoluteCursorRow(this.getVTScrollTop());\n  this.deleteLines(count);\n\n  this.restoreCursor(cursor);\n};\n\n/**\n * Shift rows below the cursor down by a given number of lines.\n *\n * This function respects the current scroll region.\n *\n * New rows are inserted at the top of the scroll region to fill the\n * vacated rows.  The new rows not filled out with the current text attributes.\n *\n * This function does not affect the scrollback rows at all.  Rows shifted\n * off the bottom are lost.\n *\n * @param {integer} count The number of rows to scroll.\n */\nhterm.Terminal.prototype.vtScrollDown = function(opt_count) {\n  var cursor = this.saveCursor();\n\n  this.setAbsoluteCursorPosition(this.getVTScrollTop(), 0);\n  this.insertLines(opt_count);\n\n  this.restoreCursor(cursor);\n};\n\n\n/**\n * Set the cursor position.\n *\n * The cursor row is relative to the scroll region if the terminal has\n * 'origin mode' enabled, or relative to the addressable screen otherwise.\n *\n * @param {integer} row The new zero-based cursor row.\n * @param {integer} row The new zero-based cursor column.\n */\nhterm.Terminal.prototype.setCursorPosition = function(row, column) {\n  if (this.options_.originMode) {\n    this.setRelativeCursorPosition(row, column);\n  } else {\n    this.setAbsoluteCursorPosition(row, column);\n  }\n};\n\nhterm.Terminal.prototype.setRelativeCursorPosition = function(row, column) {\n  var scrollTop = this.getVTScrollTop();\n  row = lib.f.clamp(row + scrollTop, scrollTop, this.getVTScrollBottom());\n  column = lib.f.clamp(column, 0, this.screenSize.width - 1);\n  this.screen_.setCursorPosition(row, column);\n};\n\nhterm.Terminal.prototype.setAbsoluteCursorPosition = function(row, column) {\n  row = lib.f.clamp(row, 0, this.screenSize.height - 1);\n  column = lib.f.clamp(column, 0, this.screenSize.width - 1);\n  this.screen_.setCursorPosition(row, column);\n};\n\n/**\n * Set the cursor column.\n *\n * @param {integer} column The new zero-based cursor column.\n */\nhterm.Terminal.prototype.setCursorColumn = function(column) {\n  this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row, column);\n};\n\n/**\n * Return the cursor column.\n *\n * @return {integer} The zero-based cursor column.\n */\nhterm.Terminal.prototype.getCursorColumn = function() {\n  return this.screen_.cursorPosition.column;\n};\n\n/**\n * Set the cursor row.\n *\n * The cursor row is relative to the scroll region if the terminal has\n * 'origin mode' enabled, or relative to the addressable screen otherwise.\n *\n * @param {integer} row The new cursor row.\n */\nhterm.Terminal.prototype.setAbsoluteCursorRow = function(row) {\n  this.setAbsoluteCursorPosition(row, this.screen_.cursorPosition.column);\n};\n\n/**\n * Return the cursor row.\n *\n * @return {integer} The zero-based cursor row.\n */\nhterm.Terminal.prototype.getCursorRow = function(row) {\n  return this.screen_.cursorPosition.row;\n};\n\n/**\n * Request that the ScrollPort redraw itself soon.\n *\n * The redraw will happen asynchronously, soon after the call stack winds down.\n * Multiple calls will be coalesced into a single redraw.\n */\nhterm.Terminal.prototype.scheduleRedraw_ = function() {\n  if (this.timeouts_.redraw)\n    return;\n\n  var self = this;\n  this.timeouts_.redraw = setTimeout(function() {\n      delete self.timeouts_.redraw;\n      self.scrollPort_.redraw_();\n    }, 0);\n};\n\n/**\n * Request that the ScrollPort be scrolled to the bottom.\n *\n * The scroll will happen asynchronously, soon after the call stack winds down.\n * Multiple calls will be coalesced into a single scroll.\n *\n * This affects the scrollbar position of the ScrollPort, and has nothing to\n * do with the VT scroll commands.\n */\nhterm.Terminal.prototype.scheduleScrollDown_ = function() {\n  if (this.timeouts_.scrollDown)\n    return;\n\n  var self = this;\n  this.timeouts_.scrollDown = setTimeout(function() {\n      delete self.timeouts_.scrollDown;\n      self.scrollPort_.scrollRowToBottom(self.getRowCount());\n    }, 10);\n};\n\n/**\n * Move the cursor up a specified number of rows.\n *\n * @param {integer} count The number of rows to move the cursor.\n */\nhterm.Terminal.prototype.cursorUp = function(count) {\n  return this.cursorDown(-(count || 1));\n};\n\n/**\n * Move the cursor down a specified number of rows.\n *\n * @param {integer} count The number of rows to move the cursor.\n */\nhterm.Terminal.prototype.cursorDown = function(count) {\n  count = count || 1;\n  var minHeight = (this.options_.originMode ? this.getVTScrollTop() : 0);\n  var maxHeight = (this.options_.originMode ? this.getVTScrollBottom() :\n                   this.screenSize.height - 1);\n\n  var row = lib.f.clamp(this.screen_.cursorPosition.row + count,\n                        minHeight, maxHeight);\n  this.setAbsoluteCursorRow(row);\n};\n\n/**\n * Move the cursor left a specified number of columns.\n *\n * If reverse wraparound mode is enabled and the previous row wrapped into\n * the current row then we back up through the wraparound as well.\n *\n * @param {integer} count The number of columns to move the cursor.\n */\nhterm.Terminal.prototype.cursorLeft = function(count) {\n  count = count || 1;\n\n  if (count < 1)\n    return;\n\n  var currentColumn = this.screen_.cursorPosition.column;\n  if (this.options_.reverseWraparound) {\n    if (this.screen_.cursorPosition.overflow) {\n      // If this cursor is in the right margin, consume one count to get it\n      // back to the last column.  This only applies when we're in reverse\n      // wraparound mode.\n      count--;\n      this.clearCursorOverflow();\n\n      if (!count)\n        return;\n    }\n\n    var newRow = this.screen_.cursorPosition.row;\n    var newColumn = currentColumn - count;\n    if (newColumn < 0) {\n      newRow = newRow - Math.floor(count / this.screenSize.width) - 1;\n      if (newRow < 0) {\n        // xterm also wraps from row 0 to the last row.\n        newRow = this.screenSize.height + newRow % this.screenSize.height;\n      }\n      newColumn = this.screenSize.width + newColumn % this.screenSize.width;\n    }\n\n    this.setCursorPosition(Math.max(newRow, 0), newColumn);\n\n  } else {\n    var newColumn = Math.max(currentColumn - count, 0);\n    this.setCursorColumn(newColumn);\n  }\n};\n\n/**\n * Move the cursor right a specified number of columns.\n *\n * @param {integer} count The number of columns to move the cursor.\n */\nhterm.Terminal.prototype.cursorRight = function(count) {\n  count = count || 1;\n\n  if (count < 1)\n    return;\n\n  var column = lib.f.clamp(this.screen_.cursorPosition.column + count,\n                           0, this.screenSize.width - 1);\n  this.setCursorColumn(column);\n};\n\n/**\n * Reverse the foreground and background colors of the terminal.\n *\n * This only affects text that was drawn with no attributes.\n *\n * TODO(rginda): Test xterm to see if reverse is respected for text that has\n * been drawn with attributes that happen to coincide with the default\n * 'no-attribute' colors.  My guess is probably not.\n */\nhterm.Terminal.prototype.setReverseVideo = function(state) {\n  this.options_.reverseVideo = state;\n  if (state) {\n    this.scrollPort_.setForegroundColor(this.prefs_.get('background-color'));\n    this.scrollPort_.setBackgroundColor(this.prefs_.get('foreground-color'));\n  } else {\n    this.scrollPort_.setForegroundColor(this.prefs_.get('foreground-color'));\n    this.scrollPort_.setBackgroundColor(this.prefs_.get('background-color'));\n  }\n};\n\n/**\n * Ring the terminal bell.\n *\n * This will not play the bell audio more than once per second.\n */\nhterm.Terminal.prototype.ringBell = function() {\n  this.cursorNode_.style.backgroundColor =\n      this.scrollPort_.getForegroundColor();\n\n  var self = this;\n  setTimeout(function() {\n      self.cursorNode_.style.backgroundColor = self.prefs_.get('cursor-color');\n    }, 200);\n\n  // bellSquelchTimeout_ affects both audio and notification bells.\n  if (this.bellSquelchTimeout_)\n    return;\n\n  if (this.bellAudio_.getAttribute('src')) {\n    this.bellAudio_.play();\n    this.bellSequelchTimeout_ = setTimeout(function() {\n        delete this.bellSquelchTimeout_;\n      }.bind(this), 500);\n  } else {\n    delete this.bellSquelchTimeout_;\n  }\n\n  if (this.desktopNotificationBell_ && !this.document_.hasFocus()) {\n    var n = new Notification(\n        lib.f.replaceVars(hterm.desktopNotificationTitle,\n                          {'title': window.document.title || 'hterm'}));\n    this.bellNotificationList_.push(n);\n    // TODO: Should we try to raise the window here?\n    n.onclick = function() { self.closeBellNotifications_(); };\n  }\n};\n\n/**\n * Set the origin mode bit.\n *\n * If origin mode is on, certain VT cursor and scrolling commands measure their\n * row parameter relative to the VT scroll region.  Otherwise, row 0 corresponds\n * to the top of the addressable screen.\n *\n * Defaults to off.\n *\n * @param {boolean} state True to set origin mode, false to unset.\n */\nhterm.Terminal.prototype.setOriginMode = function(state) {\n  this.options_.originMode = state;\n  this.setCursorPosition(0, 0);\n};\n\n/**\n * Set the insert mode bit.\n *\n * If insert mode is on, existing text beyond the cursor position will be\n * shifted right to make room for new text.  Otherwise, new text overwrites\n * any existing text.\n *\n * Defaults to off.\n *\n * @param {boolean} state True to set insert mode, false to unset.\n */\nhterm.Terminal.prototype.setInsertMode = function(state) {\n  this.options_.insertMode = state;\n};\n\n/**\n * Set the auto carriage return bit.\n *\n * If auto carriage return is on then a formfeed character is interpreted\n * as a newline, otherwise it's the same as a linefeed.  The difference boils\n * down to whether or not the cursor column is reset.\n */\nhterm.Terminal.prototype.setAutoCarriageReturn = function(state) {\n  this.options_.autoCarriageReturn = state;\n};\n\n/**\n * Set the wraparound mode bit.\n *\n * If wraparound mode is on, certain VT commands will allow the cursor to wrap\n * to the start of the following row.  Otherwise, the cursor is clamped to the\n * end of the screen and attempts to write past it are ignored.\n *\n * Defaults to on.\n *\n * @param {boolean} state True to set wraparound mode, false to unset.\n */\nhterm.Terminal.prototype.setWraparound = function(state) {\n  this.options_.wraparound = state;\n};\n\n/**\n * Set the reverse-wraparound mode bit.\n *\n * If wraparound mode is off, certain VT commands will allow the cursor to wrap\n * to the end of the previous row.  Otherwise, the cursor is clamped to column\n * 0.\n *\n * Defaults to off.\n *\n * @param {boolean} state True to set reverse-wraparound mode, false to unset.\n */\nhterm.Terminal.prototype.setReverseWraparound = function(state) {\n  this.options_.reverseWraparound = state;\n};\n\n/**\n * Selects between the primary and alternate screens.\n *\n * If alternate mode is on, the alternate screen is active.  Otherwise the\n * primary screen is active.\n *\n * Swapping screens has no effect on the scrollback buffer.\n *\n * Each screen maintains its own cursor position.\n *\n * Defaults to off.\n *\n * @param {boolean} state True to set alternate mode, false to unset.\n */\nhterm.Terminal.prototype.setAlternateMode = function(state) {\n  var cursor = this.saveCursor();\n  this.screen_ = state ? this.alternateScreen_ : this.primaryScreen_;\n\n  if (this.screen_.rowsArray.length &&\n      this.screen_.rowsArray[0].rowIndex != this.scrollbackRows_.length) {\n    // If the screen changed sizes while we were away, our rowIndexes may\n    // be incorrect.\n    var offset = this.scrollbackRows_.length;\n    var ary = this.screen_.rowsArray;\n    for (var i = 0; i < ary.length; i++) {\n      ary[i].rowIndex = offset + i;\n    }\n  }\n\n  this.realizeWidth_(this.screenSize.width);\n  this.realizeHeight_(this.screenSize.height);\n  this.scrollPort_.syncScrollHeight();\n  this.scrollPort_.invalidate();\n\n  this.restoreCursor(cursor);\n  this.scrollPort_.resize();\n};\n\n/**\n * Set the cursor-blink mode bit.\n *\n * If cursor-blink is on, the cursor will blink when it is visible.  Otherwise\n * a visible cursor does not blink.\n *\n * You should make sure to turn blinking off if you're going to dispose of a\n * terminal, otherwise you'll leak a timeout.\n *\n * Defaults to on.\n *\n * @param {boolean} state True to set cursor-blink mode, false to unset.\n */\nhterm.Terminal.prototype.setCursorBlink = function(state) {\n  this.options_.cursorBlink = state;\n\n  if (!state && this.timeouts_.cursorBlink) {\n    clearTimeout(this.timeouts_.cursorBlink);\n    delete this.timeouts_.cursorBlink;\n  }\n\n  if (this.options_.cursorVisible)\n    this.setCursorVisible(true);\n};\n\n/**\n * Set the cursor-visible mode bit.\n *\n * If cursor-visible is on, the cursor will be visible.  Otherwise it will not.\n *\n * Defaults to on.\n *\n * @param {boolean} state True to set cursor-visible mode, false to unset.\n */\nhterm.Terminal.prototype.setCursorVisible = function(state) {\n  this.options_.cursorVisible = state;\n\n  if (!state) {\n    if (this.timeouts_.cursorBlink) {\n      clearTimeout(this.timeouts_.cursorBlink);\n      delete this.timeouts_.cursorBlink;\n    }\n    this.cursorNode_.style.opacity = '0';\n    return;\n  }\n\n  this.syncCursorPosition_();\n\n  this.cursorNode_.style.opacity = '1';\n\n  if (this.options_.cursorBlink) {\n    if (this.timeouts_.cursorBlink)\n      return;\n\n    this.onCursorBlink_();\n  } else {\n    if (this.timeouts_.cursorBlink) {\n      clearTimeout(this.timeouts_.cursorBlink);\n      delete this.timeouts_.cursorBlink;\n    }\n  }\n};\n\n/**\n * Synchronizes the visible cursor and document selection with the current\n * cursor coordinates.\n */\nhterm.Terminal.prototype.syncCursorPosition_ = function() {\n  var topRowIndex = this.scrollPort_.getTopRowIndex();\n  var bottomRowIndex = this.scrollPort_.getBottomRowIndex(topRowIndex);\n  var cursorRowIndex = this.scrollbackRows_.length +\n      this.screen_.cursorPosition.row;\n\n  if (cursorRowIndex > bottomRowIndex) {\n    // Cursor is scrolled off screen, move it outside of the visible area.\n    this.cursorNode_.style.top = -this.scrollPort_.characterSize.height + 'px';\n    return;\n  }\n\n  if (this.options_.cursorVisible &&\n      this.cursorNode_.style.display == 'none') {\n    // Re-display the terminal cursor if it was hidden by the mouse cursor.\n    this.cursorNode_.style.display = '';\n  }\n\n\n  this.cursorNode_.style.top = this.scrollPort_.visibleRowTopMargin +\n      this.scrollPort_.characterSize.height * (cursorRowIndex - topRowIndex) +\n      'px';\n  this.cursorNode_.style.left = this.scrollPort_.characterSize.width *\n      this.screen_.cursorPosition.column + 'px';\n\n  this.cursorNode_.setAttribute('title',\n                                '(' + this.screen_.cursorPosition.row +\n                                ', ' + this.screen_.cursorPosition.column +\n                                ')');\n\n  // Update the caret for a11y purposes.\n  var selection = this.document_.getSelection();\n  if (selection && selection.isCollapsed)\n    this.screen_.syncSelectionCaret(selection);\n};\n\n/**\n * Adjusts the style of this.cursorNode_ according to the current cursor shape\n * and character cell dimensions.\n */\nhterm.Terminal.prototype.restyleCursor_ = function() {\n  var shape = this.cursorShape_;\n\n  if (this.cursorNode_.getAttribute('focus') == 'false') {\n    // Always show a block cursor when unfocused.\n    shape = hterm.Terminal.cursorShape.BLOCK;\n  }\n\n  var style = this.cursorNode_.style;\n\n  style.width = this.scrollPort_.characterSize.width + 'px';\n\n  switch (shape) {\n    case hterm.Terminal.cursorShape.BEAM:\n      style.height = this.scrollPort_.characterSize.height + 'px';\n      style.backgroundColor = 'transparent';\n      style.borderBottomStyle = null;\n      style.borderLeftStyle = 'solid';\n      break;\n\n    case hterm.Terminal.cursorShape.UNDERLINE:\n      style.height = this.scrollPort_.characterSize.baseline + 'px';\n      style.backgroundColor = 'transparent';\n      style.borderBottomStyle = 'solid';\n      // correct the size to put it exactly at the baseline\n      style.borderLeftStyle = null;\n      break;\n\n    default:\n      style.height = this.scrollPort_.characterSize.height + 'px';\n      style.backgroundColor = this.cursorColor_;\n      style.borderBottomStyle = null;\n      style.borderLeftStyle = null;\n      break;\n  }\n};\n\n/**\n * Synchronizes the visible cursor with the current cursor coordinates.\n *\n * The sync will happen asynchronously, soon after the call stack winds down.\n * Multiple calls will be coalesced into a single sync.\n */\nhterm.Terminal.prototype.scheduleSyncCursorPosition_ = function() {\n  if (this.timeouts_.syncCursor)\n    return;\n\n  var self = this;\n  this.timeouts_.syncCursor = setTimeout(function() {\n      self.syncCursorPosition_();\n      delete self.timeouts_.syncCursor;\n    }, 0);\n};\n\n/**\n * Show or hide the zoom warning.\n *\n * The zoom warning is a message warning the user that their browser zoom must\n * be set to 100% in order for hterm to function properly.\n *\n * @param {boolean} state True to show the message, false to hide it.\n */\nhterm.Terminal.prototype.showZoomWarning_ = function(state) {\n  if (!this.zoomWarningNode_) {\n    if (!state)\n      return;\n\n    this.zoomWarningNode_ = this.document_.createElement('div');\n    this.zoomWarningNode_.style.cssText = (\n        'color: black;' +\n        'background-color: #ff2222;' +\n        'font-size: large;' +\n        'border-radius: 8px;' +\n        'opacity: 0.75;' +\n        'padding: 0.2em 0.5em 0.2em 0.5em;' +\n        'top: 0.5em;' +\n        'right: 1.2em;' +\n        'position: absolute;' +\n        '-webkit-text-size-adjust: none;' +\n        '-webkit-user-select: none;' +\n        '-moz-text-size-adjust: none;' +\n        '-moz-user-select: none;');\n  }\n\n  this.zoomWarningNode_.textContent = lib.MessageManager.replaceReferences(\n      hterm.zoomWarningMessage,\n      [parseInt(this.scrollPort_.characterSize.zoomFactor * 100)]);\n\n  this.zoomWarningNode_.style.fontFamily = this.prefs_.get('font-family');\n\n  if (state) {\n    if (!this.zoomWarningNode_.parentNode)\n      this.div_.parentNode.appendChild(this.zoomWarningNode_);\n  } else if (this.zoomWarningNode_.parentNode) {\n    this.zoomWarningNode_.parentNode.removeChild(this.zoomWarningNode_);\n  }\n};\n\n/**\n * Show the terminal overlay for a given amount of time.\n *\n * The terminal overlay appears in inverse video in a large font, centered\n * over the terminal.  You should probably keep the overlay message brief,\n * since it's in a large font and you probably aren't going to check the size\n * of the terminal first.\n *\n * @param {string} msg The text (not HTML) message to display in the overlay.\n * @param {number} opt_timeout The amount of time to wait before fading out\n *     the overlay.  Defaults to 1.5 seconds.  Pass null to have the overlay\n *     stay up forever (or until the next overlay).\n */\nhterm.Terminal.prototype.showOverlay = function(msg, opt_timeout) {\n  if (!this.overlayNode_) {\n    if (!this.div_)\n      return;\n\n    this.overlayNode_ = this.document_.createElement('div');\n    this.overlayNode_.style.cssText = (\n        'border-radius: 15px;' +\n        'font-size: xx-large;' +\n        'opacity: 0.75;' +\n        'padding: 0.2em 0.5em 0.2em 0.5em;' +\n        'position: absolute;' +\n        '-webkit-user-select: none;' +\n        '-webkit-transition: opacity 180ms ease-in;' +\n        '-moz-user-select: none;' +\n        '-moz-transition: opacity 180ms ease-in;');\n\n    this.overlayNode_.addEventListener('mousedown', function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }, true);\n  }\n\n  this.overlayNode_.style.color = this.prefs_.get('background-color');\n  this.overlayNode_.style.backgroundColor = this.prefs_.get('foreground-color');\n  this.overlayNode_.style.fontFamily = this.prefs_.get('font-family');\n\n  this.overlayNode_.textContent = msg;\n  this.overlayNode_.style.opacity = '0.75';\n\n  if (!this.overlayNode_.parentNode)\n    this.div_.appendChild(this.overlayNode_);\n\n  var divSize = hterm.getClientSize(this.div_);\n  var overlaySize = hterm.getClientSize(this.overlayNode_);\n\n  this.overlayNode_.style.top =\n      (divSize.height - overlaySize.height) / 2 + 'px';\n  this.overlayNode_.style.left = (divSize.width - overlaySize.width -\n      this.scrollPort_.currentScrollbarWidthPx) / 2 + 'px';\n\n  var self = this;\n\n  if (this.overlayTimeout_)\n    clearTimeout(this.overlayTimeout_);\n\n  if (opt_timeout === null)\n    return;\n\n  this.overlayTimeout_ = setTimeout(function() {\n      self.overlayNode_.style.opacity = '0';\n      self.overlayTimeout_ = setTimeout(function() {\n          if (self.overlayNode_.parentNode)\n            self.overlayNode_.parentNode.removeChild(self.overlayNode_);\n          self.overlayTimeout_ = null;\n          self.overlayNode_.style.opacity = '0.75';\n        }, 200);\n    }, opt_timeout || 1500);\n};\n\n/**\n * Paste from the system clipboard to the terminal.\n */\nhterm.Terminal.prototype.paste = function() {\n  hterm.pasteFromClipboard(this.document_);\n};\n\n/**\n * Copy a string to the system clipboard.\n *\n * Note: If there is a selected range in the terminal, it'll be cleared.\n */\nhterm.Terminal.prototype.copyStringToClipboard = function(str) {\n  if (this.prefs_.get('enable-clipboard-notice'))\n    setTimeout(this.showOverlay.bind(this, hterm.notifyCopyMessage, 500), 200);\n\n  var copySource = this.document_.createElement('pre');\n  copySource.textContent = str;\n  copySource.style.cssText = (\n      '-webkit-user-select: text;' +\n      '-moz-user-select: text;' +\n      'position: absolute;' +\n      'top: -99px');\n\n  this.document_.body.appendChild(copySource);\n\n  var selection = this.document_.getSelection();\n  var anchorNode = selection.anchorNode;\n  var anchorOffset = selection.anchorOffset;\n  var focusNode = selection.focusNode;\n  var focusOffset = selection.focusOffset;\n\n  selection.selectAllChildren(copySource);\n\n  hterm.copySelectionToClipboard(this.document_);\n\n  // IE doesn't support selection.extend. This means that the selection\n  // won't return on IE.\n  if (selection.extend) {\n    selection.collapse(anchorNode, anchorOffset);\n    selection.extend(focusNode, focusOffset);\n  }\n\n  copySource.parentNode.removeChild(copySource);\n};\n\nhterm.Terminal.prototype.getSelectionText = function() {\n  var selection = this.scrollPort_.selection;\n  selection.sync();\n\n  if (selection.isCollapsed)\n    return null;\n\n\n  // Start offset measures from the beginning of the line.\n  var startOffset = selection.startOffset;\n  var node = selection.startNode;\n\n  if (node.nodeName != 'X-ROW') {\n    // If the selection doesn't start on an x-row node, then it must be\n    // somewhere inside the x-row.  Add any characters from previous siblings\n    // into the start offset.\n\n    if (node.nodeName == '#text' && node.parentNode.nodeName == 'SPAN') {\n      // If node is the text node in a styled span, move up to the span node.\n      node = node.parentNode;\n    }\n\n    while (node.previousSibling) {\n      node = node.previousSibling;\n      startOffset += hterm.TextAttributes.nodeWidth(node);\n    }\n  }\n\n  // End offset measures from the end of the line.\n  var endOffset = (hterm.TextAttributes.nodeWidth(selection.endNode) -\n                   selection.endOffset);\n  var node = selection.endNode;\n\n  if (node.nodeName != 'X-ROW') {\n    // If the selection doesn't end on an x-row node, then it must be\n    // somewhere inside the x-row.  Add any characters from following siblings\n    // into the end offset.\n\n    if (node.nodeName == '#text' && node.parentNode.nodeName == 'SPAN') {\n      // If node is the text node in a styled span, move up to the span node.\n      node = node.parentNode;\n    }\n\n    while (node.nextSibling) {\n      node = node.nextSibling;\n      endOffset += hterm.TextAttributes.nodeWidth(node);\n    }\n  }\n\n  var rv = this.getRowsText(selection.startRow.rowIndex,\n                            selection.endRow.rowIndex + 1);\n  return lib.wc.substring(rv, startOffset, lib.wc.strWidth(rv) - endOffset);\n};\n\n/**\n * Copy the current selection to the system clipboard, then clear it after a\n * short delay.\n */\nhterm.Terminal.prototype.copySelectionToClipboard = function() {\n  var text = this.getSelectionText();\n  if (text != null)\n    this.copyStringToClipboard(text);\n};\n\nhterm.Terminal.prototype.overlaySize = function() {\n  this.showOverlay(this.screenSize.width + 'x' + this.screenSize.height);\n};\n\n/**\n * Invoked by hterm.Terminal.Keyboard when a VT keystroke is detected.\n *\n * @param {string} string The VT string representing the keystroke, in UTF-16.\n */\nhterm.Terminal.prototype.onVTKeystroke = function(string) {\n  if (this.scrollOnKeystroke_)\n    this.scrollPort_.scrollRowToBottom(this.getRowCount());\n\n  this.io.onVTKeystroke(this.keyboard.encode(string));\n};\n\n/**\n * Add the terminalRow and terminalColumn properties to mouse events and\n * then forward on to onMouse().\n *\n * The terminalRow and terminalColumn properties contain the (row, column)\n * coordinates for the mouse event.\n */\nhterm.Terminal.prototype.onMouse_ = function(e) {\n  if (e.processedByTerminalHandler_) {\n    // We register our event handlers on the document, as well as the cursor\n    // and the scroll blocker.  Mouse events that occur on the cursor or\n    // scroll blocker will also appear on the document, but we don't want to\n    // process them twice.\n    //\n    // We can't just prevent bubbling because that has other side effects, so\n    // we decorate the event object with this property instead.\n    return;\n  }\n\n  e.processedByTerminalHandler_ = true;\n\n  // One based row/column stored on the mouse event.\n  e.terminalRow = parseInt((e.clientY - this.scrollPort_.visibleRowTopMargin) /\n                           this.scrollPort_.characterSize.height) + 1;\n  e.terminalColumn = parseInt(e.clientX /\n                              this.scrollPort_.characterSize.width) + 1;\n\n  if (e.type == 'mousedown' && e.terminalColumn > this.screenSize.width) {\n    // Mousedown in the scrollbar area.\n    return;\n  }\n\n  if (this.options_.cursorVisible &&\n      this.vt.mouseReport == this.vt.MOUSE_REPORT_DISABLED) {\n    // If the cursor is visible and we're not sending mouse events to the\n    // host app, then we want to hide the terminal cursor when the mouse\n    // cursor is over top.  This keeps the terminal cursor from interfering\n    // with local text selection.\n    if (e.terminalRow - 1 == this.screen_.cursorPosition.row &&\n        e.terminalColumn - 1 == this.screen_.cursorPosition.column) {\n      this.cursorNode_.style.display = 'none';\n    } else if (this.cursorNode_.style.display == 'none') {\n      this.cursorNode_.style.display = '';\n    }\n  }\n\n  if (e.type == 'mousedown') {\n    if (e.altKey || this.vt.mouseReport == this.vt.MOUSE_REPORT_DISABLED) {\n      // If VT mouse reporting is disabled, or has been defeated with\n      // alt-mousedown, then the mouse will act on the local selection.\n      this.reportMouseEvents_ = false;\n      this.setSelectionEnabled(true);\n    } else {\n      // Otherwise we defer ownership of the mouse to the VT.\n      this.reportMouseEvents_ = true;\n      this.document_.getSelection().collapseToEnd();\n      this.setSelectionEnabled(false);\n      e.preventDefault();\n    }\n  }\n\n  if (!this.reportMouseEvents_) {\n    if (e.type == 'dblclick') {\n      this.screen_.expandSelection(this.document_.getSelection());\n      hterm.copySelectionToClipboard(this.document_);\n    }\n\n    if (e.type == 'mousedown' && e.which == this.mousePasteButton)\n      this.paste();\n\n    if (e.type == 'mouseup' && e.which == 1 && this.copyOnSelect &&\n        !this.document_.getSelection().isCollapsed) {\n      hterm.copySelectionToClipboard(this.document_);\n    }\n\n    if ((e.type == 'mousemove' || e.type == 'mouseup') &&\n        this.scrollBlockerNode_.engaged) {\n      // Disengage the scroll-blocker after one of these events.\n      this.scrollBlockerNode_.engaged = false;\n      this.scrollBlockerNode_.style.top = '-99px';\n    }\n\n  } else /* if (this.reportMouseEvents) */ {\n    if (!this.scrollBlockerNode_.engaged) {\n      if (e.type == 'mousedown') {\n        // Move the scroll-blocker into place if we want to keep the scrollport\n        // from scrolling.\n        this.scrollBlockerNode_.engaged = true;\n        this.scrollBlockerNode_.style.top = (e.clientY - 5) + 'px';\n        this.scrollBlockerNode_.style.left = (e.clientX - 5) + 'px';\n      } else if (e.type == 'mousemove') {\n        // Oh.  This means that drag-scroll was disabled AFTER the mouse down,\n        // in which case it's too late to engage the scroll-blocker.\n        this.document_.getSelection().collapseToEnd();\n        e.preventDefault();\n      }\n    }\n\n    this.onMouse(e);\n  }\n\n  if (e.type == 'mouseup' && this.document_.getSelection().isCollapsed) {\n    // Restore this on mouseup in case it was temporarily defeated with a\n    // alt-mousedown.  Only do this when the selection is empty so that\n    // we don't immediately kill the users selection.\n    this.reportMouseEvents_ = (this.vt.mouseReport !=\n                               this.vt.MOUSE_REPORT_DISABLED);\n  }\n};\n\n/**\n * Clients should override this if they care to know about mouse events.\n *\n * The event parameter will be a normal DOM mouse click event with additional\n * 'terminalRow' and 'terminalColumn' properties.\n */\nhterm.Terminal.prototype.onMouse = function(e) { };\n\n/**\n * React when focus changes.\n */\nhterm.Terminal.prototype.onFocusChange_ = function(focused) {\n  this.cursorNode_.setAttribute('focus', focused);\n  this.restyleCursor_();\n  if (focused === true)\n    this.closeBellNotifications_();\n};\n\n/**\n * React when the ScrollPort is scrolled.\n */\nhterm.Terminal.prototype.onScroll_ = function() {\n  this.scheduleSyncCursorPosition_();\n};\n\n/**\n * React when text is pasted into the scrollPort.\n */\nhterm.Terminal.prototype.onPaste_ = function(e) {\n  var data = e.text.replace(/\\n/mg, '\\r');\n  data = this.keyboard.encode(data);\n  if (this.options_.bracketedPaste)\n    data = '\\x1b[200~' + data + '\\x1b[201~';\n\n  this.io.sendString(data);\n};\n\n/**\n * React when the user tries to copy from the scrollPort.\n */\nhterm.Terminal.prototype.onCopy_ = function(e) {\n  if (!this.useDefaultWindowCopy) {\n    e.preventDefault();\n    setTimeout(this.copySelectionToClipboard.bind(this), 0);\n  }\n};\n\n/**\n * React when the ScrollPort is resized.\n *\n * Note: This function should not directly contain code that alters the internal\n * state of the terminal.  That kind of code belongs in realizeWidth or\n * realizeHeight, so that it can be executed synchronously in the case of a\n * programmatic width change.\n */\nhterm.Terminal.prototype.onResize_ = function() {\n  var columnCount = Math.floor(this.scrollPort_.getScreenWidth() /\n                               this.scrollPort_.characterSize.width);\n  var rowCount = lib.f.smartFloorDivide(this.scrollPort_.getScreenHeight(),\n                            this.scrollPort_.characterSize.height);\n\n  if (columnCount <= 0 || rowCount <= 0) {\n    // We avoid these situations since they happen sometimes when the terminal\n    // gets removed from the document or during the initial load, and we can't\n    // deal with that.\n    return;\n  }\n\n  var isNewSize = (columnCount != this.screenSize.width ||\n                   rowCount != this.screenSize.height);\n\n  // We do this even if the size didn't change, just to be sure everything is\n  // in sync.\n  this.realizeSize_(columnCount, rowCount);\n  this.showZoomWarning_(this.scrollPort_.characterSize.zoomFactor != 1);\n\n  if (isNewSize)\n    this.overlaySize();\n\n  this.restyleCursor_();\n  this.scheduleSyncCursorPosition_();\n};\n\n/**\n * Service the cursor blink timeout.\n */\nhterm.Terminal.prototype.onCursorBlink_ = function() {\n  if (!this.options_.cursorBlink) {\n    delete this.timeouts_.cursorBlink;\n    return;\n  }\n\n  if (this.cursorNode_.getAttribute('focus') == 'false' ||\n      this.cursorNode_.style.opacity == '0') {\n    this.cursorNode_.style.opacity = '1';\n    this.timeouts_.cursorBlink = setTimeout(this.myOnCursorBlink_,\n                                            this.cursorBlinkCycle_[0]);\n  } else {\n    this.cursorNode_.style.opacity = '0';\n    this.timeouts_.cursorBlink = setTimeout(this.myOnCursorBlink_,\n                                            this.cursorBlinkCycle_[1]);\n  }\n};\n\n/**\n * Set the scrollbar-visible mode bit.\n *\n * If scrollbar-visible is on, the vertical scrollbar will be visible.\n * Otherwise it will not.\n *\n * Defaults to on.\n *\n * @param {boolean} state True to set scrollbar-visible mode, false to unset.\n */\nhterm.Terminal.prototype.setScrollbarVisible = function(state) {\n  this.scrollPort_.setScrollbarVisible(state);\n};\n\n/**\n * Set the scroll wheel move multiplier.  This will affect how fast the page\n * scrolls on mousewheel events.\n *\n * Defaults to 1.\n *\n * @param {number} multiplier.\n */\nhterm.Terminal.prototype.setScrollWheelMoveMultipler = function(multiplier) {\n  this.scrollPort_.setScrollWheelMoveMultipler(multiplier);\n};\n\n/**\n * Close all web notifications created by terminal bells.\n */\nhterm.Terminal.prototype.closeBellNotifications_ = function() {\n  this.bellNotificationList_.forEach(function(n) {\n      n.close();\n    });\n  this.bellNotificationList_.length = 0;\n};\n// SOURCE FILE: hterm/js/hterm_terminal_io.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.encodeUTF8');\n\n/**\n * Input/Output interface used by commands to communicate with the terminal.\n *\n * Commands like `nassh` and `crosh` receive an instance of this class as\n * part of their argv object.  This allows them to write to and read from the\n * terminal without exposing them to an entire hterm.Terminal instance.\n *\n * The active command must override the onVTKeystroke() and sendString() methods\n * of this class in order to receive keystrokes and send output to the correct\n * destination.\n *\n * Isolating commands from the terminal provides the following benefits:\n * - Provides a mechanism to save and restore onVTKeystroke and sendString\n *   handlers when invoking subcommands (see the push() and pop() methods).\n * - The isolation makes it easier to make changes in Terminal and supporting\n *   classes without affecting commands.\n * - In The Future commands may run in web workers where they would only be able\n *   to talk to a Terminal instance through an IPC mechanism.\n *\n * @param {hterm.Terminal}\n */\nhterm.Terminal.IO = function(terminal) {\n  this.terminal_ = terminal;\n\n  // The IO object to restore on IO.pop().\n  this.previousIO_ = null;\n};\n\n/**\n * Show the terminal overlay for a given amount of time.\n *\n * The terminal overlay appears in inverse video in a large font, centered\n * over the terminal.  You should probably keep the overlay message brief,\n * since it's in a large font and you probably aren't going to check the size\n * of the terminal first.\n *\n * @param {string} msg The text (not HTML) message to display in the overlay.\n * @param {number} opt_timeout The amount of time to wait before fading out\n *     the overlay.  Defaults to 1.5 seconds.  Pass null to have the overlay\n *     stay up forever (or until the next overlay).\n */\nhterm.Terminal.IO.prototype.showOverlay = function(message, opt_timeout) {\n  this.terminal_.showOverlay(message, opt_timeout);\n};\n\n/**\n * Open an frame in the current terminal window, pointed to the specified\n * url.\n *\n * Eventually we'll probably need size/position/decoration options.\n * The user should also be able to move/resize the frame.\n *\n * @param {string} url The URL to load in the frame.\n * @param {Object} opt_options Optional frame options.  Not implemented.\n */\nhterm.Terminal.IO.prototype.createFrame = function(url, opt_options) {\n  return new hterm.Frame(this.terminal_, url, opt_options);\n};\n\n/**\n * Change the preference profile for the terminal.\n *\n * @param profileName {string} The name of the preference profile to activate.\n */\nhterm.Terminal.IO.prototype.setTerminalProfile = function(profileName) {\n  this.terminal_.setProfile(profileName);\n};\n\n/**\n * Create a new hterm.Terminal.IO instance and make it active on the Terminal\n * object associated with this instance.\n *\n * This is used to pass control of the terminal IO off to a subcommand.  The\n * IO.pop() method can be used to restore control when the subcommand completes.\n */\nhterm.Terminal.IO.prototype.push = function() {\n  var io = new hterm.Terminal.IO(this.terminal_);\n  io.keyboardCaptured_ = this.keyboardCaptured_;\n\n  io.columnCount = this.columnCount;\n  io.rowCount = this.rowCount;\n\n  io.previousIO_ = this.terminal_.io;\n  this.terminal_.io = io;\n\n  return io;\n};\n\n/**\n * Restore the Terminal's previous IO object.\n */\nhterm.Terminal.IO.prototype.pop = function() {\n  this.terminal_.io = this.previousIO_;\n};\n\n/**\n * Called when data needs to be sent to the current command.\n *\n * Clients should override this to receive notification of pending data.\n *\n * @param {string} string The data to send.\n */\nhterm.Terminal.IO.prototype.sendString = function(string) {\n  // Override this.\n  console.log('Unhandled sendString: ' + string);\n};\n\n/**\n * Called when a terminal keystroke is detected.\n *\n * Clients should override this to receive notification of keystrokes.\n *\n * The keystroke data will be encoded according to the 'send-encoding'\n * preference.\n *\n * @param {string} string The VT key sequence.\n */\nhterm.Terminal.IO.prototype.onVTKeystroke = function(string) {\n  // Override this.\n  console.log('Unobserverd VT keystroke: ' + JSON.stringify(string));\n};\n\nhterm.Terminal.IO.prototype.onTerminalResize_ = function(width, height) {\n  var obj = this;\n  while (obj) {\n    obj.columnCount = width;\n    obj.rowCount = height;\n    obj = obj.previousIO_;\n  }\n\n  this.onTerminalResize(width, height);\n};\n\n/**\n * Called when terminal size is changed.\n *\n * Clients should override this to receive notification of resize.\n *\n * @param {string|integer} terminal width.\n * @param {string|integer} terminal height.\n */\nhterm.Terminal.IO.prototype.onTerminalResize = function(width, height) {\n  // Override this.\n};\n\n/**\n * Write a UTF-8 encoded byte string to the terminal.\n *\n * @param {string} string The UTF-8 encoded string to print.\n */\nhterm.Terminal.IO.prototype.writeUTF8 = function(string) {\n  if (this.terminal_.io != this)\n    throw 'Attempt to print from inactive IO object.';\n\n  this.terminal_.interpret(string);\n};\n\n/**\n * Write a UTF-8 encoded byte string to the terminal followed by crlf.\n *\n * @param {string} string The UTF-8 encoded string to print.\n */\nhterm.Terminal.IO.prototype.writelnUTF8 = function(string) {\n  if (this.terminal_.io != this)\n    throw 'Attempt to print from inactive IO object.';\n\n  this.terminal_.interpret(string + '\\r\\n');\n};\n\n/**\n * Write a UTF-16 JavaScript string to the terminal.\n *\n * @param {string} string The string to print.\n */\nhterm.Terminal.IO.prototype.print =\nhterm.Terminal.IO.prototype.writeUTF16 = function(string) {\n  this.writeUTF8(lib.encodeUTF8(string));\n};\n\n/**\n * Print a UTF-16 JavaScript string to the terminal followed by a newline.\n *\n * @param {string} string The string to print.\n */\nhterm.Terminal.IO.prototype.println =\nhterm.Terminal.IO.prototype.writelnUTF16 = function(string) {\n  this.writelnUTF8(lib.encodeUTF8(string));\n};\n// SOURCE FILE: hterm/js/hterm_text_attributes.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.colors');\n\n/**\n * Constructor for TextAttribute objects.\n *\n * These objects manage a set of text attributes such as foreground/\n * background color, bold, faint, italic, blink, underline, and strikethrough.\n *\n * TextAttribute instances can be used to construct a DOM container implementing\n * the current attributes, or to test an existing DOM container for\n * compatibility with the current attributes.\n *\n * @constructor\n * @param {HTMLDocument} document The parent document to use when creating\n *     new DOM containers.\n */\nhterm.TextAttributes = function(document) {\n  this.document_ = document;\n  // These variables contain the source of the color as either:\n  // SRC_DEFAULT  (use context default)\n  // SRC_RGB      (specified in 'rgb( r, g, b)' form)\n  // number       (representing the index from color palette to use)\n  this.foregroundSource = this.SRC_DEFAULT;\n  this.backgroundSource = this.SRC_DEFAULT;\n\n  // These properties cache the value in the color table, but foregroundSource\n  // and backgroundSource contain the canonical values.\n  this.foreground = this.DEFAULT_COLOR;\n  this.background = this.DEFAULT_COLOR;\n\n  this.defaultForeground = 'rgb(255, 255, 255)';\n  this.defaultBackground = 'rgb(0, 0, 0)';\n\n  this.bold = false;\n  this.faint = false;\n  this.italic = false;\n  this.blink = false;\n  this.underline = false;\n  this.strikethrough = false;\n  this.inverse = false;\n  this.invisible = false;\n  this.wcNode = false;\n  this.tileData = null;\n\n  this.colorPalette = null;\n  this.resetColorPalette();\n};\n\n/**\n * If false, we ignore the bold attribute.\n *\n * This is used for fonts that have a bold version that is a different size\n * than the normal weight version.\n */\nhterm.TextAttributes.prototype.enableBold = true;\n\n/**\n * If true, use bright colors (if available) for bold text.\n *\n * This setting is independent of the enableBold setting.\n */\nhterm.TextAttributes.prototype.enableBoldAsBright = true;\n\n/**\n * A sentinel constant meaning \"whatever the default color is in this context\".\n */\nhterm.TextAttributes.prototype.DEFAULT_COLOR = new String('');\n\n/**\n * A constant string used to specify that source color is context default.\n */\nhterm.TextAttributes.prototype.SRC_DEFAULT = 'default';\n\n\n/**\n * A constant string used to specify that the source of a color is a valid\n * rgb( r, g, b) specifier.\n */\nhterm.TextAttributes.prototype.SRC_RGB = 'rgb';\n\n/**\n * The document object which should own the DOM nodes created by this instance.\n *\n * @param {HTMLDocument} document The parent document.\n */\nhterm.TextAttributes.prototype.setDocument = function(document) {\n  this.document_ = document;\n};\n\n/**\n * Create a deep copy of this object.\n *\n * @return {hterm.TextAttributes} A deep copy of this object.\n */\nhterm.TextAttributes.prototype.clone = function() {\n  var rv = new hterm.TextAttributes(null);\n\n  for (var key in this) {\n    rv[key] = this[key];\n  }\n\n  rv.colorPalette = this.colorPalette.concat();\n  return rv;\n};\n\n/**\n * Reset the current set of attributes.\n *\n * This does not affect the palette.  Use resetColorPalette() for that.\n * It also doesn't affect the tile data, it's not meant to.\n */\nhterm.TextAttributes.prototype.reset = function() {\n  this.foregroundSource = this.SRC_DEFAULT;\n  this.backgroundSource = this.SRC_DEFAULT;\n  this.foreground = this.DEFAULT_COLOR;\n  this.background = this.DEFAULT_COLOR;\n  this.bold = false;\n  this.faint = false;\n  this.italic = false;\n  this.blink = false;\n  this.underline = false;\n  this.strikethrough = false;\n  this.inverse = false;\n  this.invisible = false;\n  this.wcNode = false;\n};\n\n/**\n * Reset the color palette to the default state.\n */\nhterm.TextAttributes.prototype.resetColorPalette = function() {\n  this.colorPalette = lib.colors.colorPalette.concat();\n  this.syncColors();\n};\n\n/**\n * Test if the current attributes describe unstyled text.\n *\n * @return {boolean} True if the current attributes describe unstyled text.\n */\nhterm.TextAttributes.prototype.isDefault = function() {\n  return (this.foregroundSource == this.SRC_DEFAULT &&\n          this.backgroundSource == this.SRC_DEFAULT &&\n          !this.bold &&\n          !this.faint &&\n          !this.italic &&\n          !this.blink &&\n          !this.underline &&\n          !this.strikethrough &&\n          !this.inverse &&\n          !this.invisible &&\n          !this.wcNode &&\n          this.tileData == null);\n};\n\n/**\n * Create a DOM container (a span or a text node) with a style to match the\n * current set of attributes.\n *\n * This method will create a plain text node if the text is unstyled, or\n * an HTML span if the text is styled.  Due to lack of monospace wide character\n * fonts on certain systems (e.g. Chrome OS), we need to put each wide character\n * in a span of CSS class '.wc-node' which has double column width.\n * Each vt_tiledata tile is also represented by a span with a single\n * character, with CSS classes '.tile' and '.tile_<glyph number>'.\n *\n * @param {string} opt_textContent Optional text content for the new container.\n * @return {HTMLNode} An HTML span or text nodes styled to match the current\n *     attributes.\n */\nhterm.TextAttributes.prototype.createContainer = function(opt_textContent) {\n  if (this.isDefault())\n    return this.document_.createTextNode(opt_textContent);\n\n  var span = this.document_.createElement('span');\n  var style = span.style;\n\n  if (this.foreground != this.DEFAULT_COLOR)\n    style.color = this.foreground;\n\n  if (this.background != this.DEFAULT_COLOR)\n    style.backgroundColor = this.background;\n\n  if (this.enableBold && this.bold)\n    style.fontWeight = 'bold';\n\n  if (this.faint)\n    span.faint = true;\n\n  if (this.italic)\n    style.fontStyle = 'italic';\n\n  if (this.blink)\n    style.fontStyle = 'italic';\n\n  var textDecoration = '';\n  if (this.underline) {\n    textDecoration += ' underline';\n    span.underline = true;\n  }\n  if (this.strikethrough) {\n    textDecoration += ' line-through';\n    span.strikethrough = true;\n  }\n  if (textDecoration) {\n    style.textDecoration = textDecoration;\n  }\n\n  if (this.wcNode) {\n    span.className = 'wc-node';\n    span.wcNode = true;\n  }\n\n  if (this.tileData != null) {\n    // This could be a wcNode too, so we add to the className here.\n    span.className += ' tile tile_' + this.tileData;\n    span.tileNode = true;\n  }\n\n  if (opt_textContent)\n    span.textContent = opt_textContent;\n\n  return span;\n};\n\n/**\n * Tests if the provided object (string, span or text node) has the same\n * style as this TextAttributes instance.\n *\n * This indicates that text with these attributes could be inserted directly\n * into the target DOM node.\n *\n * For the purposes of this method, a string is considered a text node.\n *\n * @param {string|HTMLNode} obj The object to test.\n * @return {boolean} True if the provided container has the same style as\n *     this attributes instance.\n */\nhterm.TextAttributes.prototype.matchesContainer = function(obj) {\n  if (typeof obj == 'string' || obj.nodeType == 3)\n    return this.isDefault();\n\n  var style = obj.style;\n\n  // We don't want to put multiple characters in a wcNode or a tile.\n  // See the comments in createContainer.\n  return (!(this.wcNode || obj.wcNode) &&\n          !(this.tileData != null || obj.tileNode) &&\n          this.foreground == style.color &&\n          this.background == style.backgroundColor &&\n          (this.enableBold && this.bold) == !!style.fontWeight &&\n          (this.blink || this.italic) == !!style.fontStyle &&\n          !!this.underline == !!obj.underline &&\n          !!this.strikethrough == !!obj.strikethrough);\n};\n\nhterm.TextAttributes.prototype.setDefaults = function(foreground, background) {\n  this.defaultForeground = foreground;\n  this.defaultBackground = background;\n\n  this.syncColors();\n};\n\n/**\n * Updates foreground and background properties based on current indices and\n * other state.\n *\n * @param {string} terminalForeground The terminal foreground color for use as\n *     inverse text background.\n * @param {string} terminalBackground The terminal background color for use as\n *     inverse text foreground.\n *\n */\nhterm.TextAttributes.prototype.syncColors = function() {\n  function getBrightIndex(i) {\n    if (i < 8) {\n      // If the color is from the lower half of the ANSI 16, add 8.\n      return i + 8;\n    }\n\n    // If it's not from the 16 color palette, ignore bold requests.  This\n    // matches the behavior of gnome-terminal.\n    return i;\n  }\n\n  var foregroundSource = this.foregroundSource;\n  var backgroundSource = this.backgroundSource;\n  var defaultForeground = this.DEFAULT_COLOR;\n  var defaultBackground = this.DEFAULT_COLOR;\n\n  if (this.inverse) {\n    foregroundSource = this.backgroundSource;\n    backgroundSource = this.foregroundSource;\n    // We can't inherit the container's color anymore.\n    defaultForeground = this.defaultBackground;\n    defaultBackground = this.defaultForeground;\n  }\n\n  if (this.enableBoldAsBright && this.bold) {\n    if (foregroundSource != this.SRC_DEFAULT &&\n        foregroundSource != this.SRC_RGB) {\n      foregroundSource = getBrightIndex(foregroundSource);\n    }\n  }\n\n  if (this.invisible) {\n    foregroundSource = backgroundSource;\n    defaultForeground = this.defaultBackground;\n  }\n\n  // Set fore/background colors unless already specified in rgb(r, g, b) form.\n  if (foregroundSource != this.SRC_RGB) {\n    this.foreground = ((foregroundSource == this.SRC_DEFAULT) ?\n                       defaultForeground : this.colorPalette[foregroundSource]);\n  }\n\n  if (this.faint && !this.invisible) {\n    var colorToMakeFaint = ((this.foreground == this.DEFAULT_COLOR) ?\n                            this.defaultForeground : this.foreground);\n    this.foreground = lib.colors.mix(colorToMakeFaint, 'rgb(0, 0, 0)', 0.3333);\n  }\n\n  if (backgroundSource != this.SRC_RGB) {\n    this.background = ((backgroundSource == this.SRC_DEFAULT) ?\n                       defaultBackground : this.colorPalette[backgroundSource]);\n  }\n};\n\n/**\n * Static method used to test if the provided objects (strings, spans or\n * text nodes) have the same style.\n *\n * For the purposes of this method, a string is considered a text node.\n *\n * @param {string|HTMLNode} obj1 An object to test.\n * @param {string|HTMLNode} obj2 Another object to test.\n * @return {boolean} True if the containers have the same style.\n */\nhterm.TextAttributes.containersMatch = function(obj1, obj2) {\n  if (typeof obj1 == 'string')\n    return hterm.TextAttributes.containerIsDefault(obj2);\n\n  if (obj1.nodeType != obj2.nodeType)\n    return false;\n\n  if (obj1.nodeType == 3)\n    return true;\n\n  var style1 = obj1.style;\n  var style2 = obj2.style;\n\n  return (style1.color == style2.color &&\n          style1.backgroundColor == style2.backgroundColor &&\n          style1.fontWeight == style2.fontWeight &&\n          style1.fontStyle == style2.fontStyle &&\n          style1.textDecoration == style2.textDecoration);\n};\n\n/**\n * Static method to test if a given DOM container represents unstyled text.\n *\n * For the purposes of this method, a string is considered a text node.\n *\n * @param {string|HTMLNode} obj1 An object to test.\n * @return {boolean} True if the object is unstyled.\n */\nhterm.TextAttributes.containerIsDefault = function(obj) {\n  return typeof obj == 'string'  || obj.nodeType == 3;\n};\n\n/**\n * Static method to get the column width of a node's textContent.\n *\n * @param {HTMLElement} node The HTML element to get the width of textContent\n *     from.\n * @return {integer} The column width of the node's textContent.\n */\nhterm.TextAttributes.nodeWidth = function(node) {\n  if (node.wcNode) {\n    return lib.wc.strWidth(node.textContent);\n  } else {\n    return node.textContent.length;\n  }\n}\n\n/**\n * Static method to get the substr of a node's textContent.  The start index\n * and substr width are computed in column width.\n *\n * @param {HTMLElement} node The HTML element to get the substr of textContent\n *     from.\n * @param {integer} start The starting offset in column width.\n * @param {integer} width The width to capture in column width.\n * @return {integer} The extracted substr of the node's textContent.\n */\nhterm.TextAttributes.nodeSubstr = function(node, start, width) {\n  if (node.wcNode) {\n    return lib.wc.substr(node.textContent, start, width);\n  } else {\n    return node.textContent.substr(start, width);\n  }\n}\n\n/**\n * Static method to get the substring based of a node's textContent.  The\n * start index of end index are computed in column width.\n *\n * @param {HTMLElement} node The HTML element to get the substr of textContent\n *     from.\n * @param {integer} start The starting offset in column width.\n * @param {integer} end The ending offset in column width.\n * @return {integer} The extracted substring of the node's textContent.\n */\nhterm.TextAttributes.nodeSubstring = function(node, start, end) {\n  if (node.wcNode) {\n    return lib.wc.substring(node.textContent, start, end);\n  } else {\n    return node.textContent.substring(start, end);\n  }\n}\n\n/**\n * Static method to split a string into contiguous runs of single-width\n * characters and runs of double-width characters.\n *\n * @param {string} str The string to split.\n * @return {Array} An array of objects that contain substrings of str, where\n *     each substring is either a contiguous runs of single-width characters\n *     or a double-width character.  For object that contains a double-width\n *     character, its wcNode property is set to true.\n */\nhterm.TextAttributes.splitWidecharString = function(str) {\n  var rv = [];\n  var base = 0, length = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i);\n    if (c < 128 || lib.wc.charWidth(c) == 1) {\n      length++;\n    } else {\n      if (length) {\n        rv.push({str: str.substr(base, length)});\n      }\n      rv.push({str: str.substr(i, 1), wcNode: true});\n      base = i + 1;\n      length = 0;\n    }\n  }\n\n  if (length)\n    rv.push({str: str.substr(base, length)});\n\n  return rv;\n}\n// SOURCE FILE: hterm/js/hterm_vt.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.colors', 'lib.f', 'lib.UTF8Decoder',\n          'hterm.VT.CharacterMap');\n\n/**\n * Constructor for the VT escape sequence interpreter.\n *\n * The interpreter operates on a terminal object capable of performing cursor\n * move operations, painting characters, etc.\n *\n * This interpreter is intended to be compatible with xterm, though it\n * ignores some of the more esoteric escape sequences.\n *\n * Some sequences are marked \"Will not implement\", meaning that they aren't\n * considered relevant to hterm and will probably never be implemented.\n *\n * Others are marked \"Not currently implemented\", meaning that they are lower\n * priority items that may be useful to implement at some point.\n *\n * See also:\n *   [VT100] VT100 User Guide\n *           http://vt100.net/docs/vt100-ug/chapter3.html\n *   [VT510] VT510 Video Terminal Programmer Information\n *           http://vt100.net/docs/vt510-rm/contents\n *   [XTERM] Xterm Control Sequences\n *           http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n *   [CTRL]  Wikipedia: C0 and C1 Control Codes\n *           http://en.wikipedia.org/wiki/C0_and_C1_control_codes\n *   [CSI]   Wikipedia: ANSI Escape Code\n *           http://en.wikipedia.org/wiki/Control_Sequence_Introducer\n *   man 5 terminfo, man infocmp, infocmp -L xterm-new\n *\n * @param {hterm.Terminal} terminal Terminal to use with the interpreter.\n */\nhterm.VT = function(terminal) {\n  /**\n   * The display terminal object associated with this virtual terminal.\n   */\n  this.terminal = terminal;\n\n  terminal.onMouse = this.onTerminalMouse_.bind(this);\n  this.mouseReport = this.MOUSE_REPORT_DISABLED;\n\n  // Parse state left over from the last parse.  You should use the parseState\n  // instance passed into your parse routine, rather than reading\n  // this.parseState_ directly.\n  this.parseState_ = new hterm.VT.ParseState(this.parseUnknown_);\n\n  // Any \"leading modifiers\" for the escape sequence, such as '?', ' ', or the\n  // other modifiers handled in this.parseCSI_.\n  this.leadingModifier_ = '';\n\n  // Any \"trailing modifiers\".  Same character set as a leading modifier,\n  // except these are found after the numeric arguments.\n  this.trailingModifier_ = '';\n\n  // Whether or not to respect the escape codes for setting terminal width.\n  this.allowColumnWidthChanges_ = false;\n\n  // The amount of time we're willing to wait for the end of an OSC sequence.\n  this.oscTimeLimit_ = 20000;\n\n  // Construct a regular expression to match the known one-byte control chars.\n  // This is used in parseUnknown_ to quickly scan a string for the next\n  // control character.\n  var cc1 = Object.keys(hterm.VT.CC1).map(\n      function(e) {\n        return '\\\\x' + lib.f.zpad(e.charCodeAt().toString(16), 2)\n      }).join('');\n  this.cc1Pattern_ = new RegExp('[' + cc1 + ']');\n\n  // Decoder to maintain UTF-8 decode state.\n  this.utf8Decoder_ = new lib.UTF8Decoder();\n\n  /**\n   * Whether to accept the 8-bit control characters.\n   *\n   * An 8-bit control character is one with the eighth bit set.  These\n   * didn't work on 7-bit terminals so they all have two byte equivalents.\n   * Most hosts still only use the two-byte versions.\n   *\n   * We ignore 8-bit control codes by default.  This is in order to avoid\n   * issues with \"accidental\" usage of codes that need to be terminated.\n   * The \"accident\" usually involves cat'ing binary data.\n   */\n  this.enable8BitControl = false;\n\n  /**\n   * Whether to allow the OSC 52 sequence to write to the system clipboard.\n   */\n  this.enableClipboardWrite = true;\n\n  /**\n   * Respect the host's attempt to change the cursor blink status using\n   * the DEC Private mode 12.\n   */\n  this.enableDec12 = false;\n\n  /**\n   * The expected encoding method for data received from the host.\n   */\n  this.characterEncoding = 'utf-8';\n\n  /**\n   * Max length of an unterminated DCS, OSC, PM or APC sequence before we give\n   * up and ignore the code.\n   *\n   * These all end with a String Terminator (ST, '\\x9c', ESC '\\\\') or\n   * (BEL, '\\x07') character, hence the \"string sequence\" moniker.\n   */\n  this.maxStringSequence = 1024;\n\n  /**\n   * If true, emit warnings when we encounter a control character or escape\n   * sequence that we don't recognize or explicitly ignore.\n   */\n  this.warnUnimplemented = true;\n\n  /**\n   * The default G0...G3 character maps.\n   */\n  this.G0 = hterm.VT.CharacterMap.maps['B'];\n  this.G1 = hterm.VT.CharacterMap.maps['0'];\n  this.G2 = hterm.VT.CharacterMap.maps['B'];\n  this.G3 = hterm.VT.CharacterMap.maps['B'];\n\n  /**\n   * The 7-bit visible character set.\n   *\n   * This is a mapping from inbound data to display glyph.  The GL set\n   * contains the 94 bytes from 0x21 to 0x7e.\n   *\n   * The default GL set is 'B', US ASCII.\n   */\n  this.GL = 'G0';\n\n  /**\n   * The 8-bit visible character set.\n   *\n   * This is a mapping from inbound data to display glyph.  The GR set\n   * contains the 94 bytes from 0xa1 to 0xfe.\n   */\n  this.GR = 'G0';\n\n  // Saved state used in DECSC.\n  //\n  // This is a place to store a copy VT state, it is *not* the active state.\n  this.savedState_ = new hterm.VT.CursorState(this);\n};\n\n/**\n * No mouse events.\n */\nhterm.VT.prototype.MOUSE_REPORT_DISABLED = 0;\n\n/**\n * DECSET mode 1000.\n *\n * Report mouse down/up events only.\n */\nhterm.VT.prototype.MOUSE_REPORT_CLICK = 1;\n\n/**\n * DECSET mode 1002.\n *\n * Report mouse down/up and movement while a button is down.\n */\nhterm.VT.prototype.MOUSE_REPORT_DRAG = 3;\n\n/**\n * ParseState constructor.\n *\n * This object tracks the current state of the parse.  It has fields for the\n * current buffer, position in the buffer, and the parse function.\n *\n * @param {function} defaultFunc The default parser function.\n * @param {string} opt_buf Optional string to use as the current buffer.\n */\nhterm.VT.ParseState = function(defaultFunction, opt_buf) {\n  this.defaultFunction = defaultFunction;\n  this.buf = opt_buf || null;\n  this.pos = 0;\n  this.func = defaultFunction;\n  this.args = [];\n};\n\n/**\n * Reset the parser function, buffer, and position.\n */\nhterm.VT.ParseState.prototype.reset = function(opt_buf) {\n  this.resetParseFunction();\n  this.resetBuf(opt_buf || '');\n  this.resetArguments();\n};\n\n/**\n * Reset the parser function only.\n */\nhterm.VT.ParseState.prototype.resetParseFunction = function() {\n  this.func = this.defaultFunction;\n};\n\n/**\n * Reset the buffer and position only.\n *\n * @param {string} buf Optional new value for buf, defaults to null.\n */\nhterm.VT.ParseState.prototype.resetBuf = function(opt_buf) {\n  this.buf = (typeof opt_buf == 'string') ? opt_buf : null;\n  this.pos = 0;\n};\n\n/**\n * Reset the arguments list only.\n *\n * @param {string} opt_arg_zero Optional initial value for args[0].\n */\nhterm.VT.ParseState.prototype.resetArguments = function(opt_arg_zero) {\n  this.args.length = 0;\n  if (typeof opt_arg_zero != 'undefined')\n    this.args[0] = opt_arg_zero;\n};\n\n/**\n * Get an argument as an integer.\n *\n * @param {number} argnum The argument number to retreive.\n */\nhterm.VT.ParseState.prototype.iarg = function(argnum, defaultValue) {\n  var str = this.args[argnum];\n  if (str) {\n    var ret = parseInt(str, 10);\n    // An argument of zero is treated as the default value.\n    if (ret == 0)\n      ret = defaultValue;\n    return ret;\n  }\n  return defaultValue;\n};\n\n/**\n * Advance the parse postion.\n *\n * @param {integer} count The number of bytes to advance.\n */\nhterm.VT.ParseState.prototype.advance = function(count) {\n  this.pos += count;\n};\n\n/**\n * Return the remaining portion of the buffer without affecting the parse\n * position.\n *\n * @return {string} The remaining portion of the buffer.\n */\nhterm.VT.ParseState.prototype.peekRemainingBuf = function() {\n  return this.buf.substr(this.pos);\n};\n\n/**\n * Return the next single character in the buffer without affecting the parse\n * position.\n *\n * @return {string} The next character in the buffer.\n */\nhterm.VT.ParseState.prototype.peekChar = function() {\n  return this.buf.substr(this.pos, 1);\n};\n\n/**\n * Return the next single character in the buffer and advance the parse\n * position one byte.\n *\n * @return {string} The next character in the buffer.\n */\nhterm.VT.ParseState.prototype.consumeChar = function() {\n  return this.buf.substr(this.pos++, 1);\n};\n\n/**\n * Return true if the buffer is empty, or the position is past the end.\n */\nhterm.VT.ParseState.prototype.isComplete = function() {\n  return this.buf == null || this.buf.length <= this.pos;\n};\n\nhterm.VT.CursorState = function(vt) {\n  this.vt_ = vt;\n  this.save();\n};\n\nhterm.VT.CursorState.prototype.save = function() {\n  this.cursor = this.vt_.terminal.saveCursor();\n\n  this.textAttributes = this.vt_.terminal.getTextAttributes().clone();\n\n  this.GL = this.vt_.GL;\n  this.GR = this.vt_.GR;\n\n  this.G0 = this.vt_.G0;\n  this.G1 = this.vt_.G1;\n  this.G2 = this.vt_.G2;\n  this.G3 = this.vt_.G3;\n};\n\nhterm.VT.CursorState.prototype.restore = function() {\n  this.vt_.terminal.restoreCursor(this.cursor);\n\n  this.vt_.terminal.setTextAttributes(this.textAttributes.clone());\n\n  this.vt_.GL = this.GL;\n  this.vt_.GR = this.GR;\n\n  this.vt_.G0 = this.G0;\n  this.vt_.G1 = this.G1;\n  this.vt_.G2 = this.G2;\n  this.vt_.G3 = this.G3;\n};\n\nhterm.VT.prototype.reset = function() {\n  this.G0 = hterm.VT.CharacterMap.maps['B'];\n  this.G1 = hterm.VT.CharacterMap.maps['0'];\n  this.G2 = hterm.VT.CharacterMap.maps['B'];\n  this.G3 = hterm.VT.CharacterMap.maps['B'];\n\n  this.GL = 'G0';\n  this.GR = 'G0';\n\n  this.savedState_ = new hterm.VT.CursorState(this);\n\n  this.mouseReport = this.MOUSE_REPORT_DISABLED;\n};\n\n/**\n * Handle terminal mouse events.\n *\n * See the \"Mouse Tracking\" section of [xterm].\n */\nhterm.VT.prototype.onTerminalMouse_ = function(e) {\n  if (this.mouseReport == this.MOUSE_REPORT_DISABLED)\n    return;\n\n  // Temporary storage for our response.\n  var response;\n\n  // Modifier key state.\n  var mod = 0;\n  if (e.shiftKey)\n    mod |= 4;\n  if (e.metaKey || (this.terminal.keyboard.altIsMeta && e.altKey))\n    mod |= 8;\n  if (e.ctrlKey)\n    mod |= 16;\n\n  // TODO(rginda): We should also support mode 1005 and/or 1006 to extend the\n  // coordinate space.  Though, after poking around just a little, I wasn't\n  // able to get vi or emacs to use either of these modes.\n  var x = String.fromCharCode(lib.f.clamp(e.terminalColumn + 32, 32, 255));\n  var y = String.fromCharCode(lib.f.clamp(e.terminalRow + 32, 32, 255));\n\n  switch (e.type) {\n    case 'mousewheel':\n      // Mouse wheel is treated as button 1 or 2 plus an additional 64.\n      b = ((e.wheelDeltaY > 0) ? 0 : 1) + 96;\n      b |= mod;\n      response = '\\x1b[M' + String.fromCharCode(b) + x + y;\n\n      // Keep the terminal from scrolling.\n      e.preventDefault();\n      break;\n\n    case 'mousedown':\n      // Buttons are encoded as button number plus 32.\n      var b = Math.min(e.which - 1, 2) + 32;\n\n      // And mix in the modifier keys.\n      b |= mod;\n\n      response = '\\x1b[M' + String.fromCharCode(b) + x + y;\n      break;\n\n    case 'mouseup':\n      // Mouse up has no indication of which button was released.\n      response = '\\x1b[M\\x23' + x + y;\n      break;\n\n    case 'mousemove':\n      if (this.mouseReport == this.MOUSE_REPORT_DRAG && e.which) {\n        // Standard button bits.\n        b = 32 + Math.min(e.which - 1, 2);\n\n        // Add 32 to indicate mouse motion.\n        b += 32;\n\n        // And mix in the modifier keys.\n        b |= mod;\n\n        response = '\\x1b[M' + String.fromCharCode(b) + x + y;\n      }\n\n      break;\n\n    case 'click':\n    case 'dblclick':\n      break;\n\n    default:\n      console.error('Unknown mouse event: ' + e.type, e);\n      break;\n  }\n\n  if (response)\n    this.terminal.io.sendString(response);\n};\n\n/**\n * Interpret a string of characters, displaying the results on the associated\n * terminal object.\n *\n * The buffer will be decoded according to the 'receive-encoding' preference.\n */\nhterm.VT.prototype.interpret = function(buf) {\n  this.parseState_.resetBuf(this.decode(buf));\n\n  while (!this.parseState_.isComplete()) {\n    var func = this.parseState_.func;\n    var pos = this.parseState_.pos;\n    var buf = this.parseState_.buf;\n\n    this.parseState_.func.call(this, this.parseState_);\n\n    if (this.parseState_.func == func && this.parseState_.pos == pos &&\n        this.parseState_.buf == buf) {\n      throw 'Parser did not alter the state!';\n    }\n  }\n};\n\n/**\n * Decode a string according to the 'receive-encoding' preference.\n */\nhterm.VT.prototype.decode = function(str) {\n  if (this.characterEncoding == 'utf-8')\n    return this.decodeUTF8(str);\n\n  return str;\n};\n\n/**\n * Encode a UTF-16 string as UTF-8.\n *\n * See also: http://en.wikipedia.org/wiki/UTF-16\n */\nhterm.VT.prototype.encodeUTF8 = function(str) {\n  return lib.encodeUTF8(str);\n};\n\n/**\n * Decode a UTF-8 string into UTF-16.\n */\nhterm.VT.prototype.decodeUTF8 = function(str) {\n  return this.utf8Decoder_.decode(str);\n};\n\n/**\n * The default parse function.\n *\n * This will scan the string for the first 1-byte control character (C0/C1\n * characters from [CTRL]).  Any plain text coming before the code will be\n * printed to the terminal, then the control character will be dispatched.\n */\nhterm.VT.prototype.parseUnknown_ = function(parseState) {\n  var self = this;\n\n  function print(str) {\n    if (self[self.GL].GL)\n      str = self[self.GL].GL(str);\n\n    if (self[self.GR].GR)\n      str = self[self.GR].GR(str);\n\n    self.terminal.print(str);\n  };\n\n  // Search for the next contiguous block of plain text.\n  var buf = parseState.peekRemainingBuf();\n  var nextControl = buf.search(this.cc1Pattern_);\n\n  if (nextControl == 0) {\n    // We've stumbled right into a control character.\n    this.dispatch('CC1', buf.substr(0, 1), parseState);\n    parseState.advance(1);\n    return;\n  }\n\n  if (nextControl == -1) {\n    // There are no control characters in this string.\n    print(buf);\n    parseState.reset();\n    return;\n  }\n\n  print(buf.substr(0, nextControl));\n  this.dispatch('CC1', buf.substr(nextControl, 1), parseState);\n  parseState.advance(nextControl + 1);\n};\n\n/**\n * Parse a Control Sequence Introducer code and dispatch it.\n *\n * See [CSI] for some useful information about these codes.\n */\nhterm.VT.prototype.parseCSI_ = function(parseState) {\n  var ch = parseState.peekChar();\n  var args = parseState.args;\n\n  if (ch >= '@' && ch <= '~') {\n    // This is the final character.\n    this.dispatch('CSI', this.leadingModifier_ + this.trailingModifier_ + ch,\n                  parseState);\n    parseState.resetParseFunction();\n\n  } else if (ch == ';') {\n    // Parameter delimeter.\n    if (this.trailingModifier_) {\n      // Parameter delimiter after the trailing modifier.  That's a paddlin'.\n      parseState.resetParseFunction();\n\n    } else {\n      if (!args.length) {\n        // They omitted the first param, we need to supply it.\n        args.push('');\n      }\n\n      args.push('');\n    }\n\n  } else if (ch >= '0' && ch <= '9') {\n    // Next byte in the current parameter.\n\n    if (this.trailingModifier_) {\n      // Numeric parameter after the trailing modifier.  That's a paddlin'.\n      parseState.resetParseFunction();\n    } else {\n      if (!args.length) {\n        args[0] = ch;\n      } else {\n        args[args.length - 1] += ch;\n      }\n    }\n\n  } else if (ch >= ' ' && ch <= '?' && ch != ':') {\n    // Modifier character.\n    if (!args.length) {\n      this.leadingModifier_ += ch;\n    } else {\n      this.trailingModifier_ += ch;\n    }\n\n  } else if (this.cc1Pattern_.test(ch)) {\n    // Control character.\n    this.dispatch('CC1', ch, parseState);\n\n  } else {\n    // Unexpected character in sequence, bail out.\n    parseState.resetParseFunction();\n  }\n\n  parseState.advance(1);\n};\n\n/**\n * Skip over the string until the next String Terminator (ST, 'ESC \\') or\n * Bell (BEL, '\\x07').\n *\n * The string is accumulated in parseState.args[0].  Make sure to reset the\n * arguments (with parseState.resetArguments) before starting the parse.\n *\n * You can detect that parsing in complete by checking that the parse\n * function has changed back to the default parse function.\n *\n * If we encounter more than maxStringSequence characters, we send back\n * the unterminated sequence to be re-parsed with the default parser function.\n *\n * @return {boolean} If true, parsing is ongoing or complete.  If false, we've\n *     exceeded the max string sequence.\n */\nhterm.VT.prototype.parseUntilStringTerminator_ = function(parseState) {\n  var buf = parseState.peekRemainingBuf();\n  var nextTerminator = buf.search(/(\\x1b\\\\|\\x07)/);\n  var args = parseState.args;\n\n  if (!args.length) {\n    args[0] = '';\n    args[1] = new Date();\n  }\n\n  if (nextTerminator == -1) {\n    // No terminator here, have to wait for the next string.\n\n    args[0] += buf;\n\n    var abortReason;\n\n    if (args[0].length > this.maxStringSequence)\n      abortReason = 'too long: ' + args[0].length;\n\n    if (args[0].indexOf('\\x1b') != -1)\n      abortReason = 'embedded escape: ' + args[0].indexOf('\\x1b');\n\n    if (new Date() - args[1] > this.oscTimeLimit_)\n      abortReason = 'timeout expired: ' + new Date() - args[1];\n\n    if (abortReason) {\n      console.log('parseUntilStringTerminator_: aborting: ' + abortReason,\n                  args[0]);\n      parseState.reset(args[0]);\n      return false;\n    }\n\n    parseState.advance(buf.length);\n    return true;\n  }\n\n  if (args[0].length + nextTerminator > this.maxStringSequence) {\n    // We found the end of the sequence, but we still think it's too long.\n    parseState.reset(args[0] + buf);\n    return false;\n  }\n\n  args[0] += buf.substr(0, nextTerminator);\n\n  parseState.resetParseFunction();\n  parseState.advance(nextTerminator +\n                     (buf.substr(nextTerminator, 1) == '\\x1b' ? 2 : 1));\n\n  return true;\n};\n\n/**\n * Dispatch to the function that handles a given CC1, ESC, or CSI or VT52 code.\n */\nhterm.VT.prototype.dispatch = function(type, code, parseState) {\n  var handler = hterm.VT[type][code];\n  if (!handler) {\n    if (this.warnUnimplemented)\n      console.warn('Unknown ' + type + ' code: ' + JSON.stringify(code));\n    return;\n  }\n\n  if (handler == hterm.VT.ignore) {\n    if (this.warnUnimplemented)\n      console.warn('Ignored ' + type + ' code: ' + JSON.stringify(code));\n    return;\n  }\n\n  if (type == 'CC1' && code > '\\x7f' && !this.enable8BitControl) {\n    // It's kind of a hack to put this here, but...\n    //\n    // If we're dispatching a 'CC1' code, and it's got the eighth bit set,\n    // but we're not supposed to handle 8-bit codes?  Just ignore it.\n    //\n    // This prevents an errant (DCS, '\\x90'), (OSC, '\\x9d'), (PM, '\\x9e') or\n    // (APC, '\\x9f') from locking up the terminal waiting for its expected\n    // (ST, '\\x9c') or (BEL, '\\x07').\n    console.warn('Ignoring 8-bit control code: 0x' +\n                 code.charCodeAt(0).toString(16));\n    return;\n  }\n\n  handler.apply(this, [parseState, code]);\n};\n\n/**\n * Set one of the ANSI defined terminal mode bits.\n *\n * Invoked in response to SM/RM.\n *\n * Expected values for code:\n *   2 - Keyboard Action Mode (AM).  Will not implement.\n *   4 - Insert Mode (IRM).\n *   12 - Send/receive (SRM).  Will not implement.\n *   20 - Automatic Newline (LNM).\n *\n * Unexpected and unimplemented values are silently ignored.\n */\nhterm.VT.prototype.setANSIMode = function(code, state) {\n  if (code == '4') {\n    this.terminal.setInsertMode(state);\n  } else if (code == '20') {\n    this.terminal.setAutoCarriageReturn(state);\n  } else if (this.warnUnimplemented) {\n    console.warn('Unimplemented ANSI Mode: ' + code);\n  }\n};\n\n/**\n * Set or reset one of the DEC Private modes.\n *\n * Invoked in response to DECSET/DECRST.\n *\n * Expected values for code:\n *      1 - Application Cursor Keys (DECCKM).\n *      2 - [!] Designate USASCII for character sets G0-G3 (DECANM), and set\n *          VT100 mode.\n *      3 - 132 Column Mode (DECCOLM).\n *      4 - [x] Smooth (Slow) Scroll (DECSCLM).\n *      5 - Reverse Video (DECSCNM).\n *      6 - Origin Mode (DECOM).\n *      7 - Wraparound Mode (DECAWM).\n *      8 - [x] Auto-repeat Keys (DECARM).\n *      9 - [!] Send Mouse X & Y on button press.\n *     10 - [x] Show toolbar (rxvt).\n *     12 - Start Blinking Cursor (att610).\n *     18 - [!] Print form feed (DECPFF).\n *     19 - [x] Set print extent to full screen (DECPEX).\n *     25 - Show Cursor (DECTCEM).\n *     30 - [!] Show scrollbar (rxvt).\n *     35 - [x] Enable font-shifting functions (rxvt).\n *     38 - [x] Enter Tektronix Mode (DECTEK).\n *     40 - Allow 80 - 132 Mode.\n *     41 - [!] more(1) fix (see curses resource).\n *     42 - [!] Enable Nation Replacement Character sets (DECNRCM).\n *     44 - [!] Turn On Margin Bell.\n *     45 - Reverse-wraparound Mode.\n *     46 - [x] Start Logging.\n *     47 - [!] Use Alternate Screen Buffer.\n *     66 - [!] Application keypad (DECNKM).\n *     67 - Backarrow key sends backspace (DECBKM).\n *   1000 - Send Mouse X & Y on button press and release.  (MOUSE_REPORT_CLICK)\n *   1001 - [!] Use Hilite Mouse Tracking.\n *   1002 - Use Cell Motion Mouse Tracking.  (MOUSE_REPORT_DRAG)\n *   1003 - [!] Use All Motion Mouse Tracking.\n *   1004 - [!] Send FocusIn/FocusOut events.\n *   1005 - [!] Enable Extended Mouse Mode.\n *   1010 - Scroll to bottom on tty output (rxvt).\n *   1011 - Scroll to bottom on key press (rxvt).\n *   1034 - [x] Interpret \"meta\" key, sets eighth bit.\n *   1035 - [x] Enable special modifiers for Alt and NumLock keys.\n *   1036 - Send ESC when Meta modifies a key.\n *   1037 - [!] Send DEL from the editing-keypad Delete key.\n *   1039 - Send ESC when Alt modifies a key.\n *   1040 - [x] Keep selection even if not highlighted.\n *   1041 - [x] Use the CLIPBOARD selection.\n *   1042 - [!] Enable Urgency window manager hint when Control-G is received.\n *   1043 - [!] Enable raising of the window when Control-G is received.\n *   1047 - [!] Use Alternate Screen Buffer.\n *   1048 - Save cursor as in DECSC.\n *   1049 - Save cursor as in DECSC and use Alternate Screen Buffer, clearing\n *          it first. (This may be disabled by the titeInhibit resource). This\n *          combines the effects of the 1047 and 1048 modes. Use this with\n *          terminfo-based applications rather than the 47 mode.\n *   1050 - [!] Set terminfo/termcap function-key mode.\n *   1051 - [x] Set Sun function-key mode.\n *   1052 - [x] Set HP function-key mode.\n *   1053 - [x] Set SCO function-key mode.\n *   1060 - [x] Set legacy keyboard emulation (X11R6).\n *   1061 - [!] Set VT220 keyboard emulation.\n *   2004 - Set bracketed paste mode.\n *\n * [!] - Not currently implemented, may be in the future.\n * [x] - Will not implement.\n */\nhterm.VT.prototype.setDECMode = function(code, state) {\n  switch (code) {\n    case '1':  // DECCKM\n      this.terminal.keyboard.applicationCursor = state;\n      break;\n\n    case '3':  // DECCOLM\n      if (this.allowColumnWidthChanges_) {\n        this.terminal.setWidth(state ? 132 : 80);\n\n        this.terminal.clearHome();\n        this.terminal.setVTScrollRegion(null, null);\n      }\n      break;\n\n    case '5':  // DECSCNM\n      this.terminal.setReverseVideo(state);\n      break;\n\n    case '6':  // DECOM\n      this.terminal.setOriginMode(state);\n      break;\n\n    case '7':  // DECAWM\n      this.terminal.setWraparound(state);\n      break;\n\n    case '12':  // att610\n      if (this.enableDec12)\n        this.terminal.setCursorBlink(state);\n      break;\n\n    case '25':  // DECTCEM\n      this.terminal.setCursorVisible(state);\n      break;\n\n    case '40':  // no-spec\n      this.terminal.allowColumnWidthChanges_ = state;\n      break;\n\n    case '45':  // no-spec\n      this.terminal.setReverseWraparound(state);\n      break;\n\n    case '67':  // DECBKM\n      this.terminal.keyboard.backspaceSendsBackspace = state;\n      break;\n\n    case '1000':  // Report on mouse clicks only.\n      this.mouseReport = (\n          state ? this.MOUSE_REPORT_CLICK : this.MOUSE_REPORT_DISABLED);\n      break;\n\n    case '1002':  // Report on mouse clicks and drags\n      this.mouseReport = (\n          state ? this.MOUSE_REPORT_DRAG : this.MOUSE_REPORT_DISABLED);\n      break;\n\n    case '1010':  // rxvt\n      this.terminal.scrollOnOutput = state;\n      break;\n\n    case '1011':  // rxvt\n      this.terminal.scrollOnKeystroke = state;\n      break;\n\n    case '1036':  // no-spec\n      this.terminal.keyboard.metaSendsEscape = state;\n      break;\n\n    case '1039':  // no-spec\n      if (state) {\n        if (!this.terminal.keyboard.previousAltSendsWhat_) {\n          this.terminal.keyboard.previousAltSendsWhat_ =\n              this.terminal.keyboard.altSendsWhat;\n          this.terminal.keyboard.altSendsWhat = 'escape';\n        }\n      } else if (this.terminal.keyboard.previousAltSendsWhat_) {\n        this.terminal.keyboard.altSendsWhat =\n            this.terminal.keyboard.previousAltSendsWhat_;\n        this.terminal.keyboard.previousAltSendsWhat_ = null;\n      }\n      break;\n\n    case '47':\n    case '1047':  // no-spec\n      this.terminal.setAlternateMode(state);\n      break;\n\n    case '1048':  // Save cursor as in DECSC.\n      this.savedState_.save();\n\n    case '1049':  // 1047 + 1048 + clear.\n      if (state) {\n        this.savedState_.save();\n        this.terminal.setAlternateMode(state);\n        this.terminal.clear();\n      } else {\n        this.terminal.setAlternateMode(state);\n        this.savedState_.restore();\n      }\n\n      break;\n\n    case '2004':  // Bracketed paste mode.\n      this.terminal.setBracketedPaste(state);\n      break;\n\n    default:\n      if (this.warnUnimplemented)\n        console.warn('Unimplemented DEC Private Mode: ' + code);\n      break;\n  }\n};\n\n/**\n * Function shared by control characters and escape sequences that are\n * ignored.\n */\nhterm.VT.ignore = function() {};\n\n/**\n * Collection of control characters expressed in a single byte.\n *\n * This includes the characters from the C0 and C1 sets (see [CTRL]) that we\n * care about.  Two byte versions of the C1 codes are defined in the\n * hterm.VT.ESC collection.\n *\n * The 'CC1' mnemonic here refers to the fact that these are one-byte Control\n * Codes.  It's only used in this source file and not defined in any of the\n * referenced documents.\n */\nhterm.VT.CC1 = {};\n\n/**\n * Collection of two-byte and three-byte sequences starting with ESC.\n */\nhterm.VT.ESC = {};\n\n/**\n * Collection of CSI (Control Sequence Introducer) sequences.\n *\n * These sequences begin with 'ESC [', and may take zero or more arguments.\n */\nhterm.VT.CSI = {};\n\n/**\n * Collection of OSC (Operating System Control) sequences.\n *\n * These sequences begin with 'ESC ]', followed by a function number and a\n * string terminated by either ST or BEL.\n */\nhterm.VT.OSC = {};\n\n/**\n * Collection of VT52 sequences.\n *\n * When in VT52 mode, other sequences are disabled.\n */\nhterm.VT.VT52 = {};\n\n/**\n * Null (NUL).\n *\n * Silently ignored.\n */\nhterm.VT.CC1['\\x00'] = function () {};\n\n/**\n * Enquiry (ENQ).\n *\n * Transmit answerback message.\n *\n * The default answerback message in xterm is an empty string, so we just\n * ignore this.\n */\nhterm.VT.CC1['\\x05'] = hterm.VT.ignore;\n\n/**\n * Ring Bell (BEL).\n */\nhterm.VT.CC1['\\x07'] = function() {\n  this.terminal.ringBell();\n};\n\n/**\n * Backspace (BS).\n *\n * Move the cursor to the left one character position, unless it is at the\n * left margin, in which case no action occurs.\n */\nhterm.VT.CC1['\\x08'] = function() {\n  this.terminal.cursorLeft(1);\n};\n\n/**\n * Horizontal Tab (HT).\n *\n * Move the cursor to the next tab stop, or to the right margin if no further\n * tab stops are present on the line.\n */\nhterm.VT.CC1['\\x09'] = function() {\n  this.terminal.forwardTabStop();\n};\n\n/**\n * Line Feed (LF).\n *\n * This code causes a line feed or a new line operation.  See Automatic\n * Newline (LNM).\n */\nhterm.VT.CC1['\\x0a'] = function() {\n  this.terminal.formFeed();\n};\n\n/**\n * Vertical Tab (VT).\n *\n * Interpreted as LF.\n */\nhterm.VT.CC1['\\x0b'] = hterm.VT.CC1['\\x0a'];\n\n/**\n * Form Feed (FF).\n *\n * Interpreted as LF.\n */\nhterm.VT.CC1['\\x0c'] = function() {\n  this.terminal.formFeed();\n};\n\n/**\n * Carriage Return (CR).\n *\n * Move cursor to the left margin on the current line.\n */\nhterm.VT.CC1['\\x0d'] = function() {\n  this.terminal.setCursorColumn(0);\n};\n\n/**\n * Shift Out (SO), aka Lock Shift 0 (LS1).\n *\n * Invoke G1 character set in GL.\n */\nhterm.VT.CC1['\\x0e'] = function() {\n  this.GL = 'G1';\n};\n\n/**\n * Shift In (SI), aka Lock Shift 0 (LS0).\n *\n * Invoke G0 character set in GL.\n */\nhterm.VT.CC1['\\x0f'] = function() {\n  this.GL = 'G0';\n};\n\n/**\n * Transmit On (XON).\n *\n * Not currently implemented.\n *\n * TODO(rginda): Implement?\n */\nhterm.VT.CC1['\\x11'] = hterm.VT.ignore;\n\n/**\n * Transmit Off (XOFF).\n *\n * Not currently implemented.\n *\n * TODO(rginda): Implement?\n */\nhterm.VT.CC1['\\x13'] = hterm.VT.ignore;\n\n/**\n * Cancel (CAN).\n *\n * If sent during a control sequence, the sequence is immediately terminated\n * and not executed.\n *\n * It also causes the error character to be displayed.\n */\nhterm.VT.CC1['\\x18'] = function(parseState) {\n  parseState.resetParseFunction();\n  this.terminal.print('?');\n};\n\n/**\n * Substitute (SUB).\n *\n * Interpreted as CAN.\n */\nhterm.VT.CC1['\\x1a'] = hterm.VT.CC1['\\x18'];\n\n/**\n * Escape (ESC).\n */\nhterm.VT.CC1['\\x1b'] = function(parseState) {\n  function parseESC(parseState) {\n    var ch = parseState.consumeChar();\n\n    if (ch == '\\x1b')\n      return;\n\n    this.dispatch('ESC', ch, parseState);\n\n    if (parseState.func == parseESC)\n      parseState.resetParseFunction();\n  };\n\n  parseState.func = parseESC;\n};\n\n/**\n * Delete (DEL).\n */\nhterm.VT.CC1['\\x7f'] = hterm.VT.ignore;\n\n// 8 bit control characters and their two byte equivalents, below...\n\n/**\n * Index (IND).\n *\n * Like newline, only keep the X position\n */\nhterm.VT.CC1['\\x84'] =\nhterm.VT.ESC['D'] = function() {\n  this.terminal.lineFeed();\n};\n\n/**\n * Next Line (NEL).\n *\n * Like newline, but doesn't add lines.\n */\nhterm.VT.CC1['\\x85'] =\nhterm.VT.ESC['E'] = function() {\n  this.terminal.setCursorColumn(0);\n  this.terminal.cursorDown(1);\n};\n\n/**\n * Horizontal Tabulation Set (HTS).\n */\nhterm.VT.CC1['\\x88'] =\nhterm.VT.ESC['H'] = function() {\n  this.terminal.setTabStop(this.terminal.getCursorColumn());\n};\n\n/**\n * Reverse Index (RI).\n *\n * Move up one line.\n */\nhterm.VT.CC1['\\x8d'] =\nhterm.VT.ESC['M'] = function() {\n  this.terminal.reverseLineFeed();\n};\n\n/**\n * Single Shift 2 (SS2).\n *\n * Select of G2 Character Set for the next character only.\n *\n * Not currently implemented.\n */\nhterm.VT.CC1['\\x8e'] =\nhterm.VT.ESC['N'] = hterm.VT.ignore;\n\n/**\n * Single Shift 3 (SS3).\n *\n * Select of G3 Character Set for the next character only.\n *\n * Not currently implemented.\n */\nhterm.VT.CC1['\\x8f'] =\nhterm.VT.ESC['O'] = hterm.VT.ignore;\n\n/**\n * Device Control String (DCS).\n *\n * Indicate a DCS sequence.  See Device-Control functions in [XTERM].\n * Not currently implemented.\n *\n * TODO(rginda): Consider implementing DECRQSS, the rest don't seem applicable.\n */\nhterm.VT.CC1['\\x90'] =\nhterm.VT.ESC['P'] = function(parseState) {\n  parseState.resetArguments();\n  parseState.func = this.parseUntilStringTerminator_;\n};\n\n/**\n * Start of Protected Area (SPA).\n *\n * Will not implement.\n */\nhterm.VT.CC1['\\x96'] =\nhterm.VT.ESC['V'] = hterm.VT.ignore;\n\n/**\n * End of Protected Area (EPA).\n *\n * Will not implement.\n */\nhterm.VT.CC1['\\x97'] =\nhterm.VT.ESC['W'] = hterm.VT.ignore;\n\n/**\n * Start of String (SOS).\n *\n * Will not implement.\n */\nhterm.VT.CC1['\\x98'] =\nhterm.VT.ESC['X'] = hterm.VT.ignore;\n\n/**\n * Single Character Introducer (SCI, also DECID).\n *\n * Return Terminal ID.  Obsolete form of 'ESC [ c' (DA).\n */\nhterm.VT.CC1['\\x9a'] =\nhterm.VT.ESC['Z'] = function() {\n  this.terminal.io.sendString('\\x1b[?1;2c');\n};\n\n/**\n * Control Sequence Introducer (CSI).\n *\n * The lead into most escape sequences.  See [CSI].\n */\nhterm.VT.CC1['\\x9b'] =\nhterm.VT.ESC['['] = function(parseState) {\n  parseState.resetArguments();\n  this.leadingModifier_ = '';\n  this.trailingModifier_ = '';\n  parseState.func = this.parseCSI_;\n};\n\n/**\n * String Terminator (ST).\n *\n * Used to terminate DCS/OSC/PM/APC commands which may take string arguments.\n *\n * We don't directly handle it here, as it's only used to terminate other\n * sequences.  See the 'parseUntilStringTerminator_' method.\n */\nhterm.VT.CC1['\\x9c'] =\nhterm.VT.ESC['\\\\'] = hterm.VT.ignore;\n\n/**\n * Operating System Command (OSC).\n *\n * Commands relating to the operating system.\n */\nhterm.VT.CC1['\\x9d'] =\nhterm.VT.ESC[']'] = function(parseState) {\n  parseState.resetArguments();\n\n  function parseOSC(parseState) {\n    if (!this.parseUntilStringTerminator_(parseState)) {\n      // The string sequence was too long.\n      return;\n    }\n\n    if (parseState.func == parseOSC) {\n      // We're not done parsing the string yet.\n      return;\n    }\n\n    // We're done.\n    var ary = parseState.args[0].match(/^(\\d+);(.*)$/);\n    if (ary) {\n      parseState.args[0] = ary[2];\n      this.dispatch('OSC', ary[1], parseState);\n    } else {\n      console.warn('Invalid OSC: ' + JSON.stringify(parseState.args[0]));\n    }\n  };\n\n  parseState.func = parseOSC;\n};\n\n/**\n * Privacy Message (PM).\n *\n * Will not implement.\n */\nhterm.VT.CC1['\\x9e'] =\nhterm.VT.ESC['^'] = function(parseState) {\n  parseState.resetArguments();\n  parseState.func = this.parseUntilStringTerminator_;\n};\n\n/**\n * Application Program Control (APC).\n *\n * Will not implement.\n */\nhterm.VT.CC1['\\x9f'] =\nhterm.VT.ESC['_'] = function(parseState) {\n  parseState.resetArguments();\n  parseState.func = this.parseUntilStringTerminator_;\n};\n\n/**\n * ESC \\x20 - Unclear to me where these originated, possibly in xterm.\n *\n * Not currently implemented:\n *   ESC \\x20 F - Select 7 bit escape codes in responses (S7C1T).\n *   ESC \\x20 G - Select 8 bit escape codes in responses (S8C1T).\n *                NB: We currently assume S7C1T always.\n *\n * Will not implement:\n *   ESC \\x20 L - Set ANSI conformance level 1.\n *   ESC \\x20 M - Set ANSI conformance level 2.\n *   ESC \\x20 N - Set ANSI conformance level 3.\n */\nhterm.VT.ESC['\\x20'] = function(parseState) {\n  parseState.func = function(parseState) {\n    var ch = parseState.consumeChar();\n    if (this.warnUnimplemented)\n      console.warn('Unimplemented sequence: ESC 0x20 ' + ch);\n    parseState.resetParseFunction();\n  };\n};\n\n/**\n * DEC 'ESC #' sequences.\n *\n * Handled:\n *   ESC # 8 - DEC Screen Alignment Test (DECALN).\n *             Fills the terminal with 'E's.  Used liberally by vttest.\n *\n * Ignored:\n *   ESC # 3 - DEC double-height line, top half (DECDHL).\n *   ESC # 4 - DEC double-height line, bottom half (DECDHL).\n *   ESC # 5 - DEC single-width line (DECSWL).\n *   ESC # 6 - DEC double-width line (DECDWL).\n */\nhterm.VT.ESC['#'] = function(parseState) {\n  parseState.func = function(parseState) {\n    var ch = parseState.consumeChar();\n    if (ch == '8')\n      this.terminal.fill('E');\n\n    parseState.resetParseFunction();\n  };\n};\n\n/**\n * 'ESC %' sequences, character set control.  Not currently implemented.\n *\n * To be implemented (currently ignored):\n *   ESC % @ - Set ISO 8859-1 character set.\n *   ESC % G - Set UTF-8 character set.\n *\n * All other ESC # sequences are echoed to the terminal.\n *\n * TODO(rginda): Implement.\n */\nhterm.VT.ESC['%'] = function(parseState) {\n  parseState.func = function(parseState) {\n    var ch = parseState.consumeChar();\n    if (ch != '@' && ch != 'G' && this.warnUnimplemented)\n      console.warn('Unknown ESC % argument: ' + JSON.stringify(ch));\n    parseState.resetParseFunction();\n  };\n};\n\n/**\n * Character Set Selection (SCS).\n *\n *   ESC ( Ps - Set G0 character set (VT100).\n *   ESC ) Ps - Set G1 character set (VT220).\n *   ESC * Ps - Set G2 character set (VT220).\n *   ESC + Ps - Set G3 character set (VT220).\n *   ESC - Ps - Set G1 character set (VT300).\n *   ESC . Ps - Set G2 character set (VT300).\n *   ESC / Ps - Set G3 character set (VT300).\n *\n * Values for Ps are:\n *   0 - DEC Special Character and Line Drawing Set.\n *   A - United Kingdom (UK).\n *   B - United States (USASCII).\n *   4 - Dutch.\n *   C or 5 - Finnish.\n *   R - French.\n *   Q - French Canadian.\n *   K - German.\n *   Y - Italian.\n *   E or 6 - Norwegian/Danish.\n *   Z - Spanish.\n *   H or 7 - Swedish.\n *   = - Swiss.\n *\n * All other sequences are echoed to the terminal.\n *\n * TODO(rginda): Implement.\n */\nhterm.VT.ESC['('] =\nhterm.VT.ESC[')'] =\nhterm.VT.ESC['*'] =\nhterm.VT.ESC['+'] =\nhterm.VT.ESC['-'] =\nhterm.VT.ESC['.'] =\nhterm.VT.ESC['/'] = function(parseState, code) {\n  parseState.func = function(parseState) {\n    var ch = parseState.consumeChar();\n    if (ch == '\\x1b') {\n      parseState.resetParseFunction();\n      parseState.func();\n      return;\n    }\n\n    if (ch in hterm.VT.CharacterMap.maps) {\n      if (code == '(') {\n        this.G0 = hterm.VT.CharacterMap.maps[ch];\n      } else if (code == ')' || code == '-') {\n        this.G1 = hterm.VT.CharacterMap.maps[ch];\n      } else if (code == '*' || code == '.') {\n        this.G2 = hterm.VT.CharacterMap.maps[ch];\n      } else if (code == '+' || code == '/') {\n        this.G3 = hterm.VT.CharacterMap.maps[ch];\n      }\n    } else if (this.warnUnimplemented) {\n      console.log('Invalid character set for \"' + code + '\": ' + ch);\n    }\n\n    parseState.resetParseFunction();\n  };\n};\n\n/**\n * Back Index (DECBI).\n *\n * VT420 and up.  Not currently implemented.\n */\nhterm.VT.ESC['6'] = hterm.VT.ignore;\n\n/**\n * Save Cursor (DECSC).\n */\nhterm.VT.ESC['7'] = function() {\n  this.savedState_.save();\n};\n\n/**\n * Restore Cursor (DECSC).\n */\nhterm.VT.ESC['8'] = function() {\n  this.savedState_.restore();\n};\n\n/**\n * Forward Index (DECFI).\n *\n * VT210 and up.  Not currently implemented.\n */\nhterm.VT.ESC['9'] = hterm.VT.ignore;\n\n/**\n * Application keypad (DECPAM).\n */\nhterm.VT.ESC['='] = function() {\n  this.terminal.keyboard.applicationKeypad = true;\n};\n\n/**\n * Normal keypad (DECPNM).\n */\nhterm.VT.ESC['>'] = function() {\n  this.terminal.keyboard.applicationKeypad = false;\n};\n\n/**\n * Cursor to lower left corner of screen.\n *\n * Will not implement.\n *\n * This is only recognized by xterm when the hpLowerleftBugCompat resource is\n * set.\n */\nhterm.VT.ESC['F'] = hterm.VT.ignore;\n\n/**\n * Full Reset (RIS).\n */\nhterm.VT.ESC['c'] = function() {\n  this.reset();\n  this.terminal.reset();\n};\n\n/**\n * Memory lock/unlock.\n *\n * Will not implement.\n */\nhterm.VT.ESC['l'] =\nhterm.VT.ESC['m'] = hterm.VT.ignore;\n\n/**\n * Lock Shift 2 (LS2)\n *\n * Invoke the G2 Character Set as GL.\n */\nhterm.VT.ESC['n'] = function() {\n  this.GL = 'G2';\n};\n\n/**\n * Lock Shift 3 (LS3)\n *\n * Invoke the G3 Character Set as GL.\n */\nhterm.VT.ESC['o'] = function() {\n  this.GL = 'G3';\n};\n\n/**\n * Lock Shift 2, Right (LS3R)\n *\n * Invoke the G3 Character Set as GR.\n */\nhterm.VT.ESC['|'] = function() {\n  this.GR = 'G3';\n};\n\n/**\n * Lock Shift 2, Right (LS2R)\n *\n * Invoke the G2 Character Set as GR.\n */\nhterm.VT.ESC['}'] = function() {\n  this.GR = 'G2';\n};\n\n/**\n * Lock Shift 1, Right (LS1R)\n *\n * Invoke the G1 Character Set as GR.\n */\nhterm.VT.ESC['~'] = function() {\n  this.GR = 'G1';\n};\n\n/**\n * Change icon name and window title.\n *\n * We only change the window title.\n */\nhterm.VT.OSC['0'] = function(parseState) {\n  this.terminal.setWindowTitle(parseState.args[0]);\n};\n\n/**\n * Change window title.\n */\nhterm.VT.OSC['2'] = hterm.VT.OSC['0'];\n\n/**\n * Set/read color palette.\n */\nhterm.VT.OSC['4'] = function(parseState) {\n  // Args come in as a single 'index1;rgb1 ... ;indexN;rgbN' string.\n  // We split on the semicolon and iterate through the pairs.\n  var args = parseState.args[0].split(';');\n\n  var pairCount = parseInt(args.length / 2);\n  var colorPalette = this.terminal.getTextAttributes().colorPalette;\n  var responseArray = [];\n\n  for (var pairNumber = 0; pairNumber < pairCount; ++pairNumber) {\n    var colorIndex = parseInt(args[pairNumber * 2]);\n    var colorValue = args[pairNumber * 2 + 1];\n\n    if (colorIndex >= colorPalette.length)\n      continue;\n\n    if (colorValue == '?') {\n      // '?' means we should report back the current color value.\n      colorValue = lib.colors.rgbToX11(colorPalette[colorIndex]);\n      if (colorValue)\n        responseArray.push(colorIndex + ';' + colorValue);\n\n      continue;\n    }\n\n    colorValue = lib.colors.x11ToCSS(colorValue);\n    if (colorValue)\n      colorPalette[colorIndex] = colorValue;\n  }\n\n  if (responseArray.length)\n    this.terminal.io.sendString('\\x1b]4;' + responseArray.join(';') + '\\x07');\n};\n\n/**\n * Set the cursor shape.\n *\n * Parameter is expected to be in the form \"CursorShape=number\", where number is\n * one of:\n *\n *   0 - Block\n *   1 - I-Beam\n *   2 - Underline\n *\n * This is a bit of a de-facto standard supported by iTerm 2 and Konsole.  See\n * also: DECSCUSR.\n *\n * Invalid numbers will restore the cursor to the block shape.\n */\nhterm.VT.OSC['50'] = function(parseState) {\n  var args = parseState.args[0].match(/CursorShape=(.)/i);\n  if (!args) {\n    console.warn('Could not parse OSC 50 args: ' + parseState.args[0]);\n    return;\n  }\n\n  switch (args[1]) {\n    case '1':\n      this.terminal.setCursorShape(hterm.Terminal.cursorShape.BEAM);\n      break;\n\n    case '2':\n      this.terminal.setCursorShape(hterm.Terminal.cursorShape.UNDERLINE);\n      break;\n\n    default:\n      this.terminal.setCursorShape(hterm.Terminal.cursorShape.BLOCK);\n  }\n};\n\n/**\n * Set/read system clipboard.\n *\n * Read is not implemented due to security considerations.  A remote app\n * that is able to both write and read to the clipboard could essentially\n * take over your session.\n *\n * The clipboard data will be decoded according to the 'receive-encoding'\n * preference.\n */\nhterm.VT.OSC['52'] = function(parseState) {\n  // Args come in as a single 'clipboard;b64-data' string.  The clipboard\n  // parameter is used to select which of the X clipboards to address.  Since\n  // we're not integrating with X, we treat them all the same.\n  var args = parseState.args[0].match(/^[cps01234567]*;(.*)/);\n  if (!args)\n    return;\n\n  var data = window.atob(args[1]);\n  if (data)\n    this.terminal.copyStringToClipboard(this.decode(data));\n};\n\n/**\n * Insert (blank) characters (ICH).\n */\nhterm.VT.CSI['@'] = function(parseState) {\n  this.terminal.insertSpace(parseState.iarg(0, 1));\n};\n\n/**\n * Cursor Up (CUU).\n */\nhterm.VT.CSI['A'] = function(parseState) {\n  this.terminal.cursorUp(parseState.iarg(0, 1));\n};\n\n/**\n * Cursor Down (CUD).\n */\nhterm.VT.CSI['B'] = function(parseState) {\n  this.terminal.cursorDown(parseState.iarg(0, 1));\n};\n\n/**\n * Cursor Forward (CUF).\n */\nhterm.VT.CSI['C'] = function(parseState) {\n  this.terminal.cursorRight(parseState.iarg(0, 1));\n};\n\n/**\n * Cursor Backward (CUB).\n */\nhterm.VT.CSI['D'] = function(parseState) {\n  this.terminal.cursorLeft(parseState.iarg(0, 1));\n};\n\n/**\n * Cursor Next Line (CNL).\n *\n * This is like Cursor Down, except the cursor moves to the beginning of the\n * line as well.\n */\nhterm.VT.CSI['E'] = function(parseState) {\n  this.terminal.cursorDown(parseState.iarg(0, 1));\n  this.terminal.setCursorColumn(0);\n};\n\n/**\n * Cursor Preceding Line (CPL).\n *\n * This is like Cursor Up, except the cursor moves to the beginning of the\n * line as well.\n */\nhterm.VT.CSI['F'] = function(parseState) {\n  this.terminal.cursorUp(parseState.iarg(0, 1));\n  this.terminal.setCursorColumn(0);\n};\n\n/**\n * Cursor Character Absolute (CHA).\n */\nhterm.VT.CSI['G'] = function(parseState) {\n  this.terminal.setCursorColumn(parseState.iarg(0, 1) - 1);\n};\n\n/**\n * Cursor Position (CUP).\n */\nhterm.VT.CSI['H'] = function(parseState) {\n  this.terminal.setCursorPosition(parseState.iarg(0, 1) - 1,\n                                  parseState.iarg(1, 1) - 1);\n};\n\n/**\n * Cursor Forward Tabulation (CHT).\n */\nhterm.VT.CSI['I'] = function(parseState) {\n  var count = parseState.iarg(0, 1);\n  count = lib.f.clamp(count, 1, this.terminal.screenSize.width);\n  for (var i = 0; i < count; i++) {\n    this.terminal.forwardTabStop();\n  }\n};\n\n/**\n * Erase in Display (ED, DECSED).\n */\nhterm.VT.CSI['J'] =\nhterm.VT.CSI['?J'] = function(parseState, code) {\n  var arg = parseState.args[0];\n\n  if (!arg || arg == '0') {\n      this.terminal.eraseBelow();\n  } else if (arg == '1') {\n    this.terminal.eraseAbove();\n  } else if (arg == '2') {\n    this.terminal.clear();\n  } else if (arg == '3') {\n    // The xterm docs say this means \"Erase saved lines\", but we'll just clear\n    // the display since killing the scrollback seems rude.\n    this.terminal.clear();\n  }\n};\n\n/**\n * Erase in line (EL, DECSEL).\n */\nhterm.VT.CSI['K'] =\nhterm.VT.CSI['?K'] = function(parseState, code) {\n  var arg = parseState.args[0];\n\n  if (!arg || arg == '0') {\n    this.terminal.eraseToRight();\n  } else if (arg == '1'){\n    this.terminal.eraseToLeft();\n  } else if (arg == '2') {\n    this.terminal.eraseLine();\n  }\n};\n\n/**\n * Insert Lines (IL).\n */\nhterm.VT.CSI['L'] = function(parseState) {\n  this.terminal.insertLines(parseState.iarg(0, 1));\n};\n\n/**\n * Delete Lines (DL).\n */\nhterm.VT.CSI['M'] = function(parseState) {\n  this.terminal.deleteLines(parseState.iarg(0, 1));\n};\n\n/**\n * Delete Characters (DCH).\n *\n * This command shifts the line contents left, starting at the cursor position.\n */\nhterm.VT.CSI['P'] = function(parseState) {\n  this.terminal.deleteChars(parseState.iarg(0, 1));\n};\n\n/**\n * Scroll Up (SU).\n */\nhterm.VT.CSI['S'] = function(parseState) {\n  this.terminal.vtScrollUp(parseState.iarg(0, 1));\n};\n\n/**\n * Scroll Down (SD).\n * Also 'Initiate highlight mouse tracking'.  Will not implement this part.\n */\nhterm.VT.CSI['T'] = function(parseState) {\n  if (parseState.args.length <= 1)\n    this.terminal.vtScrollDown(parseState.iarg(0, 1));\n};\n\n/**\n * Reset one or more features of the title modes to the default value.\n *\n *   ESC [ > Ps T\n *\n * Normally, \"reset\" disables the feature. It is possible to disable the\n * ability to reset features by compiling a different default for the title\n * modes into xterm.\n *\n * Ps values:\n *   0 - Do not set window/icon labels using hexadecimal.\n *   1 - Do not query window/icon labels using hexadecimal.\n *   2 - Do not set window/icon labels using UTF-8.\n *   3 - Do not query window/icon labels using UTF-8.\n *\n * Will not implement.\n */\nhterm.VT.CSI['>T'] = hterm.VT.ignore;\n\n/**\n * Erase Characters (ECH).\n */\nhterm.VT.CSI['X'] = function(parseState) {\n  this.terminal.eraseToRight(parseState.iarg(0, 1));\n};\n\n/**\n * Cursor Backward Tabulation (CBT).\n */\nhterm.VT.CSI['Z'] = function(parseState) {\n  var count = parseState.iarg(0, 1);\n  count = lib.f.clamp(count, 1, this.terminal.screenSize.width);\n  for (var i = 0; i < count; i++) {\n    this.terminal.backwardTabStop();\n  }\n};\n\n/**\n * Character Position Absolute (HPA).\n */\nhterm.VT.CSI['`'] = function(parseState) {\n  this.terminal.setCursorColumn(parseState.iarg(0, 1) - 1);\n};\n\n/**\n * Repeat the preceding graphic character.\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['b'] = hterm.VT.ignore;\n\n/**\n * Send Device Attributes (Primary DA).\n *\n * TODO(rginda): This is hardcoded to send back 'VT100 with Advanced Video\n * Option', but it may be more correct to send a VT220 response once\n * we fill out the 'Not currently implemented' parts.\n */\nhterm.VT.CSI['c'] = function(parseState) {\n  if (!parseState.args[0] || parseState.args[0] == '0') {\n    this.terminal.io.sendString('\\x1b[?1;2c');\n  }\n};\n\n/**\n * Send Device Attributes (Secondary DA).\n *\n * TODO(rginda): This is hardcoded to send back 'VT100' but it may be more\n * correct to send a VT220 response once we fill out more 'Not currently\n * implemented' parts.\n */\nhterm.VT.CSI['>c'] = function(parseState) {\n  this.terminal.io.sendString('\\x1b[>0;256;0c');\n};\n\n/**\n * Line Position Absolute (VPA).\n */\nhterm.VT.CSI['d'] = function(parseState) {\n  this.terminal.setAbsoluteCursorRow(parseState.iarg(0, 1) - 1);\n};\n\n/**\n * Horizontal and Vertical Position (HVP).\n *\n * Same as Cursor Position (CUP).\n */\nhterm.VT.CSI['f'] = hterm.VT.CSI['H'];\n\n/**\n * Tab Clear (TBC).\n */\nhterm.VT.CSI['g'] = function(parseState) {\n  if (!parseState.args[0] || parseState.args[0] == '0') {\n    // Clear tab stop at cursor.\n    this.terminal.clearTabStopAtCursor(false);\n  } else if (parseState.args[0] == '3') {\n    // Clear all tab stops.\n    this.terminal.clearAllTabStops();\n  }\n};\n\n/**\n * Set Mode (SM).\n */\nhterm.VT.CSI['h'] = function(parseState) {\n  for (var i = 0; i < parseState.args.length; i++) {\n    this.setANSIMode(parseState.args[i], true);\n  }\n};\n\n/**\n * DEC Private Mode Set (DECSET).\n */\nhterm.VT.CSI['?h'] = function(parseState) {\n  for (var i = 0; i < parseState.args.length; i++) {\n    this.setDECMode(parseState.args[i], true);\n  }\n};\n\n/**\n * Media Copy (MC).\n * Media Copy (MC, DEC Specific).\n *\n * These commands control the printer.  Will not implement.\n */\nhterm.VT.CSI['i'] =\nhterm.VT.CSI['?i'] = hterm.VT.ignore;\n\n/**\n * Reset Mode (RM).\n */\nhterm.VT.CSI['l'] = function(parseState) {\n  for (var i = 0; i < parseState.args.length; i++) {\n    this.setANSIMode(parseState.args[i], false);\n  }\n};\n\n/**\n * DEC Private Mode Reset (DECRST).\n */\nhterm.VT.CSI['?l'] = function(parseState) {\n  for (var i = 0; i < parseState.args.length; i++) {\n    this.setDECMode(parseState.args[i], false);\n  }\n};\n\n/**\n * Character Attributes (SGR).\n *\n * Iterate through the list of arguments, applying the following attribute\n * changes based on the argument value...\n *\n *    0 Normal (default).\n *    1 Bold.\n *    2 Faint.\n *    3 Italic (non-xterm).\n *    4 Underlined.\n *    5 Blink (appears as Bold).\n *    7 Inverse.\n *    8 Invisible, i.e., hidden (VT300).\n *    9 Crossed out (ECMA-48).\n *   22 Normal (neither bold nor faint).\n *   23 Not italic (non-xterm).\n *   24 Not underlined.\n *   25 Steady (not blinking).\n *   27 Positive (not inverse).\n *   28 Visible, i.e., not hidden (VT300).\n *   29 Not crossed out (ECMA-48).\n *   30 Set foreground color to Black.\n *   31 Set foreground color to Red.\n *   32 Set foreground color to Green.\n *   33 Set foreground color to Yellow.\n *   34 Set foreground color to Blue.\n *   35 Set foreground color to Magenta.\n *   36 Set foreground color to Cyan.\n *   37 Set foreground color to White.\n *   39 Set foreground color to default (original).\n *   40 Set background color to Black.\n *   41 Set background color to Red.\n *   42 Set background color to Green.\n *   43 Set background color to Yellow.\n *   44 Set background color to Blue.\n *   45 Set background color to Magenta.\n *   46 Set background color to Cyan.\n *   47 Set background color to White.\n *   49 Set background color to default (original)\n *\n * Non-xterm (italic) codes have mixed support, but are supported by both\n * gnome-terminal and rxvt and are recognized as CSI codes on Wikipedia\n * (http://en.wikipedia.org/wiki/ANSI_escape_code).\n *\n * For 16-color support, the following apply.\n *\n *   90 Set foreground color to Bright Black.\n *   91 Set foreground color to Bright Red.\n *   92 Set foreground color to Bright Green.\n *   93 Set foreground color to Bright Yellow.\n *   94 Set foreground color to Bright Blue.\n *   95 Set foreground color to Bright Magenta.\n *   96 Set foreground color to Bright Cyan.\n *   97 Set foreground color to Bright White.\n *  100 Set background color to Bright Black.\n *  101 Set background color to Bright Red.\n *  102 Set background color to Bright Green.\n *  103 Set background color to Bright Yellow.\n *  104 Set background color to Bright Blue.\n *  105 Set background color to Bright Magenta.\n *  106 Set background color to Bright Cyan.\n *  107 Set background color to Bright White.\n *\n * For 88- or 256-color support, the following apply.\n *  38 ; 5 ; P Set foreground color to P.\n *  48 ; 5 ; P Set background color to P.\n *\n *  For true color (24-bit) support, the following apply.\n *  38 ; 2 ; R ; G ; B Set foreground color to rgb(R, G, B)\n *  48 ; 2 ; R ; G ; B Set background color to rgb(R, G, B)\n *\n * Note that most terminals consider \"bold\" to be \"bold and bright\".  In\n * some documents the bold state is even referred to as bright.  We interpret\n * bold as bold-bright here too, but only when the \"bold\" setting comes before\n * the color selection.\n */\nhterm.VT.CSI['m'] = function(parseState) {\n  function get256(i) {\n    if (parseState.args.length < i + 2 || parseState.args[i + 1] != '5')\n      return null;\n\n    return parseState.iarg(i + 2, 0);\n  }\n\n  function getTrueColor(i) {\n    if (parseState.args.length < i + 5 || parseState.args[i + 1] != '2')\n      return null;\n    var r = parseState.iarg(i + 2, 0);\n    var g = parseState.iarg(i + 3, 0);\n    var b = parseState.iarg(i + 4, 0);\n\n    return 'rgb(' + r + ' ,' + g + ' ,' + b + ')';\n  }\n\n  var attrs = this.terminal.getTextAttributes();\n\n  if (!parseState.args.length) {\n    attrs.reset();\n    return;\n  }\n\n  for (var i = 0; i < parseState.args.length; i++) {\n    var arg = parseState.iarg(i, 0);\n\n    if (arg < 30) {\n      if (arg == 0) {\n        attrs.reset();\n      } else if (arg == 1) {\n        attrs.bold = true;\n      } else if (arg == 2) {\n        attrs.faint = true;\n      } else if (arg == 3) {\n        attrs.italic = true;\n      } else if (arg == 4) {\n        attrs.underline = true;\n      } else if (arg == 5) {\n        attrs.blink = true;\n      } else if (arg == 7) {  // Inverse.\n        attrs.inverse = true;\n      } else if (arg == 8) {  // Invisible.\n        attrs.invisible = true;\n      } else if (arg == 9) {\n        attrs.strikethrough = true;\n      } else if (arg == 22) {\n        attrs.bold = false;\n        attrs.faint = false;\n      } else if (arg == 23) {\n        attrs.italic = false;\n      } else if (arg == 24) {\n        attrs.underline = false;\n      } else if (arg == 25) {\n        attrs.blink = false;\n      } else if (arg == 27) {\n        attrs.inverse = false;\n      } else if (arg == 28) {\n        attrs.invisible = false;\n      } else if (arg == 29) {\n        attrs.strikethrough = false;\n      }\n\n    } else if (arg < 50) {\n      // Select fore/background color from bottom half of 16 color palette\n      // or from the 256 color palette or alternative specify color in fully\n      // qualified rgb(r, g, b) form.\n      if (arg < 38) {\n        attrs.foregroundSource = arg - 30;\n\n      } else if (arg == 38) {\n        // First check for true color definition\n        var trueColor = getTrueColor(i);\n        if (trueColor != null) {\n          attrs.foregroundSource = attrs.SRC_RGB;\n          attrs.foreground = trueColor;\n\n          i += 5;\n        } else {\n          // Check for 256 color\n          var c = get256(i);\n          if (c == null)\n            break;\n\n          i += 2;\n\n          if (c >= attrs.colorPalette.length)\n            continue;\n\n          attrs.foregroundSource = c;\n        }\n\n      } else if (arg == 39) {\n        attrs.foregroundSource = attrs.SRC_DEFAULT;\n\n      } else if (arg < 48) {\n        attrs.backgroundSource = arg - 40;\n\n      } else if (arg == 48) {\n        // First check for true color definition\n        var trueColor = getTrueColor(i);\n        if (trueColor != null) {\n          attrs.backgroundSource = attrs.SRC_RGB;\n          attrs.background = trueColor;\n\n          i += 5;\n        } else {\n          // Check for 256 color\n          var c = get256(i);\n          if (c == null)\n            break;\n\n          i += 2;\n\n          if (c >= attrs.colorPalette.length)\n            continue;\n\n          attrs.backgroundSource = c;\n        }\n      } else {\n        attrs.backgroundSource = attrs.SRC_DEFAULT;\n      }\n\n    } else if (arg >= 90 && arg <= 97) {\n      attrs.foregroundSource = arg - 90 + 8;\n\n    } else if (arg >= 100 && arg <= 107) {\n      attrs.backgroundSource = arg - 100 + 8;\n    }\n  }\n\n  attrs.setDefaults(this.terminal.getForegroundColor(),\n                    this.terminal.getBackgroundColor());\n};\n\n/**\n * Set xterm-specific keyboard modes.\n *\n * Will not implement.\n */\nhterm.VT.CSI['>m'] = hterm.VT.ignore;\n\n/**\n * Device Status Report (DSR, DEC Specific).\n *\n * 5 - Status Report. Result (OK) is CSI 0 n\n * 6 - Report Cursor Position (CPR) [row;column]. Result is CSI r ; c R\n */\nhterm.VT.CSI['n'] = function(parseState) {\n  if (parseState.args[0] == '5') {\n    this.terminal.io.sendString('\\x1b0n');\n  } else if (parseState.args[0] == '6') {\n    var row = this.terminal.getCursorRow() + 1;\n    var col = this.terminal.getCursorColumn() + 1;\n    this.terminal.io.sendString('\\x1b[' + row + ';' + col + 'R');\n  }\n};\n\n/**\n * Disable modifiers which may be enabled via CSI['>m'].\n *\n * Will not implement.\n */\nhterm.VT.CSI['>n'] = hterm.VT.ignore;\n\n/**\n * Device Status Report (DSR, DEC Specific).\n *\n * 6  - Report Cursor Position (CPR) [row;column] as CSI ? r ; c R\n * 15 - Report Printer status as CSI ? 1 0 n (ready) or\n *      CSI ? 1 1 n (not ready).\n * 25 - Report UDK status as CSI ? 2 0 n (unlocked) or CSI ? 2 1 n (locked).\n * 26 - Report Keyboard status as CSI ? 2 7 ; 1 ; 0 ; 0 n (North American).\n *      The last two parameters apply to VT400 & up, and denote keyboard ready\n *      and LK01 respectively.\n * 53 - Report Locator status as CSI ? 5 3 n Locator available, if compiled-in,\n *      or CSI ? 5 0 n No Locator, if not.\n */\nhterm.VT.CSI['?n'] = function(parseState) {\n  if (parseState.args[0] == '6') {\n    var row = this.terminal.getCursorRow() + 1;\n    var col = this.terminal.getCursorColumn() + 1;\n    this.terminal.io.sendString('\\x1b[' + row + ';' + col + 'R');\n  } else if (parseState.args[0] == '15') {\n    this.terminal.io.sendString('\\x1b[?11n');\n  } else if (parseState.args[0] == '25') {\n    this.terminal.io.sendString('\\x1b[?21n');\n  } else if (parseState.args[0] == '26') {\n    this.terminal.io.sendString('\\x1b[?12;1;0;0n');\n  } else if (parseState.args[0] == '53') {\n    this.terminal.io.sendString('\\x1b[?50n');\n  }\n};\n\n/**\n * This is used by xterm to decide whether to hide the pointer cursor as the\n * user types.\n *\n * Valid values for the parameter:\n *   0 - Never hide the pointer.\n *   1 - Hide if the mouse tracking mode is not enabled.\n *   2 - Always hide the pointer.\n *\n * If no parameter is given, xterm uses the default, which is 1.\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['>p'] = hterm.VT.ignore;\n\n/**\n * Soft terminal reset (DECSTR).\n */\nhterm.VT.CSI['!p'] = function() {\n  this.reset();\n  this.terminal.softReset();\n};\n\n/**\n * Request ANSI Mode (DECRQM).\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['$p'] = hterm.VT.ignore;\nhterm.VT.CSI['?$p'] = hterm.VT.ignore;\n\n/**\n * Set conformance level (DECSCL).\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['\"p'] = hterm.VT.ignore;\n\n/**\n * Load LEDs (DECLL).\n *\n * Not currently implemented.  Could be implemented as virtual LEDs overlaying\n * the terminal if anyone cares.\n */\nhterm.VT.CSI['q'] = hterm.VT.ignore;\n\n/**\n * Set cursor style (DECSCUSR, VT520).\n *\n *   0 - Blinking block.\n *   1 - Blinking block (default).\n *   2 - Steady block.\n *   3 - Blinking underline.\n *   4 - Steady underline.\n */\nhterm.VT.CSI[' q'] = function(parseState) {\n  var arg = parseState.args[0];\n\n  if (arg == '0' || arg == '1') {\n    this.terminal.setCursorShape(hterm.Terminal.cursorShape.BLOCK);\n    this.terminal.setCursorBlink(true);\n  } else if (arg == '2') {\n    this.terminal.setCursorShape(hterm.Terminal.cursorShape.BLOCK);\n    this.terminal.setCursorBlink(false);\n  } else if (arg == '3') {\n    this.terminal.setCursorShape(hterm.Terminal.cursorShape.UNDERLINE);\n    this.terminal.setCursorBlink(true);\n  } else if (arg == '4') {\n    this.terminal.setCursorShape(hterm.Terminal.cursorShape.UNDERLINE);\n    this.terminal.setCursorBlink(false);\n  } else {\n    console.warn('Unknown cursor style: ' + arg);\n  }\n};\n\n/**\n * Select character protection attribute (DECSCA).\n *\n * Will not implement.\n */\nhterm.VT.CSI['\"q'] = hterm.VT.ignore;\n\n/**\n * Set Scrolling Region (DECSTBM).\n */\nhterm.VT.CSI['r'] = function(parseState) {\n  var args = parseState.args;\n  var scrollTop = args[0] ? parseInt(args[0], 10) -1 : null;\n  var scrollBottom = args[1] ? parseInt(args[1], 10) - 1 : null;\n  this.terminal.setVTScrollRegion(scrollTop, scrollBottom);\n  this.terminal.setCursorPosition(0, 0);\n};\n\n/**\n * Restore DEC Private Mode Values.\n *\n * Will not implement.\n */\nhterm.VT.CSI['?r'] = hterm.VT.ignore;\n\n/**\n * Change Attributes in Rectangular Area (DECCARA)\n *\n * Will not implement.\n */\nhterm.VT.CSI['$r'] = hterm.VT.ignore;\n\n/**\n * Save cursor (ANSI.SYS)\n */\nhterm.VT.CSI['s'] = function() {\n  this.savedState_.save();\n};\n\n/**\n * Save DEC Private Mode Values.\n *\n * Will not implement.\n */\nhterm.VT.CSI['?s'] = hterm.VT.ignore;\n\n/**\n * Window manipulation (from dtterm, as well as extensions).\n *\n * Will not implement.\n */\nhterm.VT.CSI['t'] = hterm.VT.ignore;\n\n/**\n * Reverse Attributes in Rectangular Area (DECRARA).\n *\n * Will not implement.\n */\nhterm.VT.CSI['$t'] = hterm.VT.ignore;\n\n/**\n * Set one or more features of the title modes.\n *\n * Will not implement.\n */\nhterm.VT.CSI['>t'] = hterm.VT.ignore;\n\n/**\n * Set warning-bell volume (DECSWBV, VT520).\n *\n * Will not implement.\n */\nhterm.VT.CSI[' t'] = hterm.VT.ignore;\n\n/**\n * Restore cursor (ANSI.SYS).\n */\nhterm.VT.CSI['u'] = function() {\n  this.savedState_.restore();\n};\n\n/**\n * Set margin-bell volume (DECSMBV, VT520).\n *\n * Will not implement.\n */\nhterm.VT.CSI[' u'] = hterm.VT.ignore;\n\n/**\n * Copy Rectangular Area (DECCRA, VT400 and up).\n *\n * Will not implement.\n */\nhterm.VT.CSI['$v'] = hterm.VT.ignore;\n\n/**\n * Enable Filter Rectangle (DECEFR).\n *\n * Will not implement.\n */\nhterm.VT.CSI['\\'w'] = hterm.VT.ignore;\n\n/**\n * Request Terminal Parameters (DECREQTPARM).\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['x'] = hterm.VT.ignore;\n\n/**\n * Select Attribute Change Extent (DECSACE).\n *\n * Will not implement.\n */\nhterm.VT.CSI['*x'] = hterm.VT.ignore;\n\n/**\n * Fill Rectangular Area (DECFRA), VT420 and up.\n *\n * Will not implement.\n */\nhterm.VT.CSI['$x'] = hterm.VT.ignore;\n\n/**\n * vt_tiledata (as used by NAOhack and UnNetHack)\n * (see http://nethackwiki.com/wiki/Vt_tiledata for more info)\n *\n * Implemented as far as we care (start a glyph and end a glyph).\n */\nhterm.VT.CSI['z'] = function(parseState) {\n  if (parseState.args.length < 1)\n    return;\n  var arg = parseState.args[0];\n  if (arg == '0') {\n    // Start a glyph (one parameter, the glyph number).\n    if (parseState.args.length < 2)\n      return;\n    this.terminal.getTextAttributes().tileData = parseState.args[1];\n  } else if (arg == '1') {\n    // End a glyph.\n    this.terminal.getTextAttributes().tileData = null;\n  }\n};\n\n/**\n * Enable Locator Reporting (DECELR).\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['\\'z'] = hterm.VT.ignore;\n\n/**\n * Erase Rectangular Area (DECERA), VT400 and up.\n *\n * Will not implement.\n */\nhterm.VT.CSI['$z'] = hterm.VT.ignore;\n\n/**\n * Select Locator Events (DECSLE).\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['\\'{'] = hterm.VT.ignore;\n\n/**\n * Request Locator Position (DECRQLP).\n *\n * Not currently implemented.\n */\nhterm.VT.CSI['\\'|'] = hterm.VT.ignore;\n\n/**\n * Insert Columns (DECIC), VT420 and up.\n *\n * Will not implement.\n */\nhterm.VT.CSI[' }'] = hterm.VT.ignore;\n\n/**\n * Delete P s Columns (DECDC), VT420 and up.\n *\n * Will not implement.\n */\nhterm.VT.CSI[' ~'] = hterm.VT.ignore;\n// SOURCE FILE: hterm/js/hterm_vt_character_map.js\n// Copyright (c) 2012 The Chromium OS Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n'use strict';\n\nlib.rtdep('lib.f');\n\n/**\n * Character map object.\n *\n * @param {object} The GL mapping from input characters to output characters.\n *     The GR mapping will be automatically created.\n */\nhterm.VT.CharacterMap = function(name, glmap) {\n  /**\n   * Short name for this character set, useful for debugging.\n   */\n  this.name = name;\n\n  /**\n   * The function to call to when this map is installed in GL.\n   */\n  this.GL = null;\n\n  /**\n   * The function to call to when this map is installed in GR.\n   */\n  this.GR = null;\n\n  if (glmap)\n    this.reset(glmap);\n};\n\n/**\n * @param {object} The GL mapping from input characters to output characters.\n *     The GR mapping will be automatically created.\n */\nhterm.VT.CharacterMap.prototype.reset = function(glmap) {\n  // Set the the GL mapping.\n  this.glmap = glmap;\n\n  var glkeys = Object.keys(this.glmap).map(function(key) {\n      return '\\\\x' + lib.f.zpad(key.charCodeAt(0).toString(16));\n    });\n\n  this.glre = new RegExp('[' + glkeys.join('') + ']', 'g');\n\n  // Compute the GR mapping.\n  // This is the same as GL except all keys have their MSB set.\n  this.grmap = {};\n\n  glkeys.forEach(function(glkey) {\n      var grkey = String.fromCharCode(glkey.charCodeAt(0) & 0x80);\n      this.grmap[grkey] = this.glmap[glkey];\n    }.bind(this));\n\n  var grkeys = Object.keys(this.grmap).map(function(key) {\n      return '\\\\x' + lib.f.zpad(key.charCodeAt(0).toString(16), 2);\n    });\n\n  this.grre = new RegExp('[' + grkeys.join('') + ']', 'g');\n\n  this.GL = function(str) {\n    return str.replace(this.glre,\n                       function(ch) { return this.glmap[ch] }.bind(this));\n  }.bind(this);\n\n  this.GR = function(str) {\n    return str.replace(this.grre,\n                       function(ch) { return this.grmap[ch] }.bind(this));\n  }.bind(this);\n};\n\n/**\n * Mapping from received to display character, used depending on the active\n * VT character set.\n */\nhterm.VT.CharacterMap.maps = {};\n\n/**\n * VT100 Graphic character map.\n * http://vt100.net/docs/vt220-rm/table2-4.html\n */\nhterm.VT.CharacterMap.maps['0'] = new hterm.VT.CharacterMap(\n    'graphic', {\n      '\\x60':'\\u25c6',  // ` -> diamond\n      '\\x61':'\\u2592',  // a -> grey-box\n      '\\x62':'\\u2409',  // b -> h/t\n      '\\x63':'\\u240c',  // c -> f/f\n      '\\x64':'\\u240d',  // d -> c/r\n      '\\x65':'\\u240a',  // e -> l/f\n      '\\x66':'\\u00b0',  // f -> degree\n      '\\x67':'\\u00b1',  // g -> +/-\n      '\\x68':'\\u2424',  // h -> n/l\n      '\\x69':'\\u240b',  // i -> v/t\n      '\\x6a':'\\u2518',  // j -> bottom-right\n      '\\x6b':'\\u2510',  // k -> top-right\n      '\\x6c':'\\u250c',  // l -> top-left\n      '\\x6d':'\\u2514',  // m -> bottom-left\n      '\\x6e':'\\u253c',  // n -> line-cross\n      '\\x6f':'\\u23ba',  // o -> scan1\n      '\\x70':'\\u23bb',  // p -> scan3\n      '\\x71':'\\u2500',  // q -> scan5\n      '\\x72':'\\u23bc',  // r -> scan7\n      '\\x73':'\\u23bd',  // s -> scan9\n      '\\x74':'\\u251c',  // t -> left-tee\n      '\\x75':'\\u2524',  // u -> right-tee\n      '\\x76':'\\u2534',  // v -> bottom-tee\n      '\\x77':'\\u252c',  // w -> top-tee\n      '\\x78':'\\u2502',  // x -> vertical-line\n      '\\x79':'\\u2264',  // y -> less-equal\n      '\\x7a':'\\u2265',  // z -> greater-equal\n      '\\x7b':'\\u03c0',  // { -> pi\n      '\\x7c':'\\u2260',  // | -> not-equal\n      '\\x7d':'\\u00a3',  // } -> british-pound\n      '\\x7e':'\\u00b7',  // ~ -> dot\n    });\n\n/**\n * British character map.\n * http://vt100.net/docs/vt220-rm/table2-5.html\n */\nhterm.VT.CharacterMap.maps['A'] = new hterm.VT.CharacterMap(\n    'british', {\n      '\\x23': '\\u00a3',  // # -> british-pound\n    });\n\n/**\n * US ASCII map, no changes.\n */\nhterm.VT.CharacterMap.maps['B'] = new hterm.VT.CharacterMap(\n    'us', null);\n\n/**\n * Dutch character map.\n * http://vt100.net/docs/vt220-rm/table2-6.html\n */\nhterm.VT.CharacterMap.maps['4'] = new hterm.VT.CharacterMap(\n    'dutch', {\n      '\\x23': '\\u00a3',  // # -> british-pound\n\n      '\\x40': '\\u00be',  // @ -> 3/4\n\n      '\\x5b': '\\u0132',  // [ -> 'ij' ligature (xterm goes with \\u00ff?)\n      '\\x5c': '\\u00bd',  // \\ -> 1/2\n      '\\x5d': '\\u007c',  // ] -> vertical bar\n\n      '\\x7b': '\\u00a8',  // { -> two dots\n      '\\x7c': '\\u0066',  // | -> f\n      '\\x7d': '\\u00bc',  // } -> 1/4\n      '\\x7e': '\\u00b4',  // ~ -> acute\n    });\n\n/**\n * Finnish character map.\n * http://vt100.net/docs/vt220-rm/table2-7.html\n */\nhterm.VT.CharacterMap.maps['C'] =\nhterm.VT.CharacterMap.maps['5'] = new hterm.VT.CharacterMap(\n    'finnish', {\n      '\\x5b': '\\u00c4',  // [ -> 'A' umlaut\n      '\\x5c': '\\u00d6',  // \\ -> 'O' umlaut\n      '\\x5d': '\\u00c5',  // ] -> 'A' ring\n      '\\x5e': '\\u00dc',  // ~ -> 'u' umlaut\n\n      '\\x60': '\\u00e9',  // ` -> 'e' acute\n\n      '\\x7b': '\\u00e4',  // { -> 'a' umlaut\n      '\\x7c': '\\u00f6',  // | -> 'o' umlaut\n      '\\x7d': '\\u00e5',  // } -> 'a' ring\n      '\\x7e': '\\u00fc',  // ~ -> 'u' umlaut\n    });\n\n/**\n * French character map.\n * http://vt100.net/docs/vt220-rm/table2-8.html\n */\nhterm.VT.CharacterMap.maps['R'] = new hterm.VT.CharacterMap(\n    'french', {\n      '\\x23': '\\u00a3',  // # -> british-pound\n\n      '\\x40': '\\u00e0',  // @ -> 'a' grave\n\n      '\\x5b': '\\u00b0',  // [ -> ring\n      '\\x5c': '\\u00e7',  // \\ -> 'c' cedilla\n      '\\x5d': '\\u00a7',  // ] -> section symbol (double s)\n\n      '\\x7b': '\\u00e9',  // { -> 'e' acute\n      '\\x7c': '\\u00f9',  // | -> 'u' grave\n      '\\x7d': '\\u00e8',  // } -> 'e' grave\n      '\\x7e': '\\u00a8',  // ~ -> umlaut\n    });\n\n/**\n * French Canadian character map.\n * http://vt100.net/docs/vt220-rm/table2-9.html\n */\nhterm.VT.CharacterMap.maps['Q'] = new hterm.VT.CharacterMap(\n    'french canadian', {\n      '\\x40': '\\u00e0',  // @ -> 'a' grave\n\n      '\\x5b': '\\u00e2',  // [ -> 'a' circumflex\n      '\\x5c': '\\u00e7',  // \\ -> 'c' cedilla\n      '\\x5d': '\\u00ea',  // ] -> 'e' circumflex\n      '\\x5e': '\\u00ee',  // ^ -> 'i' circumflex\n\n      '\\x60': '\\u00f4',  // ` -> 'o' circumflex\n\n      '\\x7b': '\\u00e9',  // { -> 'e' acute\n      '\\x7c': '\\u00f9',  // | -> 'u' grave\n      '\\x7d': '\\u00e8',  // } -> 'e' grave\n      '\\x7e': '\\u00fb',  // ~ -> 'u' circumflex\n    });\n\n/**\n * German character map.\n * http://vt100.net/docs/vt220-rm/table2-10.html\n */\nhterm.VT.CharacterMap.maps['K'] = new hterm.VT.CharacterMap(\n    'german', {\n      '\\x40': '\\u00a7',  // @ -> section symbol (double s)\n\n      '\\x5b': '\\u00c4',  // [ -> 'A' umlaut\n      '\\x5c': '\\u00d6',  // \\ -> 'O' umlaut\n      '\\x5d': '\\u00dc',  // ] -> 'U' umlaut\n\n      '\\x7b': '\\u00e4',  // { -> 'a' umlaut\n      '\\x7c': '\\u00f6',  // | -> 'o' umlaut\n      '\\x7d': '\\u00fc',  // } -> 'u' umlaut\n      '\\x7e': '\\u00df',  // ~ -> eszett\n    });\n\n/**\n * Italian character map.\n * http://vt100.net/docs/vt220-rm/table2-11.html\n */\nhterm.VT.CharacterMap.maps['Y'] = new hterm.VT.CharacterMap(\n    'italian', {\n      '\\x23': '\\u00a3',  // # -> british-pound\n\n      '\\x40': '\\u00a7',  // @ -> section symbol (double s)\n\n      '\\x5b': '\\u00b0',  // [ -> ring\n      '\\x5c': '\\u00e7',  // \\ -> 'c' cedilla\n      '\\x5d': '\\u00e9',  // ] -> 'e' acute\n\n      '\\x60': '\\u00f9',  // ` -> 'u' grave\n\n      '\\x7b': '\\u00e0',  // { -> 'a' grave\n      '\\x7c': '\\u00f2',  // | -> 'o' grave\n      '\\x7d': '\\u00e8',  // } -> 'e' grave\n      '\\x7e': '\\u00ec',  // ~ -> 'i' grave\n    });\n\n/**\n * Norwegian/Danish character map.\n * http://vt100.net/docs/vt220-rm/table2-12.html\n */\nhterm.VT.CharacterMap.maps['E'] =\nhterm.VT.CharacterMap.maps['6'] = new hterm.VT.CharacterMap(\n    'norwegian/danish', {\n      '\\x40': '\\u00c4',  // @ -> 'A' umlaut\n\n      '\\x5b': '\\u00c6',  // [ -> 'AE' ligature\n      '\\x5c': '\\u00d8',  // \\ -> 'O' stroke\n      '\\x5d': '\\u00c5',  // ] -> 'A' ring\n      '\\x5e': '\\u00dc',  // ^ -> 'U' umlaut\n\n      '\\x60': '\\u00e4',  // ` -> 'a' umlaut\n\n      '\\x7b': '\\u00e6',  // { -> 'ae' ligature\n      '\\x7c': '\\u00f8',  // | -> 'o' stroke\n      '\\x7d': '\\u00e5',  // } -> 'a' ring\n      '\\x7e': '\\u00fc',  // ~ -> 'u' umlaut\n    });\n\n/**\n * Spanish character map.\n * http://vt100.net/docs/vt220-rm/table2-13.html\n */\nhterm.VT.CharacterMap.maps['Z'] = new hterm.VT.CharacterMap(\n    'spanish', {\n      '\\x23': '\\u00a3',  // # -> british-pound\n\n      '\\x40': '\\u00a7',  // @ -> section symbol (double s)\n\n      '\\x5b': '\\u00a1',  // [ -> '!' inverted\n      '\\x5c': '\\u00d1',  // \\ -> 'N' tilde\n      '\\x5d': '\\u00bf',  // ] -> '?' inverted\n\n      '\\x7b': '\\u00b0',  // { -> ring\n      '\\x7c': '\\u00f1',  // | -> 'n' tilde\n      '\\x7d': '\\u00e7',  // } -> 'c' cedilla\n    });\n\n/**\n * Swedish character map.\n * http://vt100.net/docs/vt220-rm/table2-14.html\n */\nhterm.VT.CharacterMap.maps['7'] =\nhterm.VT.CharacterMap.maps['H'] = new hterm.VT.CharacterMap(\n    'swedish', {\n      '\\x40': '\\u00c9',  // @ -> 'E' acute\n\n      '\\x5b': '\\u00c4',  // [ -> 'A' umlaut\n      '\\x5c': '\\u00d6',  // \\ -> 'O' umlaut\n      '\\x5d': '\\u00c5',  // ] -> 'A' ring\n      '\\x5e': '\\u00dc',  // ^ -> 'U' umlaut\n\n      '\\x60': '\\u00e9',  // ` -> 'e' acute\n\n      '\\x7b': '\\u00e4',  // { -> 'a' umlaut\n      '\\x7c': '\\u00f6',  // | -> 'o' umlaut\n      '\\x7d': '\\u00e5',  // } -> 'a' ring\n      '\\x7e': '\\u00fc',  // ~ -> 'u' umlaut\n    });\n\n/**\n * Swiss character map.\n * http://vt100.net/docs/vt220-rm/table2-15.html\n */\nhterm.VT.CharacterMap.maps['='] = new hterm.VT.CharacterMap(\n    'swiss', {\n      '\\x23': '\\u00f9',  // # -> 'u' grave\n\n      '\\x40': '\\u00e0',  // @ -> 'a' grave\n\n      '\\x5b': '\\u00e9',  // [ -> 'e' acute\n      '\\x5c': '\\u00e7',  // \\ -> 'c' cedilla\n      '\\x5d': '\\u00ea',  // ] -> 'e' circumflex\n      '\\x5e': '\\u00ee',  // ^ -> 'i' circumflex\n      '\\x5f': '\\u00e8',  // _ -> 'e' grave\n\n      '\\x60': '\\u00f4',  // ` -> 'o' circumflex\n\n      '\\x7b': '\\u00e4',  // { -> 'a' umlaut\n      '\\x7c': '\\u00f6',  // | -> 'o' umlaut\n      '\\x7d': '\\u00fc',  // } -> 'u' umlaut\n      '\\x7e': '\\u00fb',  // ~ -> 'u' circumflex\n    });\nlib.resource.add('hterm/audio/bell', 'audio/ogg;base64',\n'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' +\n'zinmkFLKMeUcUko5p5xTzjkIHYTKMQadgxAppRxTzinHHITMQeWcg9BBKAAAIMABACDAQig0ZEUA' +\n'ECcA4HAkz5M0SxQlSxNFzxRl1xNN15U0zTQ1UVRVyxNV1VRV2xZNVbYlTRNNTfRUVRNFVRVV05ZN' +\n'VbVtzzRl2VRV3RZV1bZl2xZ+V5Z13zNNWRZV1dZNVbV115Z9X9ZtXZg0zTQ1UVRVTRRV1VRV2zZV' +\n'17Y1UXRVUVVlWVRVWXZlWfdVV9Z9SxRV1VNN2RVVVbZV2fVtVZZ94XRVXVdl2fdVWRZ+W9eF4fZ9' +\n'4RhV1dZN19V1VZZ9YdZlYbd13yhpmmlqoqiqmiiqqqmqtm2qrq1bouiqoqrKsmeqrqzKsq+rrmzr' +\n'miiqrqiqsiyqqiyrsqz7qizrtqiquq3KsrCbrqvrtu8LwyzrunCqrq6rsuz7qizruq3rxnHrujB8' +\n'pinLpqvquqm6um7runHMtm0co6rqvirLwrDKsu/rui+0dSFRVXXdlF3jV2VZ921fd55b94WybTu/' +\n'rfvKceu60vg5z28cubZtHLNuG7+t+8bzKz9hOI6lZ5q2baqqrZuqq+uybivDrOtCUVV9XZVl3zdd' +\n'WRdu3zeOW9eNoqrquirLvrDKsjHcxm8cuzAcXds2jlvXnbKtC31jyPcJz2vbxnH7OuP2daOvDAnH' +\n'jwAAgAEHAIAAE8pAoSErAoA4AQAGIecUUxAqxSB0EFLqIKRUMQYhc05KxRyUUEpqIZTUKsYgVI5J' +\n'yJyTEkpoKZTSUgehpVBKa6GU1lJrsabUYu0gpBZKaS2U0lpqqcbUWowRYxAy56RkzkkJpbQWSmkt' +\n'c05K56CkDkJKpaQUS0otVsxJyaCj0kFIqaQSU0mptVBKa6WkFktKMbYUW24x1hxKaS2kEltJKcYU' +\n'U20txpojxiBkzknJnJMSSmktlNJa5ZiUDkJKmYOSSkqtlZJSzJyT0kFIqYOOSkkptpJKTKGU1kpK' +\n'sYVSWmwx1pxSbDWU0lpJKcaSSmwtxlpbTLV1EFoLpbQWSmmttVZraq3GUEprJaUYS0qxtRZrbjHm' +\n'GkppraQSW0mpxRZbji3GmlNrNabWam4x5hpbbT3WmnNKrdbUUo0txppjbb3VmnvvIKQWSmktlNJi' +\n'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' +\n'm2L/kruPM6Q7oz4tvDQy+bZ3HzOi+gNHA4DZEgA=' +\n''\n);\n\nlib.resource.add('hterm/concat/date', 'text/plain',\n'Fri, 03 Apr 2015 09:02:15 +0000' +\n''\n);\n\nlib.resource.add('hterm/changelog/version', 'text/plain',\n'1.54' +\n''\n);\n\nlib.resource.add('hterm/changelog/date', 'text/plain',\n'2015-03-19' +\n''\n);\n\nlib.resource.add('hterm/git/HEAD', 'text/plain',\n'5db5b0ceefff97ce8b7a97edd3f5ba6857db54cf' +\n''\n);\nwindow.lib = lib;\nwindow.hterm = hterm;\nexport  { lib, hterm };\n\n\n// WEBPACK FOOTER //\n// ./src/libs/wetty/hterm_all.js","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.io=e():t.io=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p=\"\",e(0)}([function(t,e,r){\"use strict\";function n(t,e){\"object\"===(\"undefined\"==typeof t?\"undefined\":i(t))&&(e=t,t=void 0),e=e||{};var r,n=s(t),a=n.source,p=n.id,f=n.path,l=h[p]&&f in h[p].nsps,d=e.forceNew||e[\"force new connection\"]||!1===e.multiplex||l;return d?(u(\"ignoring socket cache for %s\",a),r=c(a,e)):(h[p]||(u(\"new io instance for %s\",a),h[p]=c(a,e)),r=h[p]),n.query&&!e.query?e.query=n.query:e&&\"object\"===i(e.query)&&(e.query=o(e.query)),r.socket(n.path,e)}function o(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(encodeURIComponent(r)+\"=\"+encodeURIComponent(t[r]));return e.join(\"&\")}var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},s=r(1),a=r(7),c=r(17),u=r(3)(\"socket.io-client\");t.exports=e=n;var h=e.managers={};e.protocol=a.protocol,e.connect=n,e.Manager=r(17),e.Socket=r(44)},function(t,e,r){(function(e){\"use strict\";function n(t,r){var n=t;r=r||e.location,null==t&&(t=r.protocol+\"//\"+r.host),\"string\"==typeof t&&(\"/\"===t.charAt(0)&&(t=\"/\"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\\/\\//.test(t)||(i(\"protocol-less url %s\",t),t=\"undefined\"!=typeof r?r.protocol+\"//\"+t:\"https://\"+t),i(\"parse %s\",t),n=o(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port=\"80\":/^(http|ws)s$/.test(n.protocol)&&(n.port=\"443\")),n.path=n.path||\"/\";var s=n.host.indexOf(\":\")!==-1,a=s?\"[\"+n.host+\"]\":n.host;return n.id=n.protocol+\"://\"+a+\":\"+n.port,n.href=n.protocol+\"://\"+a+(r&&r.port===n.port?\"\":\":\"+n.port),n}var o=r(2),i=r(3)(\"socket.io-client:url\");t.exports=n}).call(e,function(){return this}())},function(t,e){var r=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,n=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];t.exports=function(t){var e=t,o=t.indexOf(\"[\"),i=t.indexOf(\"]\");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,\";\")+t.substring(i,t.length));for(var s=r.exec(t||\"\"),a={},c=14;c--;)a[n[c]]=s[c]||\"\";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,\":\"),a.authority=a.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),a.ipv6uri=!0),a}},function(t,e,r){(function(n){function o(){return\"undefined\"!=typeof document&&\"WebkitAppearance\"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,r=this.useColors;if(t[0]=(r?\"%c\":\"\")+this.namespace+(r?\" %c\":\" \")+t[0]+(r?\"%c \":\" \")+\"+\"+e.humanize(this.diff),!r)return t;var n=\"color: \"+this.color;t=[t[0],n,\"color: inherit\"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){\"%%\"!==t&&(o++,\"%c\"===t&&(i=o))}),t.splice(i,0,n),t}function s(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem(\"debug\"):e.storage.debug=t}catch(t){}}function c(){try{return e.storage.debug}catch(t){}if(\"undefined\"!=typeof n&&\"env\"in n)return n.env.DEBUG}function u(){try{return window.localStorage}catch(t){}}e=t.exports=r(5),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage=\"undefined\"!=typeof chrome&&\"undefined\"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}},e.enable(c())}).call(e,r(4))},function(t,e){function r(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){y&&l&&(y=!1,l.length?d=l.concat(d):g=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(l=d,d=[];++g<e;)l&&l[g].run();g=-1,e=d.length}l=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var h,p,f=t.exports={};!function(){try{h=\"function\"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{p=\"function\"==typeof clearTimeout?clearTimeout:n}catch(t){p=n}}();var l,d=[],y=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title=\"browser\",f.browser=!0,f.env={},f.argv=[],f.version=\"\",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error(\"process.binding is not supported\")},f.cwd=function(){return\"/\"},f.chdir=function(t){throw new Error(\"process.chdir is not supported\")},f.umask=function(){return 0}},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),\"string\"!=typeof s[0]&&(s=[\"%o\"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if(\"%%\"===r)return r;c++;var o=e.formatters[n];if(\"function\"==typeof o){var i=s[c];r=o.call(t,i),s.splice(c,1),c--}return r}),s=e.formatArgs.apply(t,s);var h=o.log||e.log||console.log.bind(console);h.apply(t,s)}r.enabled=!1,o.enabled=!0;var i=e.enabled(t)?o:r;return i.namespace=t,i}function i(t){e.save(t);for(var r=(t||\"\").split(/[\\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/[\\\\^$+?.()|[\\]{}]/g,\"\\\\$&\").replace(/\\*/g,\".*?\"),\"-\"===t[0]?e.skips.push(new RegExp(\"^\"+t.substr(1)+\"$\")):e.names.push(new RegExp(\"^\"+t+\"$\")))}function s(){e.enable(\"\")}function a(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(6),e.names=[],e.skips=[],e.formatters={};var u,h=0},function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||\"ms\").toLowerCase();switch(n){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return r*h;case\"days\":case\"day\":case\"d\":return r*u;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return r*c;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return r*a;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return r*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return r;default:return}}}}function n(t){return t>=u?Math.round(t/u)+\"d\":t>=c?Math.round(t/c)+\"h\":t>=a?Math.round(t/a)+\"m\":t>=s?Math.round(t/s)+\"s\":t+\"ms\"}function o(t){return i(t,u,\"day\")||i(t,c,\"hour\")||i(t,a,\"minute\")||i(t,s,\"second\")||t+\" ms\"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+\" \"+r:Math.ceil(t/e)+\" \"+r+\"s\"}var s=1e3,a=60*s,c=60*a,u=24*c,h=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if(\"string\"===i&&t.length>0)return r(t);if(\"number\"===i&&isNaN(t)===!1)return e.long?o(t):n(t);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(t))}},function(t,e,r){function n(){}function o(t){var r=\"\",n=!1;return r+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(r+=t.attachments,r+=\"-\"),t.nsp&&\"/\"!=t.nsp&&(n=!0,r+=t.nsp),null!=t.id&&(n&&(r+=\",\",n=!1),r+=t.id),null!=t.data&&(n&&(r+=\",\"),r+=f.stringify(t.data)),p(\"encoded %j as %s\",t,r),r}function i(t,e){function r(t){var r=d.deconstructPacket(t),n=o(r.packet),i=r.buffers;i.unshift(n),e(i)}d.removeBlobs(t,r)}function s(){this.reconstructor=null}function a(t){var r={},n=0;if(r.type=Number(t.charAt(0)),null==e.types[r.type])return h();if(e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type){for(var o=\"\";\"-\"!=t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||\"-\"!=t.charAt(n))throw new Error(\"Illegal attachments\");r.attachments=Number(o)}if(\"/\"==t.charAt(n+1))for(r.nsp=\"\";++n;){var i=t.charAt(n);if(\",\"==i)break;if(r.nsp+=i,n==t.length)break}else r.nsp=\"/\";var s=t.charAt(n+1);if(\"\"!==s&&Number(s)==s){for(r.id=\"\";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(r.id+=t.charAt(n),n==t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),p(\"decoded %s as %j\",t,r),r}function c(t,e){try{t.data=f.parse(e)}catch(t){return h()}return t}function u(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:\"parser error\"}}var p=r(8)(\"socket.io-parser\"),f=r(11),l=r(13),d=r(14),y=r(16);e.protocol=4,e.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=n,e.Decoder=s,n.prototype.encode=function(t,r){if(p(\"encoding packet %j\",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)i(t,r);else{var n=o(t);r([n])}},l(s.prototype),s.prototype.add=function(t){var r;if(\"string\"==typeof t)r=a(t),e.BINARY_EVENT==r.type||e.BINARY_ACK==r.type?(this.reconstructor=new u(r),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",r)):this.emit(\"decoded\",r);else{if(!y(t)&&!t.base64)throw new Error(\"Unknown type: \"+t);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,this.emit(\"decoded\",r))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){function n(){return\"WebkitAppearance\"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,r=this.useColors;if(t[0]=(r?\"%c\":\"\")+this.namespace+(r?\" %c\":\" \")+t[0]+(r?\"%c \":\" \")+\"+\"+e.humanize(this.diff),!r)return t;var n=\"color: \"+this.color;t=[t[0],n,\"color: inherit\"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){\"%%\"!==t&&(o++,\"%c\"===t&&(i=o))}),t.splice(i,0,n),t}function i(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem(\"debug\"):e.storage.debug=t}catch(t){}}function a(){var t;try{t=e.storage.debug}catch(t){}return t}function c(){try{return window.localStorage}catch(t){}}e=t.exports=r(9),e.log=i,e.formatArgs=o,e.save=s,e.load=a,e.useColors=n,e.storage=\"undefined\"!=typeof chrome&&\"undefined\"!=typeof chrome.storage?chrome.storage.local:c(),e.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(a())},function(t,e,r){function n(){return e.colors[h++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),\"string\"!=typeof s[0]&&(s=[\"%o\"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if(\"%%\"===r)return r;a++;var o=e.formatters[n];if(\"function\"==typeof o){var i=s[a];r=o.call(t,i),s.splice(a,1),a--}return r}),\"function\"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s));var c=o.log||e.log||console.log.bind(console);c.apply(t,s)}r.enabled=!1,o.enabled=!0;var i=e.enabled(t)?o:r;return i.namespace=t,i}function i(t){e.save(t);for(var r=(t||\"\").split(/[\\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/\\*/g,\".*?\"),\"-\"===t[0]?e.skips.push(new RegExp(\"^\"+t.substr(1)+\"$\")):e.names.push(new RegExp(\"^\"+t+\"$\")))}function s(){e.enable(\"\")}function a(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(10),e.names=[],e.skips=[],e.formatters={};var u,h=0},function(t,e){function r(t){if(t=\"\"+t,!(t.length>1e4)){var e=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||\"ms\").toLowerCase();switch(n){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return r*h;case\"days\":case\"day\":case\"d\":return r*u;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return r*c;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return r*a;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return r*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return r}}}}function n(t){return t>=u?Math.round(t/u)+\"d\":t>=c?Math.round(t/c)+\"h\":t>=a?Math.round(t/a)+\"m\":t>=s?Math.round(t/s)+\"s\":t+\"ms\"}function o(t){return i(t,u,\"day\")||i(t,c,\"hour\")||i(t,a,\"minute\")||i(t,s,\"second\")||t+\" ms\"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+\" \"+r:Math.ceil(t/e)+\" \"+r+\"s\"}var s=1e3,a=60*s,c=60*a,u=24*c,h=365.25*u;t.exports=function(t,e){return e=e||{},\"string\"==typeof t?r(t):e.long?o(t):n(t)}},function(t,e,r){(function(t,r){var n=!1;(function(){function o(t,e){function r(t){if(r[t]!==g)return r[t];var o;if(\"bug-string-char-index\"==t)o=\"a\"!=\"a\"[0];else if(\"json\"==t)o=r(\"json-stringify\")&&r(\"json-parse\");else{var s,a='{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';if(\"json-stringify\"==t){var c=e.stringify,h=\"function\"==typeof c&&b;if(h){(s=function(){return 1}).toJSON=s;try{h=\"0\"===c(0)&&\"0\"===c(new n)&&'\"\"'==c(new i)&&c(v)===g&&c(g)===g&&c()===g&&\"1\"===c(s)&&\"[1]\"==c([s])&&\"[null]\"==c([g])&&\"null\"==c(null)&&\"[null,null,null]\"==c([g,v,null])&&c({a:[s,!0,!1,null,\"\\0\\b\\n\\f\\r\\t\"]})==a&&\"1\"===c(null,s)&&\"[\\n 1,\\n 2\\n]\"==c([1,2],null,1)&&'\"-271821-04-20T00:00:00.000Z\"'==c(new u(-864e13))&&'\"+275760-09-13T00:00:00.000Z\"'==c(new u(864e13))&&'\"-000001-01-01T00:00:00.000Z\"'==c(new u(-621987552e5))&&'\"1969-12-31T23:59:59.999Z\"'==c(new u(-1))}catch(t){h=!1}}o=h}if(\"json-parse\"==t){var p=e.parse;if(\"function\"==typeof p)try{if(0===p(\"0\")&&!p(!1)){s=p(a);var f=5==s.a.length&&1===s.a[0];if(f){try{f=!p('\"\\t\"')}catch(t){}if(f)try{f=1!==p(\"01\")}catch(t){}if(f)try{f=1!==p(\"1.\")}catch(t){}}}}catch(t){f=!1}o=f}}return r[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,i=t.String||c.String,a=t.Object||c.Object,u=t.Date||c.Date,h=t.SyntaxError||c.SyntaxError,p=t.TypeError||c.TypeError,f=t.Math||c.Math,l=t.JSON||c.JSON;\"object\"==typeof l&&l&&(e.stringify=l.stringify,e.parse=l.parse);var d,y,g,m=a.prototype,v=m.toString,b=new u(-0xc782b5b800cec);try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(t){}if(!r(\"json\")){var w=\"[object Function]\",k=\"[object Date]\",x=\"[object Number]\",A=\"[object String]\",C=\"[object Array]\",B=\"[object Boolean]\",S=r(\"bug-string-char-index\");if(!b)var T=f.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(t,e){return E[e]+365*(t-1970)+T((t-1969+(e=+(e>1)))/4)-T((t-1901+e)/100)+T((t-1601+e)/400)};if((d=m.hasOwnProperty)||(d=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=v?d=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,d=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,d.call(this,t)}),y=function(t,e){var r,n,o,i=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r;for(o in n)d.call(n,o)&&i++;return r=n=null,i?y=2==i?function(t,e){var r,n={},o=v.call(t)==w;for(r in t)o&&\"prototype\"==r||d.call(n,r)||!(n[r]=1)||!d.call(t,r)||e(r)}:function(t,e){var r,n,o=v.call(t)==w;for(r in t)o&&\"prototype\"==r||!d.call(t,r)||(n=\"constructor\"===r)||e(r);(n||d.call(t,r=\"constructor\"))&&e(r)}:(n=[\"valueOf\",\"toString\",\"toLocaleString\",\"propertyIsEnumerable\",\"isPrototypeOf\",\"hasOwnProperty\",\"constructor\"],y=function(t,e){var r,o,i=v.call(t)==w,a=!i&&\"function\"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(r in t)i&&\"prototype\"==r||!a.call(t,r)||e(r);for(o=n.length;r=n[--o];a.call(t,r)&&e(r));}),y(t,e)},!r(\"json-stringify\")){var N={92:\"\\\\\\\\\",34:'\\\\\"',8:\"\\\\b\",12:\"\\\\f\",10:\"\\\\n\",13:\"\\\\r\",9:\"\\\\t\"},j=\"000000\",O=function(t,e){return(j+(e||0)).slice(-t)},P=\"\\\\u00\",R=function(t){for(var e='\"',r=0,n=t.length,o=!S||n>10,i=o&&(S?t.split(\"\"):t);r<n;r++){var s=t.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=N[s];break;default:if(s<32){e+=P+O(2,s.toString(16));break}e+=o?i[r]:t.charAt(r)}}return e+'\"'},D=function(t,e,r,n,o,i,s){var a,c,u,h,f,l,m,b,w,S,E,N,j,P,q,U;try{a=e[t]}catch(t){}if(\"object\"==typeof a&&a)if(c=v.call(a),c!=k||d.call(a,\"toJSON\"))\"function\"==typeof a.toJSON&&(c!=x&&c!=A&&c!=C||d.call(a,\"toJSON\"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(_){for(f=T(a/864e5),u=T(f/365.2425)+1970-1;_(u+1,0)<=f;u++);for(h=T((f-_(u,0))/30.42);_(u,h+1)<=f;h++);f=1+f-_(u,h),l=(a%864e5+864e5)%864e5,m=T(l/36e5)%24,b=T(l/6e4)%60,w=T(l/1e3)%60,S=l%1e3}else u=a.getUTCFullYear(),h=a.getUTCMonth(),f=a.getUTCDate(),m=a.getUTCHours(),b=a.getUTCMinutes(),w=a.getUTCSeconds(),S=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?\"-\":\"+\")+O(6,u<0?-u:u):O(4,u))+\"-\"+O(2,h+1)+\"-\"+O(2,f)+\"T\"+O(2,m)+\":\"+O(2,b)+\":\"+O(2,w)+\".\"+O(3,S)+\"Z\"}else a=null;if(r&&(a=r.call(e,t,a)),null===a)return\"null\";if(c=v.call(a),c==B)return\"\"+a;if(c==x)return a>-1/0&&a<1/0?\"\"+a:\"null\";if(c==A)return R(\"\"+a);if(\"object\"==typeof a){for(P=s.length;P--;)if(s[P]===a)throw p();if(s.push(a),E=[],q=i,i+=o,c==C){for(j=0,P=a.length;j<P;j++)N=D(j,a,r,n,o,i,s),E.push(N===g?\"null\":N);U=E.length?o?\"[\\n\"+i+E.join(\",\\n\"+i)+\"\\n\"+q+\"]\":\"[\"+E.join(\",\")+\"]\":\"[]\"}else y(n||a,function(t){var e=D(t,a,r,n,o,i,s);e!==g&&E.push(R(t)+\":\"+(o?\" \":\"\")+e)}),U=E.length?o?\"{\\n\"+i+E.join(\",\\n\"+i)+\"\\n\"+q+\"}\":\"{\"+E.join(\",\")+\"}\":\"{}\";return s.pop(),U}};e.stringify=function(t,e,r){var n,o,i,a;if(s[typeof e]&&e)if((a=v.call(e))==w)o=e;else if(a==C){i={};for(var c,u=0,h=e.length;u<h;c=e[u++],a=v.call(c),(a==A||a==x)&&(i[c]=1));}if(r)if((a=v.call(r))==x){if((r-=r%1)>0)for(n=\"\",r>10&&(r=10);n.length<r;n+=\" \");}else a==A&&(n=r.length<=10?r:r.slice(0,10));return D(\"\",(c={},c[\"\"]=t,c),o,i,n,\"\",[])}}if(!r(\"json-parse\")){var q,U,M=i.fromCharCode,L={92:\"\\\\\",34:'\"',47:\"/\",98:\"\\b\",116:\"\\t\",110:\"\\n\",102:\"\\f\",114:\"\\r\"},I=function(){throw q=U=null,h()},H=function(){for(var t,e,r,n,o,i=U,s=i.length;q<s;)switch(o=i.charCodeAt(q)){case 9:case 10:case 13:case 32:q++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=S?i.charAt(q):i[q],q++,t;case 34:for(t=\"@\",q++;q<s;)if(o=i.charCodeAt(q),o<32)I();else if(92==o)switch(o=i.charCodeAt(++q)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[o],q++;break;case 117:for(e=++q,r=q+4;q<r;q++)o=i.charCodeAt(q),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||I();t+=M(\"0x\"+i.slice(e,q));break;default:I()}else{if(34==o)break;for(o=i.charCodeAt(q),e=q;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++q);t+=i.slice(e,q)}if(34==i.charCodeAt(q))return q++,t;I();default:if(e=q,45==o&&(n=!0,o=i.charCodeAt(++q)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(q+1),o>=48&&o<=57)&&I(),n=!1;q<s&&(o=i.charCodeAt(q),o>=48&&o<=57);q++);if(46==i.charCodeAt(q)){for(r=++q;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==q&&I(),q=r}if(o=i.charCodeAt(q),101==o||69==o){for(o=i.charCodeAt(++q),43!=o&&45!=o||q++,r=q;r<s&&(o=i.charCodeAt(r),o>=48&&o<=57);r++);r==q&&I(),q=r}return+i.slice(e,q)}if(n&&I(),\"true\"==i.slice(q,q+4))return q+=4,!0;if(\"false\"==i.slice(q,q+5))return q+=5,!1;if(\"null\"==i.slice(q,q+4))return q+=4,null;I()}return\"$\"},z=function(t){var e,r;if(\"$\"==t&&I(),\"string\"==typeof t){if(\"@\"==(S?t.charAt(0):t[0]))return t.slice(1);if(\"[\"==t){for(e=[];t=H(),\"]\"!=t;r||(r=!0))r&&(\",\"==t?(t=H(),\"]\"==t&&I()):I()),\",\"==t&&I(),e.push(z(t));return e}if(\"{\"==t){for(e={};t=H(),\"}\"!=t;r||(r=!0))r&&(\",\"==t?(t=H(),\"}\"==t&&I()):I()),\",\"!=t&&\"string\"==typeof t&&\"@\"==(S?t.charAt(0):t[0])&&\":\"==H()||I(),e[t.slice(1)]=z(H());return e}I()}return t},J=function(t,e,r){var n=X(t,e,r);n===g?delete t[e]:t[e]=n},X=function(t,e,r){var n,o=t[e];if(\"object\"==typeof o&&o)if(v.call(o)==C)for(n=o.length;n--;)J(o,n,r);else y(o,function(t){J(o,t,r)});return r.call(t,e,o)};e.parse=function(t,e){var r,n;return q=0,U=\"\"+t,r=z(H()),\"$\"!=H()&&I(),q=U=null,e&&v.call(e)==w?X((n={},n[\"\"]=r,n),\"\",e):r}}}return e.runInContext=o,e}var i=\"function\"==typeof n&&n.amd,s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&\"object\"==typeof r&&r;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!i)o(c,a);else{var h=c.JSON,p=c.JSON3,f=!1,l=o(c,c.JSON3={noConflict:function(){return f||(f=!0,c.JSON=h,c.JSON3=p,h=p=null),l}});c.JSON={parse:l.parse,stringify:l.stringify}}i&&n(function(){return l})}).call(this)}).call(e,r(12)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function r(t){if(t)return n(t)}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){(function(t){var n=r(15),o=r(16);e.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:r.length};return r.push(t),i}if(n(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a]);return s}if(\"object\"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var r=[],i=t.data,s=t;return s.data=e(i),s.attachments=r.length,{packet:s,buffers:r}},e.reconstructPacket=function(t,e){function r(t){if(t&&t._placeholder){var o=e[t.num];return o}if(n(t)){for(var i=0;i<t.length;i++)t[i]=r(t[i]);return t}if(t&&\"object\"==typeof t){for(var s in t)t[s]=r(t[s]);return t}return t}return t.data=r(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,r){function i(e,c,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var h=new FileReader;h.onload=function(){u?u[c]=this.result:a=this.result,--s||r(a)},h.readAsArrayBuffer(e)}else if(n(e))for(var p=0;p<e.length;p++)i(e[p],p,e);else if(e&&\"object\"==typeof e&&!o(e))for(var f in e)i(e[f],f,e)}var s=0,a=e;i(a),s||r(a)}}).call(e,function(){return this}())},function(t,e){t.exports=Array.isArray||function(t){return\"[object Array]\"==Object.prototype.toString.call(t)}},function(t,e){(function(e){function r(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=r}).call(e,function(){return this}())},function(t,e,r){\"use strict\";function n(t,e){return this instanceof n?(t&&\"object\"===(\"undefined\"==typeof t?\"undefined\":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState=\"closed\",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(t,e)}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=r(18),s=r(44),a=r(35),c=r(7),u=r(46),h=r(47),p=r(3)(\"socket.io-client:manager\"),f=r(42),l=r(48),d=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},n.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},a(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(t,e){if(p(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;p(\"opening %s\",this.uri),this.engine=i(this.uri,this.opts);var r=this.engine,n=this;this.readyState=\"opening\",this.skipReconnect=!1;var o=u(r,\"open\",function(){n.onopen(),t&&t()}),s=u(r,\"error\",function(e){if(p(\"connect_error\"),n.cleanup(),n.readyState=\"closed\",n.emitAll(\"connect_error\",e),t){var r=new Error(\"Connection error\");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;p(\"connect attempt will timeout after %d\",a);var c=setTimeout(function(){p(\"connect attempt timed out after %d\",a),o.destroy(),r.close(),r.emit(\"error\",\"timeout\"),n.emitAll(\"connect_timeout\",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},n.prototype.onopen=function(){p(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var t=this.engine;this.subs.push(u(t,\"data\",h(this,\"ondata\"))),this.subs.push(u(t,\"ping\",h(this,\"onping\"))),this.subs.push(u(t,\"pong\",h(this,\"onpong\"))),this.subs.push(u(t,\"error\",h(this,\"onerror\"))),this.subs.push(u(t,\"close\",h(this,\"onclose\"))),this.subs.push(u(this.decoder,\"decoded\",h(this,\"ondecoded\")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},n.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit(\"packet\",t)},n.prototype.onerror=function(t){p(\"error\",t),this.emitAll(\"error\",t)},n.prototype.socket=function(t,e){function r(){~f(o.connecting,n)||o.connecting.push(n)}var n=this.nsps[t];if(!n){n=new s(this,t,e),this.nsps[t]=n;var o=this;n.on(\"connecting\",r),n.on(\"connect\",function(){n.id=o.engine.id}),this.autoConnect&&r()}return n},n.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},n.prototype.packet=function(t){p(\"writing packet %j\",t);var e=this;t.query&&0===t.type&&(t.nsp+=\"?\"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){p(\"cleanup\");for(var t=this.subs.length,e=0;e<t;e++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){p(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},n.prototype.onclose=function(t){p(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)p(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var e=this.backoff.duration();p(\"will wait %dms before reconnect attempt\",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(p(\"attempting reconnect\"),t.emitAll(\"reconnect_attempt\",t.backoff.attempts),t.emitAll(\"reconnecting\",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(p(\"reconnect attempt error\"),t.reconnecting=!1,t.reconnect(),t.emitAll(\"reconnect_error\",e.data)):(p(\"reconnect success\"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},n.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",t)}},function(t,e,r){t.exports=r(19)},function(t,e,r){t.exports=r(20),t.exports.parser=r(27)},function(t,e,r){(function(e){function n(t,r){if(!(this instanceof n))return new n(t,r);r=r||{},t&&\"object\"==typeof t&&(r=t,t=null),t?(t=h(t),r.hostname=t.host,r.secure=\"https\"===t.protocol||\"wss\"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=h(r.host).host),\nthis.secure=null!=r.secure?r.secure:e.location&&\"https:\"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?\"443\":\"80\"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:\"localhost\"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},\"string\"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||\"t\",this.timestampRequests=r.timestampRequests,this.transports=r.transports||[\"polling\",\"websocket\"],this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized,this.forceNode=!!r.forceNode;var o=\"object\"==typeof e&&e;o.global===o&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var i=r(21),s=r(35),a=r(3)(\"engine.io-client:socket\"),c=r(42),u=r(27),h=r(2),p=r(43),f=r(36);t.exports=n,n.priorWebsocketSuccess=!1,s(n.prototype),n.protocol=u.protocol,n.Socket=n,n.Transport=r(26),n.transports=r(21),n.parser=r(27),n.prototype.createTransport=function(t){a('creating transport \"%s\"',t);var e=o(this.query);e.EIO=u.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new i[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return r},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf(\"websocket\")!==-1)t=\"websocket\";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit(\"error\",\"No transports available\")},0)}t=this.transports[0]}this.readyState=\"opening\";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){a(\"setting transport %s\",t.name);var e=this;this.transport&&(a(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on(\"drain\",function(){e.onDrain()}).on(\"packet\",function(t){e.onPacket(t)}).on(\"error\",function(t){e.onError(t)}).on(\"close\",function(){e.onClose(\"transport close\")})},n.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;p=p||e}p||(a('probe transport \"%s\" opened',t),h.send([{type:\"ping\",data:\"probe\"}]),h.once(\"packet\",function(e){if(!p)if(\"pong\"===e.type&&\"probe\"===e.data){if(a('probe transport \"%s\" pong',t),f.upgrading=!0,f.emit(\"upgrading\",h),!h)return;n.priorWebsocketSuccess=\"websocket\"===h.name,a('pausing current transport \"%s\"',f.transport.name),f.transport.pause(function(){p||\"closed\"!==f.readyState&&(a(\"changing transport and sending upgrade packet\"),u(),f.setTransport(h),h.send([{type:\"upgrade\"}]),f.emit(\"upgrade\",h),h=null,f.upgrading=!1,f.flush())})}else{a('probe transport \"%s\" failed',t);var r=new Error(\"probe error\");r.transport=h.name,f.emit(\"upgradeError\",r)}}))}function r(){p||(p=!0,u(),h.close(),h=null)}function o(e){var n=new Error(\"probe error: \"+e);n.transport=h.name,r(),a('probe transport \"%s\" failed because of error: %s',t,e),f.emit(\"upgradeError\",n)}function i(){o(\"transport closed\")}function s(){o(\"socket closed\")}function c(t){h&&t.name!==h.name&&(a('\"%s\" works - aborting \"%s\"',t.name,h.name),r())}function u(){h.removeListener(\"open\",e),h.removeListener(\"error\",o),h.removeListener(\"close\",i),f.removeListener(\"close\",s),f.removeListener(\"upgrading\",c)}a('probing transport \"%s\"',t);var h=this.createTransport(t,{probe:1}),p=!1,f=this;n.priorWebsocketSuccess=!1,h.once(\"open\",e),h.once(\"error\",o),h.once(\"close\",i),this.once(\"close\",s),this.once(\"upgrading\",c),h.open()},n.prototype.onOpen=function(){if(a(\"socket open\"),this.readyState=\"open\",n.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.upgrade&&this.transport.pause){a(\"starting upgrade probes\");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(a('socket receive: type \"%s\", data \"%s\"',t.type,t.data),this.emit(\"packet\",t),this.emit(\"heartbeat\"),t.type){case\"open\":this.onHandshake(p(t.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var e=new Error(\"server error\");e.code=t.data,this.onError(e);break;case\"message\":this.emit(\"data\",t.data),this.emit(\"message\",t.data)}else a('packet received with socket readyState \"%s\"',this.readyState)},n.prototype.onHandshake=function(t){this.emit(\"handshake\",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){\"closed\"!==e.readyState&&e.onClose(\"ping timeout\")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a(\"writing ping packet - expecting pong within %sms\",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket(\"ping\",function(){t.emit(\"ping\")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},n.prototype.flush=function(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket(\"message\",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if(\"function\"==typeof e&&(n=e,e=void 0),\"function\"==typeof r&&(n=r,r=null),\"closing\"!==this.readyState&&\"closed\"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit(\"packetCreate\",o),this.writeBuffer.push(o),n&&this.once(\"flush\",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose(\"forced close\"),a(\"socket closing - telling transport to close\"),n.transport.close()}function e(){n.removeListener(\"upgrade\",e),n.removeListener(\"upgradeError\",e),t()}function r(){n.once(\"upgrade\",e),n.once(\"upgradeError\",e)}if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var n=this;this.writeBuffer.length?this.once(\"drain\",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){a(\"socket error %j\",t),n.priorWebsocketSuccess=!1,this.emit(\"error\",t),this.onClose(\"transport error\",t)},n.prototype.onClose=function(t,e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){a('socket close with reason: \"%s\"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~c(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,function(){return this}())},function(t,e,r){(function(t){function n(e){var r,n=!1,a=!1,c=!1!==e.jsonp;if(t.location){var u=\"https:\"===location.protocol,h=location.port;h||(h=u?443:80),n=e.hostname!==location.hostname||h!==e.port,a=e.secure!==u}if(e.xdomain=n,e.xscheme=a,r=new o(e),\"open\"in r&&!e.forceJSONP)return new i(e);if(!c)throw new Error(\"JSONP disabled\");return new s(e)}var o=r(22),i=r(24),s=r(39),a=r(40);e.polling=n,e.websocket=a}).call(e,function(){return this}())},function(t,e,r){(function(e){var n=r(23);t.exports=function(t){var r=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if(\"undefined\"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if(\"undefined\"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(t){}if(!r)try{return new(e[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\")}catch(t){}}}).call(e,function(){return this}())},function(t,e){try{t.exports=\"undefined\"!=typeof XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,r){(function(e){function n(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var r=\"https:\"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}else this.extraHeaders=t.extraHeaders}function i(t){this.method=t.method||\"GET\",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=r(22),c=r(25),u=r(35),h=r(37),p=r(3)(\"engine.io-client:polling-xhr\");t.exports=o,t.exports.Request=i,h(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var r=\"string\"!=typeof t&&void 0!==t,n=this.request({method:\"POST\",data:t,isBinary:r}),o=this;n.on(\"success\",e),n.on(\"error\",function(t){o.onError(\"xhr post error\",t)}),this.sendXhr=n},o.prototype.doPoll=function(){p(\"xhr poll\");var t=this.request(),e=this;t.on(\"data\",function(t){e.onData(t)}),t.on(\"error\",function(t){e.onError(\"xhr poll error\",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new a(t),n=this;try{p(\"xhr open %s: %s\",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}}catch(t){}if(this.supportsBinary&&(r.responseType=\"arraybuffer\"),\"POST\"===this.method)try{this.isBinary?r.setRequestHeader(\"Content-type\",\"application/octet-stream\"):r.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}catch(t){}try{r.setRequestHeader(\"Accept\",\"*/*\")}catch(t){}\"withCredentials\"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?n.onLoad():setTimeout(function(){n.onError(r.status)},0))},p(\"xhr data %s\",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},i.prototype.onData=function(t){this.emit(\"data\",t),this.onSuccess()},i.prototype.onError=function(t){this.emit(\"error\",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(\"undefined\"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(t){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader(\"Content-Type\").split(\";\")[0]}catch(t){}if(\"application/octet-stream\"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var r=new Uint8Array(this.xhr.response),n=[],o=0,i=r.length;o<i;o++)n.push(r[o]);t=String.fromCharCode.apply(null,n)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return\"undefined\"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent(\"onunload\",s):e.addEventListener&&e.addEventListener(\"beforeunload\",s,!1))}).call(e,function(){return this}())},function(t,e,r){function n(t){var e=t&&t.forceBase64;h&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=r(26),i=r(36),s=r(27),a=r(37),c=r(38),u=r(3)(\"engine.io-client:polling\");t.exports=n;var h=function(){var t=r(22),e=new t({xdomain:!1});return null!=e.responseType}();a(n,o),n.prototype.name=\"polling\",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){u(\"paused\"),r.readyState=\"paused\",t()}var r=this;if(this.readyState=\"pausing\",this.polling||!this.writable){var n=0;this.polling&&(u(\"we are currently polling - waiting to pause\"),n++,this.once(\"pollComplete\",function(){u(\"pre-pause polling complete\"),--n||e()})),this.writable||(u(\"we are currently writing - waiting to pause\"),n++,this.once(\"drain\",function(){u(\"pre-pause writing complete\"),--n||e()}))}else e()},n.prototype.poll=function(){u(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},n.prototype.onData=function(t){var e=this;u(\"polling got data %s\",t);var r=function(t,r,n){return\"opening\"===e.readyState&&e.onOpen(),\"close\"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,r),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():u('ignoring poll - transport state \"%s\"',this.readyState))},n.prototype.doClose=function(){function t(){u(\"writing close packet\"),e.write([{type:\"close\"}])}var e=this;\"open\"===this.readyState?(u(\"transport open - closing\"),t()):(u(\"transport not open - deferring close\"),this.once(\"open\",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit(\"drain\")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?\"https\":\"http\",r=\"\";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&(\"https\"===e&&443!==Number(this.port)||\"http\"===e&&80!==Number(this.port))&&(r=\":\"+this.port),t.length&&(t=\"?\"+t);var n=this.hostname.indexOf(\":\")!==-1;return e+\"://\"+(n?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+t}},function(t,e,r){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState=\"\",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=r(27),i=r(35);t.exports=n,i(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type=\"TransportError\",r.description=e,this.emit(\"error\",r),this},n.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},n.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(t)},n.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit(\"packet\",t)},n.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},function(t,e,r){(function(t){function n(t,r){var n=\"b\"+e.packets[t.type]+t.data.data;return r(n)}function o(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return n(s.buffer)}function i(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,r,!0,n)},o.readAsArrayBuffer(t.data)}function s(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(m)return i(t,r,n);var o=new Uint8Array(1);o[0]=v[t.type];var s=new k([o.buffer,t.data]);return n(s)}function a(t){try{t=d.decode(t)}catch(t){return!1}return t}function c(t,e,r){for(var n=new Array(t.length),o=l(t.length,r),i=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},s=0;s<t.length;s++)i(s,t[s],o)}var u,h=r(28),p=r(29),f=r(30),l=r(31),d=r(32);t&&t.ArrayBuffer&&(u=r(33));var y=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),g=\"undefined\"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=y||g;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=h(v),w={type:\"error\",data:\"parser error\"},k=r(34);e.encodePacket=function(e,r,i,a){\"function\"==typeof r&&(a=r,r=!1),\"function\"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,r,a);if(k&&c instanceof t.Blob)return s(e,r,a);if(c&&c.base64)return n(e,a);var u=v[e.type];return void 0!==e.data&&(u+=i?d.encode(String(e.data)):String(e.data)),a(\"\"+u)},e.encodeBase64Packet=function(r,n){var o=\"b\"+e.packets[r.type];if(k&&r.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(\",\")[1];n(o+t)},i.readAsDataURL(r.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var a=new Uint8Array(r.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),n(o)},e.decodePacket=function(t,r,n){if(void 0===t)return w;if(\"string\"==typeof t){if(\"b\"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&(t=a(t),t===!1))return w;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(t),o=i[0],s=f(t,1);return k&&\"blob\"===r&&(s=new k([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var r=b[t.charAt(0)];if(!u)return{type:r,data:{base64:!0,data:t.substr(1)}};var n=u.decode(t.substr(1));return\"blob\"===e&&k&&(n=new k([n])),{type:r,data:n}},e.encodePayload=function(t,r,n){function o(t){return t.length+\":\"+t}function i(t,n){e.encodePacket(t,!!s&&r,!0,function(t){n(null,o(t))})}\"function\"==typeof r&&(n=r,r=null);var s=p(t);return r&&s?k&&!m?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,i,function(t,e){return n(e.join(\"\"))}):n(\"0:\")},e.decodePayload=function(t,r,n){if(\"string\"!=typeof t)return e.decodePayloadAsBinary(t,r,n);\"function\"==typeof r&&(n=r,r=null);var o;if(\"\"==t)return n(w,0,1);for(var i,s,a=\"\",c=0,u=t.length;c<u;c++){var h=t.charAt(c);if(\":\"!=h)a+=h;else{if(\"\"==a||a!=(i=Number(a)))return n(w,0,1);if(s=t.substr(c+1,i),a!=s.length)return n(w,0,1);if(s.length){if(o=e.decodePacket(s,r,!0),w.type==o.type&&w.data==o.data)return n(w,0,1);var p=n(o,c+i,u);if(!1===p)return}c+=i,a=\"\"}}return\"\"!=a?n(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void c(t,n,function(t,e){var n=e.reduce(function(t,e){var r;return r=\"string\"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),i=0;return e.forEach(function(t){var e=\"string\"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?o[i++]=0:o[i++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)o[i++]=n[s]}),r(o.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,\"string\"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,k){var c=new k([e.buffer,a.buffer,t]);r(null,c)}})}c(t,n,function(t,e){return r(new k(e))})},e.decodePayloadAsBinary=function(t,r,n){\"function\"==typeof r&&(n=r,r=null);for(var o=t,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],u=\"\",h=1;255!=a[h];h++){if(u.length>310){s=!0;break}u+=a[h]}if(s)return n(w,0,1);o=f(o,2+u.length),u=parseInt(u);var p=f(o,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var l=new Uint8Array(p);p=\"\";for(var h=0;h<l.length;h++)p+=String.fromCharCode(l[h])}i.push(p),o=f(o,u)}var d=i.length;i.forEach(function(t,o){n(e.decodePacket(t,r,!0),o,d)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){(function(e){function n(t){function r(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(o(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return!0}else if(t&&\"object\"==typeof t){t.toJSON&&\"function\"==typeof t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&r(t[i]))return!0}return!1}return r(t)}var o=r(15);t.exports=n}).call(e,function(){return this}())},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function r(t,e,r){function o(t,n){if(o.count<=0)throw new Error(\"after called too many times\");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}var i=!1;return r=r||n,o.count=t,0===t?e():o}function n(){}t.exports=r},function(t,e,r){var n;(function(t,o){!function(i){function s(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function a(t){for(var e,r=t.length,n=-1,o=\"\";++n<r;)e=t[n],e>65535&&(e-=65536,o+=b(e>>>10&1023|55296),e=56320|1023&e),o+=b(e);return o}function c(t,e){return b(t>>e&63|128)}function u(t){if(0==(4294967168&t))return b(t);var e=\"\";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(e=b(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=b(63&t|128)}function h(t){for(var e,r=s(t),n=r.length,o=-1,i=\"\";++o<n;)e=r[o],i+=u(e);return i}function p(){if(v>=m)throw Error(\"Invalid byte index\");var t=255&g[v];if(v++,128==(192&t))return 63&t;throw Error(\"Invalid continuation byte\")}function f(){var t,e,r,n,o;if(v>m)throw Error(\"Invalid byte index\");if(v==m)return!1;if(t=255&g[v],v++,0==(128&t))return t;if(192==(224&t)){var e=p();if(o=(31&t)<<6|e,o>=128)return o;throw Error(\"Invalid continuation byte\")}if(224==(240&t)){if(e=p(),r=p(),o=(15&t)<<12|e<<6|r,o>=2048)return o;throw Error(\"Invalid continuation byte\")}if(240==(248&t)&&(e=p(),r=p(),n=p(),o=(15&t)<<18|e<<12|r<<6|n,o>=65536&&o<=1114111))return o;throw Error(\"Invalid WTF-8 detected\")}function l(t){g=s(t),m=g.length,v=0;for(var e,r=[];(e=f())!==!1;)r.push(e);return a(r)}var d=\"object\"==typeof e&&e,y=(\"object\"==typeof t&&t&&t.exports==d&&t,\"object\"==typeof o&&o);y.global!==y&&y.window!==y||(i=y);var g,m,v,b=String.fromCharCode,w={version:\"1.0.0\",encode:h,decode:l};n=function(){return w}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(12)(t),function(){return this}())},function(t,e){!function(){\"use strict\";for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i=\"\";for(r=0;r<o;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+\"=\":o%3===1&&(i=i.substring(0,i.length-2)+\"==\"),i},e.decode=function(t){var e,n,o,i,s,a=.75*t.length,c=t.length,u=0;\"=\"===t[t.length-1]&&(a--,\"=\"===t[t.length-2]&&a--);var h=new ArrayBuffer(a),p=new Uint8Array(h);for(e=0;e<c;e+=4)n=r[t.charCodeAt(e)],o=r[t.charCodeAt(e+1)],i=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],p[u++]=n<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&s;return h}}()},function(t,e){(function(e){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new i;r(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return r(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob([\"hi\"]);return 2===t.size}catch(t){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?n:void 0}()}).call(e,function(){return this}())},function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+t]=this._callbacks[\"$\"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[\"$\"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[\"$\"+t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){e.encode=function(t){var e=\"\";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+=\"&\"),e+=encodeURIComponent(r)+\"=\"+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split(\"&\"),n=0,o=r.length;n<o;n++){var i=r[n].split(\"=\");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){\"use strict\";function r(t){var e=\"\";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(h=0;h<t.length;h++)e=e*a+c[t.charAt(h)];return e}function o(){var t=r(+new Date);return t!==i?(u=0,i=t):t+\".\"+r(u++)}for(var i,s=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),a=64,c={},u=0,h=0;h<a;h++)c[s[h]]=h;o.encode=r,o.decode=n,t.exports=o},function(t,e,r){(function(e){function n(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var r=this;a.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener(\"beforeunload\",function(){r.script&&(r.script.onerror=n)},!1)}var i=r(25),s=r(37);t.exports=o;var a,c=/\\n/g,u=/\\\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError(\"jsonp poll error\",e)};var r=document.getElementsByTagName(\"script\")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n=\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement(\"iframe\");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError(\"jsonp polling iframe removal error\",t)}try{var t='<iframe src=\"javascript:0\" name=\"'+o.iframeId+'\">';i=document.createElement(t)}catch(t){i=document.createElement(\"iframe\"),i.name=o.iframeId,i.src=\"javascript:0\"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement(\"form\"),a=document.createElement(\"textarea\"),h=this.iframeId=\"eio_iframe_\"+this.index;s.className=\"socketio\",s.style.position=\"absolute\",s.style.top=\"-1000px\",s.style.left=\"-1000px\",s.target=h,s.method=\"POST\",s.setAttribute(\"accept-charset\",\"utf-8\"),a.name=\"d\",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),t=t.replace(u,\"\\\\\\n\"),this.area.value=t.replace(c,\"\\\\n\");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"===o.iframe.readyState&&r();\n}:this.iframe.onload=r}}).call(e,function(){return this}())},function(t,e,r){(function(e){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=p&&!t.forceNode,this.usingBrowserWebSocket||(f=o),i.call(this,t)}var o,i=r(26),s=r(27),a=r(36),c=r(37),u=r(38),h=r(3)(\"engine.io-client:websocket\"),p=e.WebSocket||e.MozWebSocket;if(\"undefined\"==typeof window)try{o=r(41)}catch(t){}var f=p;f||\"undefined\"!=typeof window||(f=o),t.exports=n,c(n,i),n.prototype.name=\"websocket\",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(t):new f(t,e,r)}catch(t){return this.emit(\"error\",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError(\"websocket error\",e)}},n.prototype.write=function(t){function r(){n.emit(\"flush\"),setTimeout(function(){n.writable=!0,n.emit(\"drain\")},0)}var n=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate){var a=\"string\"==typeof i?e.Buffer.byteLength(i):i.length;a<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,s)}catch(t){h(\"websocket closed before onclose event\")}--o||r()})}(t[i])},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){\"undefined\"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?\"wss\":\"ws\",r=\"\";this.port&&(\"wss\"===e&&443!==Number(this.port)||\"ws\"===e&&80!==Number(this.port))&&(r=\":\"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t=\"?\"+t);var n=this.hostname.indexOf(\":\")!==-1;return e+\"://\"+(n?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!f||\"__initialize\"in f&&this.name===n.prototype.name)}}).call(e,function(){return this}())},function(t,e){},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){(function(e){var r=/^[\\],:{}\\s]*$/,n=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,i=/(?:^|:|,)(?:\\s*\\[)+/g,s=/^\\s+/,a=/\\s+$/;t.exports=function(t){return\"string\"==typeof t&&t?(t=t.replace(s,\"\").replace(a,\"\"),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,\"@\").replace(o,\"]\").replace(i,\"\"))?new Function(\"return \"+t)():void 0):null}}).call(e,function(){return this}())},function(t,e,r){\"use strict\";function n(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var o=r(7),i=r(35),s=r(45),a=r(46),c=r(47),u=r(3)(\"socket.io-client:socket\"),h=r(29);t.exports=e=n;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;i(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,\"open\",c(this,\"onopen\")),a(t,\"packet\",c(this,\"onpacket\")),a(t,\"close\",c(this,\"onclose\"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\"),this)},n.prototype.send=function(){var t=s(arguments);return t.unshift(\"message\"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(p.hasOwnProperty(t))return f.apply(this,arguments),this;var e=s(arguments),r=o.EVENT;h(e)&&(r=o.BINARY_EVENT);var n={type:r,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof e[e.length-1]&&(u(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){u(\"transport is open - connecting\"),\"/\"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},n.prototype.onclose=function(t){u(\"close (%s)\",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",t)},n.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(t);break;case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:this.onack(t);break;case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit(\"error\",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];u(\"emitting event %j\",e),null!=t.id&&(u(\"attaching ack callback to event\"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var n=s(arguments);u(\"sending ack %j\",n);var i=h(n)?o.BINARY_ACK:o.ACK;e.packet({type:i,id:t,data:n})}}},n.prototype.onack=function(t){var e=this.acks[t.id];\"function\"==typeof e?(u(\"calling ack %s with %j\",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u(\"bad ack %s\",t.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){u(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(u(\"performing disconnect (%s)\",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},n.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function r(t,e){var r=[];e=e||0;for(var n=e||0;n<t.length;n++)r[n-e]=t[n];return r}t.exports=r},function(t,e){\"use strict\";function r(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}t.exports=r},function(t,e){var r=[].slice;t.exports=function(t,e){if(\"string\"==typeof e&&(e=t[e]),\"function\"!=typeof e)throw new Error(\"bind() requires a function\");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}}])});\n\n\n// WEBPACK FOOTER //\n// ./src/libs/wetty/socket.io.js","import { lib, hterm } from './hterm_all.js'\nimport io from './socket.io.js'\nvar term;\nvar socket = io('127.0.0.1:3000', {path: '/wetty/socket.io'});\nvar buf = '';\nfunction Wetty(argv) {\n    this.argv_ = argv;\n    this.io = null;\n    this.pid_ = -1;\n}\n\nWetty.prototype.run = function() {\n    this.io = this.argv_.io.push();\n\n    this.io.onVTKeystroke = this.sendString_.bind(this);\n    this.io.sendString = this.sendString_.bind(this);\n    this.io.onTerminalResize = this.onTerminalResize.bind(this);\n}\n\nWetty.prototype.sendString_ = function(str) {\n    socket.emit('input', str);\n};\n\nWetty.prototype.onTerminalResize = function(col, row) {\n    socket.emit('resize', { col: col, row: row });\n};\nfunction initSocket() {\n    socket.on('connect', function() {\n        lib.init(function() {\n            hterm.defaultStorage = new lib.Storage.Local();\n            term = new hterm.Terminal();\n            window.term = term;\n            term.decorate(document.getElementById('terminal'));\n\n            term.setCursorPosition(0, 0);\n            term.setCursorVisible(true);\n            term.prefs_.set('ctrl-c-copy', true);\n            term.prefs_.set('ctrl-v-paste', true);\n            term.prefs_.set('use-default-window-copy', true);\n\n            term.runCommandClass(Wetty, document.location.hash.substr(1));\n            socket.emit('resize', {\n                col: term.screenSize.width,\n                row: term.screenSize.height\n            });\n\n            if (buf && buf != '')\n            {\n                term.io.writeUTF16(buf);\n                buf = '';\n            }\n        });\n    });\n\n    socket.on('output', function(data) {\n        if (!term) {\n            buf += data;\n            return;\n        }\n        term.io.writeUTF16(data);\n    });\n\n    socket.on('disconnect', function() {\n        console.log(\"Socket.io connection closed\");\n    });\n}\nexport default initSocket\n\n\n// WEBPACK FOOTER //\n// ./src/libs/wetty/wetty.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/._vue-style-loader@1.0.0@vue-style-loader!./~/._css-loader@0.23.1@css-loader!./~/._vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-4591c7c3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/._autoprefixer-loader@2.1.0@autoprefixer-loader!./~/._less-loader@2.2.3@less-loader!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/cmd.vue\n// module id = 56\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"terminal\",\n    attrs: {\n      \"id\": \"terminal\"\n    }\n  })])\n}]}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-4591c7c3\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-4591c7c3\"}!./~/._vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/cmd.vue\n// module id = 62\n// module chunks = 1"],"sourceRoot":""}